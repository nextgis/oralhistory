{"version":3,"sources":["webpack:///./src/components/ShowMoreField/ShowMoreField.vue?07a6","webpack:///./src/components/ShowMoreField/ShowMoreField.vue?d4b8","webpack:///./src/components/Table/Table.vue?0c36","webpack:///./src/components/Table/Table.vue?0397","webpack:///./src/components/List/List.vue?9866","webpack:///./src/components/List/List.vue?c582","webpack:///./src/components/NgwMap/NgwMap.vue?2ea8","webpack:///./src/components/NgwMap/NgwMap.vue?da67","webpack:///./src/components/ItemsFilter/ItemsFilter.vue?a7bb","webpack:///./src/components/ItemsFilter/ItemsFilter.vue?63ab","webpack:///./src/components/Detail/Detail.vue?4eb6","webpack:///./src/components/Detail/Detail.vue?cce1","webpack:///./src/components/DrawerContainer/DrawerContainer.vue?3b1d","webpack:///./src/components/DrawerContainer/DrawerContainer.vue?ef77","webpack:///./src/components/NgwMap/controls/Panel.vue?9dd0","webpack:///./src/components/NgwMap/controls/Panel.vue?ee6b","webpack:///./src/Main.vue?691f","webpack:///./src/Main.vue?664d","webpack:///./src/App.vue?126f","webpack:///./src/App.vue?46ec","webpack:///./nextgisweb_frontend/packages/ngw-connector/src/utils.ts","webpack:///./nextgisweb_frontend/packages/ngw-connector/src/index.ts","webpack:///./src/api/ngw.ts","webpack:///./src/store/modules/bd_main.ts","webpack:///./src/store/modules/app.ts","webpack:///./src/store/index.ts","webpack:///./src/App.vue?4d14","webpack:///./src/components/NextGIS/About.vue?ba22","webpack:///./src/components/NextGIS/About.vue?6ee7","webpack:///./src/components/NextGIS/About.ts","webpack:///./src/components/NextGIS/About.vue","webpack:///./src/components/Table/Table.vue?8e73","webpack:///./src/components/ShowMoreField/ShowMoreField.vue?1361","webpack:///./src/components/ShowMoreField/ShowMoreField.vue?d671","webpack:///./src/components/ShowMoreField/ShowMoreField.ts","webpack:///./src/components/ShowMoreField/ShowMoreField.vue","webpack:///./src/components/Table/Table.vue?7235","webpack:///./src/components/Table/Table.ts","webpack:///./src/components/Table/Table.vue","webpack:///./src/Main.vue?28a0","webpack:///./src/components/List/List.vue?8e53","webpack:///./src/components/List/List.vue?26f3","webpack:///./src/components/List/List.ts","webpack:///./src/components/List/List.vue","webpack:///./src/components/NgwMap/NgwMap.vue?8f18","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/layer-adapters/BaseAdapter.ts","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/layer-adapters/TileAdapter.ts","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/layer-adapters/GeoJsonAdapter.ts","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/controls/Attribution.ts","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/layer-adapters/ImageAdapter.ts","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/controls/createControl.ts","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/LeafletMapAdapter.ts","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/index.ts","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/controls/createButtonControl.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/components/entry/TreeUtil.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/components/entry/TreeHelper.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/components/entry/properties/BaseProperty.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/components/entry/properties/CheckProperty.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/components/entry/properties/EntryProperties.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/components/entry/Entry.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/WebLayerEntry.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/components/keys/KeysCodes.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/components/keys/Keys.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/utils/lang.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/index.ts","webpack:///./nextgisweb_frontend/packages/webmap/src/WebMap.ts","webpack:///./nextgisweb_frontend/packages/qms-kit/src/index.ts","webpack:///./nextgisweb_frontend/packages/ngw-kit/src/index.ts","webpack:///./nextgisweb_frontend/packages/icons/src/index.ts","webpack:///./nextgisweb_frontend/packages/ngw-map/src/decorators.ts","webpack:///./nextgisweb_frontend/packages/ngw-map/src/utils.ts","webpack:///./nextgisweb_frontend/packages/ngw-map/src/index.ts","webpack:///./src/components/NgwMap/NgwMap.vue?8bbe","webpack:///./src/components/NgwMap/NgwMap.ts","webpack:///./src/components/NgwMap/NgwMap.vue","webpack:///./src/components/ItemsFilter/ItemsFilter.vue?0bf8","webpack:///./src/components/ItemsFilter/ItemsFilter.vue?c8b5","webpack:///./src/components/ItemsFilter/ItemsFilter.ts","webpack:///./src/components/ItemsFilter/ItemsFilter.vue","webpack:///./src/components/Detail/Detail.vue?ee2e","webpack:///./src/components/Detail/Detail.vue?31c3","webpack:///./src/components/Detail/Detail.ts","webpack:///./src/components/Detail/Detail.vue","webpack:///./src/components/DrawerContainer/DrawerContainer.vue?dee7","webpack:///./src/components/DrawerContainer/DrawerContainer.vue?0b97","webpack:///./src/components/DrawerContainer/DrawerContainer.ts","webpack:///./src/components/DrawerContainer/DrawerContainer.vue","webpack:///./src/components/NgwMap/controls/Panel.vue?43be","webpack:///./src/components/NgwMap/controls/utils/propsBinder.ts","webpack:///./src/components/NgwMap/controls/utils/optionsUtils.ts","webpack:///./src/components/NgwMap/controls/mixins/Control.ts","webpack:///./src/components/NgwMap/controls/PanelControl.ts","webpack:///./src/components/NgwMap/controls/Panel.vue?c1e4","webpack:///./src/components/NgwMap/controls/Panel.ts","webpack:///./src/components/NgwMap/controls/utils/findRealParent.ts","webpack:///./src/components/NgwMap/controls/Panel.vue","webpack:///./src/Main.vue?4f76","webpack:///./src/Main.ts","webpack:///./src/store/utils/throttle.ts","webpack:///./src/Main.vue","webpack:///./src/App.vue?3799","webpack:///./src/App.ts","webpack:///./src/App.vue","webpack:///./src/index.ts","webpack:///./src/components/NextGIS/About.vue?5f9c","webpack:///./src/components/ShowMoreField/ShowMoreField.vue?a9f6","webpack:///./src/components/Table/Table.vue?7f54","webpack:///./src/components/List/List.vue?27a8","webpack:///./src/components/NgwMap/NgwMap.vue?b0c2","webpack:///./src/components/ItemsFilter/ItemsFilter.vue?99ac","webpack:///./src/components/Detail/Detail.vue?5831","webpack:///./src/components/DrawerContainer/DrawerContainer.vue?cd80","webpack:///./src/components/NgwMap/controls/Panel.vue?b2c5","webpack:///./src/Main.vue?cd22","webpack:///./src/App.vue?13e8","webpack:///./nextgisweb_frontend/packages/leaflet-map-adapter/src/layer-adapters/wms.js","webpack:///./nextgisweb_frontend/packages/ngw-connector/src/polyfills.js","webpack:///./src/components/NextGIS/About.vue?8cda","webpack:///./src/components/NextGIS/About.vue?1cf2"],"names":["_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ShowMoreField_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","module","exports","push","i","version","sources","names","mappings","file","sourceRoot","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Table_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","sourcesContent","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_List_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_NgwMap_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_ItemsFilter_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Detail_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_DrawerContainer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Panel_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_Main_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","templateRe","template","str","data","replace","s","key","value","undefined","Error","OPTIONS","route","NgwConnector","options","this","emitter","events","_loadingQueue","_loadingStatus","__assign","prototype","connect","Promise","resolve","auth","_a","login","password","getUserInfo","_b","sent","makeQuery","then","_this","credentials","headers","getAuthorizationHeaders","user","emit","catch","er","Authorization","makeClientId","window","btoa","unescape","encodeURIComponent","request","name","params","apiItems","a","hasOwnProperty","apiItem","slice","url","shift","length","replaceParams","fry","arg","paramArray","p","indexOf","join","post","method","nocache","get","baseUrl","_getJson","_executeLoadingQueue","reject","_setLoadingQueue","waiting","timestamp","Date","isError","queue","wait","callback","error","xhr","XMLHttpRequest","open","processingResponce","forError","cb","responseText","JSON","parse","message","onreadystatechange","readyState","status","onerror","upload","onprogress","e","lengthComputable","percentComplete","loaded","total","onProgress","h","setRequestHeader","withCredentials","FormData","append","d","stringify","send","loadJSON","ngw_url","location","protocol","config","connector","src","ngw","id","features","forEach","x","properties","Number","map","text","noHide","type","bd_main","namespaced","state","items","photos","meta","filtered","detailItem","getters","rootState","sortFeatures","sort","b","toUpperCase","actions","getAllItems","commit","getPhotos","setFilter","detail","find","setDetail","item","mutations","setItems","setMeta","setPhotos","app","drawer","page","center","listSearchText","showDrawer","hideDrawer","setListSearchText","toggleDrawer","setPage","zoomTo","setCenter","vue_esm","use","vuex_esm","store","Store","modules","bdMain","strict","render","_vm","_h","$createElement","_c","_self","_v","attrs","fullscreen","scrollable","transition","staticClass","dark","color","icon","nativeOn","click","$event","solo-inverted","flat","hide-details","label","prepend-inner-icon","model","tableSearch","$$v","expression","search","paginationSync","_e","pagination","pages","total-visible","$set","_withStripped","Aboutvue_type_template_id_5e667ffc_render","align-center","justify-center","column","fill-height","on","openNextGIS","staticStyle","enable-background","xmlns","xmlns:xlink","y","viewBox","xml:space","Aboutvue_type_script_lang_ts_","_super","About","__extends","href","__decorate","vue_class_component_common_default","component","Object","componentNormalizer","installComponents_default","VApp","VLayout","__file","NextGIS_About","Tablevue_type_template_id_647119ad_render","hide-actions","update:pagination","scopedSlots","_u","fn","props","bottom","slot","_s","header","_l","charCount","ShowMoreFieldvue_type_template_id_051b4be1_render","String","toShow","onClick","expand","ShowMoreFieldvue_type_script_lang_ts_","ShowMoreField","apply","arguments","ShowMoreField_extends","defineProperty","ShowMoreField_decorate","vue_property_decorator","default","ShowMoreField_component","components_ShowMoreField_ShowMoreField","Tablevue_type_script_lang_ts_","Table","rowsPerPage","Table_extends","$store","setPagination","Table_decorate","components","Table_component","VDataTable","VTooltip","components_Table_Table","Mainvue_type_template_id_3ffae6b2_render","zoom","position","fab","small","class","active","large","stateless","fixed","width","justify-space-between","solo","clearable","indeterminate","absolute","right","Listvue_type_template_id_87fbdfe2_render","dense","portion","title","ripple","style","displayItems","addPortion","Listvue_type_script_lang_ts_","List","portionCount","List_extends","mounted","watch","_items","resetPortions","getDisplayItems","filter","toLowerCase","dispatch","portionsLength","itemsLength","addLength","len","List_decorate","List_component","VBtn","VIcon","VList","VListTile","VListTileAction","VListTileContent","components_VList","VListTileTitle","components_List_List","NgwMapvue_type_template_id_7098f862_render","ready","_t","ID","BaseAdapter","BaseAdapter_assign","onLayerClick","addLayer","TileAdapter_ID","TileAdapter_TileAdapter","TileAdapter","TileAdapter_extends","opt","__rest","leaflet_src","GeoJsonAdapter_ID","typeAlias","Point","LineString","MultiPoint","Polygon","MultiLineString","MultiPolygon","PAINT","stroke","fillOpacity","backAliases","GeoJsonAdapter_a","GeoJsonAdapter_GeoJsonAdapter","GeoJsonAdapter","layer","selected","_layers","_selectedLayers","GeoJsonAdapter_extends","paint","selectedPaint","detectedType","geojson","geometry","featuresTypes","f","findMostFrequentGeomType","geometryTypes","geometries","g","detectType","geometryFilter","allow","filterGeometries","getGeoJsonOptions","select","findFeatureFun","_selectLayer","setPaintEachLayer","unselect","_unselectLayer","getSelected","feature","fun","_map","remove","removeLayer","addTo","getLayers","create","visible","eachLayer","l","setPaint","marker","divIcon","createDivIcon","setIcon","setStyle","preparePaint","path","opacity","lopt","pointToLayer","latLng","iconOpt","createPaintToLayer","GeoJsonAdapter_assign","createPaintOptions","onEachFeature","selectable","_onLayerClick","stopPropagation","target","isSelected","unselectOnSecondClick","adapter","multiselect","index","splice","toLIconOpt","GeoJsonAdapter_rest","className","geoJsonPoint","latlng","iconClassName","html","paintOptions","geoJsonOptions","arr","maxName","counts","c","AttributionControl","call","customAttribution","concat","addAttribution","Attribution_extends","Attribution","ImageAdapter_ID","ImageAdapter_ImageAdapter","ImageAdapter","updateWmsParamsFromOpt","ImageAdapter_assign","transparent","updateWmsParams","wms_default","overlay","updateWmsParams_1","wmsParams","createControl","control","extend","onAdd","element","document","createElement","content","classList","add","bar","appendChild","onRemove","leaflet_map_adapter_src","LeafletMapAdapter","layerAdapters","displayProjection","lonlatProjection","assign","zoomControl","attributionControl","_addMapListeners","getContainer","onMapLoad","once","lngLat","lng","lat","setView","getZoom","setZoom","fit","fitBounds","getLayerAdapter","createButtonControl","link","setAttribute","disableClickPropagation","stop","HTMLElement","innerHTML","addEventListener","parent","parentNode","removeChild","removeEventListener","addControl","controlDef","engine","controlAdapters","showLayer","hideLayer","setLayerOpacity","layerName","setLayerOrder","order","layers","baseLayers","orderedLayers","keys","baseLayer","bringToBack","onMap","bringToFront","setZIndex","onMapClick","evt","coord","containerPoint","pixel","left","top","source","IMAGE","TILE","GEOJSON","ZOOM","Zoom","ATTRIBUTION","filterIn","entry","filterFunc","relationFunc","_filtered","child","Array","isArray","relChild","TreeHelper_TreeHelper","TreeHelper","_children","setParent","_parent","addChildren","children","getParent","getParents","tree","getDescendants","getChildren","BaseProperty_BaseProperty","BaseProperty","_value","getProperty","isGroup","isBlocked","_blocked","parents","parentProp","property","set","_prepareValue","update","_fireChangeEvent","getValue","_callOnSet","_container","destroy","_removeEventsListener","onSet","prop","CheckProperty","CheckProperty_extends","bubble","unBlock","parent_1","propagation","_turnOn","_turnOff","_propagation","getHierarchyValue","every","turnOff","hierarchy","blockChilds","turnOn","unblockChilds","block","_block","_unBlock","_blockChild","bind","_unBlockChild","childs","CheckProperty_assign","EntryProperties_EntryProperties","EntryProperties","propertiesList","_properties","_propertiesList","_setPropertyHandler","propOpt","handlers","handler","EntryProperties_assign","list","Entry_ID","Entry_Entry","Entry","initProperties","WebLayerEntry","webMap","initItem","WebLayerEntry_extends","newLayer","_layer","item_type","reverse","layer_adapter","WebLayerEntry_assign","layer_enabled","console","log","KeyCodes","Keys_Keys","Keys","keyCodeAlias","_windowOnFocus","windowOnFocus","_keysPressed","keysPressed","_keysReleased","keysReleased","addKeyboardEventsListener","pressed","keyName","code","removeKeyboardEventsListener","keyCode","toString","webmap_src","WebMap","appOptions","DPI","IPM","settingsIsLoading","_baseLayers","_layersIds","mapAdapter","_starterKits","starterKits","_addEventsListeners","deepmerge","mergeArray","array","dst","settings","getSettings","er_1","_setupMap","onLoad","removeListener","_i","kit","setting","er_2","mapAdapterOnLoad","addBaseLayer","provider","WebMap_assign","isBaseLayer","getLayerAdapters","getLayer","isLayerOnTheMap","layerMem","layerAdapter","baselayer","adapterEngine","layerId","layerOpts","toggleLayer","getScaleForResolution","res","mpu","parseFloat","getResolutionForScale","scale","action","requestGeomString","pixelRadius","selectLayer","unSelectLayer","filterLayer","extent_bottom","extent_left","extent_top","extent_right","_extent","extent","_addTreeLayers","_addLayerProviders","_zoomToInitialExtent","rootLayer","root_item","er_3","__asyncValues","_d","adapters","adapters_1","adapters_1_1","createAdapter","newAdapter","er_4","ev","_onMapClick","QmsKit","src_assign","webmap","_createAdapter","getQmsServices","src_loadJSON","alias","tms","m","qmsid","service","webMapAdapter","attribution","copyright_text","xmlHttp","src_fixUrlStr","ngw_kit_src","NgwKit","ngw_kit_src_assign","resourceId","getLayerAdapterOptions","isImageAllowed","addNgwLayer","_updateItemsParams","sendIdentifyRequest","geom","layer_style_id","srs","resp","ngw_kit_src_fixUrlStr","resource","bbox","size","height","now","svgPath","brill","circle","rect","cross","star","triangle","plus","minus","asterisk","STROKE","src_OPTIONS","shape","strokeColor","getIcon","icons_src_assign","anchor","pathAlias","svg","DOMParser","parseFromString","documentElement","insertSvg","fistChild","firstChild","transform","iconSize","iconAnchor","XMLSerializer","serializeToString","event","propertyKey","descriptor","originalMethod","args","self","_resolve","origin","_eventsStatus","utils_fixUrlStr","utils_findMostFrequentGeomType","epsg","EPSG:3857","src_typeAlias","ngw_map_src","NgwMap","controls","controlsOptions","geoJsonDefaultPaint","radius","weight","_ngwLayers","utils_deepmerge","kits","qms_kit_src","webmapId","_createWebMap","_addControls","bounds","adapterOptions","geojsonAdapterCb","toWgs84","_updateGeojsonAdapterOptions","addGeoJsonLayer","laodFunction","Adapter","utils_extends","utils_assign","zoomToLayer","cls","_fitNgwLayerExtend","geomType","detectGeometryType","ngw_map_src_assign","maxLat","maxLon","minLat","minLon","_emitStatusEvent","qmsId","controlOptions","src_rest","utils","fixUrlStr","decorators","reproject","src_decorate","NgwMapvue_type_script_lang_ts_","mapOptions","markers","NgwMap_extends","$el","createWebMap","addMarkers","zoomToFiltered","invalidateSize","setSelected","NgwMap_assign","mapObject","findFirsVueParent","firstVueParent","found","$parent","collection","coordinates","dist_leaflet_src","SphericalMercator","unproject","some","getHistoryIcon","getBounds","getCenter","getLatLng","featureGroup","featureStyles","водоем","ландшафт","памятник","строение","улица","зона","населенный пункт","район","другой","метро","метро-2","другие подземные объекты","featureType","styleId","NgwMap_decorate","NgwMap_component","components_NgwMap_NgwMap","ItemsFiltervue_type_template_id_39e05881_render","ref","form","areas","no-data-text","change","updateFilter","rayon","ItemsFiltervue_type_script_lang_ts_","ItemsFilter","years","minYear","maxYear","moscow","param","ItemsFilter_extends","updateFilterAreas","ItemsFilter_decorate","ItemsFilter_component","VAutocomplete","VForm","components_ItemsFilter_ItemsFilter","Detailvue_type_template_id_0f60746f_render","photo","dialog","bigImgSrc","link_big","link_small","content-class","contain","more","tag","getText","domProps","needMore","Detailvue_type_script_lang_ts_","Detail","Story","Detail_extends","id_obj","id1","split","trim","links_1","nar_codes","Detail_decorate","Detail_component","VDialog","VImg","VListTileSubTitle","components_Detail_Detail","DrawerContainervue_type_template_id_42acd271_render","hasHeaderSlot","hasFooterSlot","DrawerContainervue_type_script_lang_ts_","DrawerContainer","DrawerContainer_extends","hasSlot","$slots","$scopedSlots","DrawerContainer_decorate","DrawerContainer_component","VDivider","VFooter","VToolbar","VToolbarTitle","components_VToolbar","components_DrawerContainer_DrawerContainer","Panelvue_type_template_id_90301248_render","collectionCleaner","result","Control","beforeDestroy","PanelControl_PanelControl","PanelControl","_header","_body","_createContainer","setElement","el","removeFrom","updateBody","_cleanBody","hide","show","addClass","headerText","_createHeader","_createBody","Panelvue_type_script_lang_ts_","mixins","parentContainer","findRealParent","instance","constructor","optionsUtils_assign","defaultProps","$options","def","Symbol","warn","optionsMerger","vueElement","leafletElement","setMethodName","charAt","deepValue","custom","$watch","newVal","oldVal","deep","propsBinder_assign","propsBinder","Panel_component","Panel","Mainvue_type_script_lang_ts_","Main","Main_extends","throtleSave","time","context","lock","wrapperFn","later","setTimeout","created","Main_decorate","MapControl","Main_component","VContent","VItemGroup","VNavigationDrawer","VProgressCircular","VTextField","src_Main","Appvue_type_script_lang_ts_","App","App_extends","totalItems","Math","ceil","App_decorate","MainComponent","TableComponent","AboutComponent","App_component","VCard","VPagination","VSpacer","VGrid","VToolbarItems","src_App","lib","$mount","package_0","locals","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","L","wms","obj","Source","Layer","untiled","identify","initialize","setOptions","tiled","_url","_subLayers","_overlay","createOverlay","overlayOptions","tileLayer","refreshOverlay","getEvents","setOpacity","isBack","addSubLayer","removeSubLayer","subLayers","setParams","getIdentifyLayers","getFeatureInfo","showFeatureInfo","point","getFeatureInfoParams","Util","getParamString","showWaiting","ajax","hideWaiting","parseFeatureInfo","identifyLayers","infoParams","query_layers","X","round","Y","info","openPopup","cursor","getSourceForUrl","_source","_name","TileLayer","WMS","Overlay","defaultWmsParams","styles","format","crs","uppercase","minZoom","maxZoom","opts","getAttribution","_currentOverlay","_currentUrl","moveend","getImageUrl","imageOverlay","zIndex","getSize","wmsVersion","projectionKey","nw","project","getNorthWest","se","getSouthEast","CRS","EPSG4326","pstr","setImmediate","global","t","TypeError","_state","_handled","_deferreds","u","o","_immediateFn","onFulfilled","onRejected","promise","r","_unhandledRejectionFn","all","race","_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_ref_7_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_7_2_node_modules_vuetify_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_About_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"main-1f5af7e.js","sourcesContent":["import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowMoreField.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowMoreField.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"ShowMoreField.vue?vue&type=style&index=0&lang=scss&\",\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.v-table__overflow {\\n  overflow-x: inherit;\\n  overflow-y: inherit;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"C:/Users/rendr/nextgis/oralhistory/src/components/Table/C:/Users/rendr/nextgis/oralhistory/src/components/Table/Table.vue\"],\"names\":[],\"mappings\":\";AAkCA;EACE,oBAAmB;EACnB,oBAAmB;CACpB\",\"file\":\"Table.vue?vue&type=style&index=0&lang=scss&\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n\\r\\n.v-table__overflow {\\r\\n  overflow-x: inherit;\\r\\n  overflow-y: inherit;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"List.vue?vue&type=style&index=0&lang=scss&\",\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NgwMap.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NgwMap.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n#map, .map-container {\\n  position: relative;\\n  top: 0;\\n  bottom: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 10;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"C:/Users/rendr/nextgis/oralhistory/src/components/NgwMap/C:/Users/rendr/nextgis/oralhistory/src/components/NgwMap/NgwMap.vue\"],\"names\":[],\"mappings\":\";AAWA;EACE,mBAAkB;EAClB,OAAM;EACN,UAAS;EACT,YAAW;EACX,aAAY;EACZ,YAAW;CACZ\",\"file\":\"NgwMap.vue?vue&type=style&index=0&lang=scss&\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n#map, .map-container {\\n  position: relative;\\n  top: 0;\\n  bottom: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 10;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsFilter.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsFilter.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"ItemsFilter.vue?vue&type=style&index=0&lang=scss&\",\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.detail-prop-list .v-list__tile {\\n  height: auto !important;\\n}\\n.show-photo-card .v-card__text {\\n  padding: 0;\\n}\\n.photo-dialog {\\n  box-shadow: none;\\n  max-height: 100% !important;\\n  margin: 0 !important;\\n}\\n.close-img-dialog-btn {\\n  position: absolute !important;\\n  right: 0;\\n  z-index: 500;\\n  overflow: visible;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"C:/Users/rendr/nextgis/oralhistory/src/components/Detail/C:/Users/rendr/nextgis/oralhistory/src/components/Detail/Detail.vue\"],\"names\":[],\"mappings\":\";AA2DA;EACE,wBAAsB;CACvB;AAED;EACE,WAAU;CACX;AAED;EACE,iBAAgB;EAChB,4BAA2B;EAC3B,qBAAoB;CACrB;AAED;EACE,8BAA6B;EAC7B,SAAQ;EACR,aAAY;EACZ,kBAAiB;CAClB\",\"file\":\"Detail.vue?vue&type=style&index=0&lang=scss&\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n\\r\\n.detail-prop-list .v-list__tile {\\r\\n  height: auto!important;\\r\\n}\\r\\n\\r\\n.show-photo-card .v-card__text {\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\n.photo-dialog {\\r\\n  box-shadow: none;\\r\\n  max-height: 100% !important;\\r\\n  margin: 0 !important;\\r\\n}\\r\\n\\r\\n.close-img-dialog-btn {\\r\\n  position: absolute !important;\\r\\n  right: 0;\\r\\n  z-index: 500;\\r\\n  overflow: visible;\\r\\n}\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawerContainer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawerContainer.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.drawer-container {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.drawer-titlebar {\\n  flex-shrink: 0;\\n}\\n.drawer-content {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n.drawer-title {\\n  width: 100%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"C:/Users/rendr/nextgis/oralhistory/src/components/DrawerContainer/C:/Users/rendr/nextgis/oralhistory/src/components/DrawerContainer/DrawerContainer.vue\"],\"names\":[],\"mappings\":\";AA4BA;EACE,YAAW;EACX,aAAY;EACZ,cAAa;EACb,uBAAsB;CACvB;AAED;EAEE,eAAc;CACf;AAED;EACE,aAAY;EACZ,iBAAgB;EAChB,mBAAkB;CACnB;AAED;EACE,YACF;CAAC\",\"file\":\"DrawerContainer.vue?vue&type=style&index=0&lang=scss&\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.drawer-container {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.drawer-titlebar {\\n  // height: 35px;\\n  flex-shrink: 0;\\n}\\n\\n.drawer-content {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n\\n.drawer-title {\\n  width: 100%\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"Panel.vue?vue&type=style&index=0&lang=scss&\",\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../node_modules/vue-style-loader/index.js!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.drawe-icon.active {\\n  -webkit-transform: rotate(-180deg);\\n  transform: rotate(-180deg);\\n}\\n.bottom-button {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-around;\\n}\\n.bottom-button .v-btn {\\n    flex-grow: 1;\\n    margin: 0;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"C:/Users/rendr/nextgis/oralhistory/src/C:/Users/rendr/nextgis/oralhistory/src/Main.vue\"],\"names\":[],\"mappings\":\";AA+HA;EAEI,mCAAkC;EAClC,2BAA0B;CAC3B;AAGH;EACE,YAAW;EACX,cAAa;EACb,8BAA6B;CAK9B;AARD;IAKI,aAAY;IACZ,UAAS;CACV\",\"file\":\"Main.vue?vue&type=style&index=0&lang=scss&\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n.drawe-icon {\\r\\n  &.active {\\r\\n    -webkit-transform: rotate(-180deg);\\r\\n    transform: rotate(-180deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bottom-button {\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  justify-content: space-around;\\r\\n  .v-btn {\\r\\n    flex-grow: 1;\\r\\n    margin: 0;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n","import mod from \"-!../node_modules/vue-style-loader/index.js!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n* {\\n  padding: 0;\\n  margin: 0;\\n}\\nhtml, body {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden !important;\\n}\\n.fullscreen-dialog .dialog-titlebar {\\n  flex-shrink: 0;\\n}\\n.fullscreen-dialog .dialog-body {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  overflow-x: auto;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"C:/Users/rendr/nextgis/oralhistory/src/C:/Users/rendr/nextgis/oralhistory/src/App.vue\"],\"names\":[],\"mappings\":\";AAmDA;EACE,WAAU;EACV,UAAS;CACV;AAED;EACE,YAAW;EACX,aAAY;EACZ,4BAA2B;CAC5B;AAED;EAGI,eAAc;CACf;AAJH;EAOI,aAAY;EACZ,iBAAgB;EAChB,iBAAgB;CACjB\",\"file\":\"App.vue?vue&type=style&index=0&lang=scss&\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n* {\\n  padding: 0;\\n  margin: 0;\\n}\\n\\nhtml, body {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden !important;\\n}\\n\\n.fullscreen-dialog {\\n\\n  .dialog-titlebar {\\n    flex-shrink: 0;\\n  }\\n\\n  .dialog-body {\\n    flex-grow: 1;\\n    overflow-y: auto;\\n    overflow-x: auto;\\n  }\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n\n","// readyState\r\n// Holds the status of the XMLHttpRequest.\r\n// 0: request not initialized\r\n// 1: server connection established\r\n// 2: request received\r\n// 3: processing request\r\n// 4: request finished and response is ready\r\n\r\n// status\r\n// 200: \"OK\"\r\n// 201 \"Created\"\tThe request has been fulfilled, and a new resource is created\r\n// 403: \"Forbidden\"\r\n// 404: \"Page not found\"\r\n// 500: \"Internal Server Error\"\r\n// For a complete list go to the Http Messages Reference\r\n\r\nimport { RequestOptions } from './interfaces';\r\n\r\nexport function loadJSON(url, callback, options: RequestOptions = {}, error) {\r\n  options.method = options.method || 'GET';\r\n  let xhr: XMLHttpRequest;\r\n\r\n  xhr = new XMLHttpRequest();\r\n  xhr.open(options.method || 'GET', url, true); // true for asynchronous\r\n\r\n  const processingResponce = (forError: boolean = false) => {\r\n    const cb = forError ? error : callback;\r\n    if (xhr.responseText) {\r\n      try {\r\n        cb(JSON.parse(xhr.responseText));\r\n      } catch (er) {\r\n        error({ message: '' });\r\n      }\r\n    } else {\r\n      error({ message: '' });\r\n    }\r\n  };\r\n\r\n  xhr.onreadystatechange = () => {\r\n    if ((xhr.readyState === 4 && xhr.status === 200) || (xhr.readyState === 3 && xhr.status === 201)) {\r\n      processingResponce();\r\n    } else if (xhr.readyState === 3 && xhr.status === 400) {\r\n      processingResponce();\r\n    } else if (xhr.readyState === 4 && xhr.status === 500) {\r\n      processingResponce();\r\n    }\r\n  };\r\n\r\n  xhr.onerror = (er) => {\r\n    error(er);\r\n  };\r\n\r\n  xhr.upload.onprogress = function (e) {\r\n    if (e.lengthComputable) {\r\n      const percentComplete = (e.loaded / e.total) * 100;\r\n      if (options.onProgress) {\r\n        options.onProgress(percentComplete);\r\n      }\r\n      // console.log(percentComplete + '% uploaded');\r\n    }\r\n  };\r\n\r\n  const headers = options.headers;\r\n  if (headers) {\r\n    for (const h in headers) {\r\n      if (headers.hasOwnProperty(h)) {\r\n        xhr.setRequestHeader(h, headers[h]);\r\n      }\r\n    }\r\n  }\r\n  xhr.withCredentials = options.withCredentials;\r\n\r\n  let data;\r\n  if (options.file) {\r\n    data = new FormData();\r\n    data.append('file', options.file);\r\n    if (options.data) {\r\n      for (const d in data) {\r\n        if (data.hasOwnProperty(d)) {\r\n          data.append(d, data[d]);\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    data = options.data ? JSON.stringify(options.data) : null;\r\n  }\r\n\r\n  xhr.send(data);\r\n}\r\n\r\n// https://github.com/Leaflet/Leaflet/blob/b507e21c510b53cd704fb8d3f89bb46ea925c8eb/src/core/Util.js#L165\r\nconst templateRe = /\\{ *([\\w_-]+) *\\}/g;\r\n\r\nexport function template(str, data) {\r\n  return str.replace(templateRe, (s, key) => {\r\n    let value = data[key];\r\n\r\n    if (value === undefined) {\r\n      throw new Error('No value provided for letiable ' + s);\r\n\r\n    } else if (typeof value === 'function') {\r\n      value = value(data);\r\n    }\r\n    return value;\r\n  });\r\n}\r\n","\r\nimport './polyfills';\r\n\r\nimport { RequestItemsParamsMap } from './types/RequestItemsParamsMap';\r\nimport {\r\n  NgwConnectorOptions, Router,\r\n  RequestItemsResponseMap, RequestOptions,\r\n  Params, LoadingQueue, UserInfo, Credentials, PyramidRoute\r\n} from './interfaces';\r\nimport { loadJSON, template } from './utils';\r\nimport { EventEmitter } from 'events';\r\n\r\nexport * from './interfaces';\r\n\r\nconst OPTIONS: NgwConnectorOptions = {\r\n  route: '/api/component/pyramid/route',\r\n  // baseUrl: 'http://'\r\n};\r\n\r\nexport default class NgwConnector {\r\n\r\n  options: NgwConnectorOptions = {};\r\n\r\n  user: UserInfo;\r\n  emitter = new EventEmitter();\r\n  private route: PyramidRoute;\r\n  private _loadingQueue: { [name: string]: LoadingQueue } = {};\r\n  private _loadingStatus = {};\r\n\r\n  constructor(options: NgwConnectorOptions) {\r\n    this.options = { ...OPTIONS, ...(options || {}) };\r\n  }\r\n\r\n  async connect(): Promise<Router> {\r\n    if (this.route) {\r\n      return Promise.resolve(this.route);\r\n    } else {\r\n      if (this.options.auth) {\r\n        const { login, password } = this.options.auth;\r\n        if (login && password) {\r\n          await this.getUserInfo({ login, password });\r\n        }\r\n      }\r\n      return await this.makeQuery(this.options.route, {}, {}).then((route) => {\r\n        this.route = route;\r\n        return route;\r\n      });\r\n    }\r\n  }\r\n\r\n  getUserInfo(credentials: Credentials): Promise<UserInfo> {\r\n    if (credentials) {\r\n      this.options.auth = credentials;\r\n    }\r\n    // Do not use request('auth.current_user') to avoid circular-references\r\n    return this.makeQuery('/api/component/auth/current_user', {}, {\r\n      headers: this.getAuthorizationHeaders(credentials),\r\n      // withCredentials: true\r\n    }).then((data: UserInfo) => {\r\n      this.user = data;\r\n      this.emitter.emit('login', data);\r\n      return data;\r\n    }).catch((er) => {\r\n      this.emitter.emit('login:error', er);\r\n      throw er;\r\n    });\r\n  }\r\n\r\n  getAuthorizationHeaders(credentials?: Credentials) {\r\n    const client = this.makeClientId(credentials);\r\n    return {\r\n      'Authorization': 'Basic ' + client\r\n    };\r\n  }\r\n\r\n  makeClientId(credentials?: Credentials) {\r\n    const { login, password } = credentials || this.options.auth;\r\n    return window.btoa(unescape(encodeURIComponent(`${login}:${password}`)));\r\n  }\r\n\r\n  request<K extends keyof RequestItemsParamsMap>(\r\n    name: K,\r\n    params?: RequestItemsParamsMap[K] | {},\r\n    options?: RequestOptions): Promise<RequestItemsResponseMap[K]> {\r\n\r\n    return this.connect().then((apiItems) => {\r\n      for (const a in apiItems) {\r\n        if (apiItems.hasOwnProperty(a)) {\r\n          if (a === name) {\r\n            const apiItem = apiItems[a].slice();\r\n            let url = apiItem.shift();\r\n            if (apiItem.length) {\r\n              params = params || {};\r\n              const replaceParams = {};\r\n              for (let fry = 0; fry < apiItem.length; fry++) {\r\n                const arg = apiItem[fry];\r\n                replaceParams[fry] = '{' + arg + '}';\r\n                if (params[arg] === undefined) {\r\n                  throw new Error('`' + arg + '`' + ' url api argument is not specified');\r\n                }\r\n              }\r\n              url = template(url, replaceParams);\r\n            }\r\n\r\n            // Non-obvious way ti transfer part of the parameters from `params`\r\n            // to the URL string\r\n            // left for backward compatibility, need to be rewritten щ куьщмув\r\n            if (params) {\r\n              const paramArray = [];\r\n              for (const p in params) {\r\n                if (params.hasOwnProperty(p) && apiItem.indexOf(p) === -1) {\r\n                  paramArray.push(`${p}=${params[p]}`);\r\n                }\r\n              }\r\n              if (paramArray.length) {\r\n                url = url + '/?' + paramArray.join('&');\r\n              }\r\n            }\r\n\r\n            return this.makeQuery(url, params, options);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  post<K extends keyof RequestItemsParamsMap>(\r\n    name: K,\r\n    options?: RequestOptions,\r\n    params?: RequestItemsParamsMap[K] | {}): Promise<RequestItemsResponseMap[K]> {\r\n\r\n    options = options || {};\r\n    options.method = 'POST';\r\n    options.nocache = true;\r\n    return this.request(name, params, options);\r\n  }\r\n\r\n  get<K extends keyof RequestItemsParamsMap>(\r\n    name: K,\r\n    options?: RequestOptions,\r\n    params?: RequestItemsParamsMap[K] | {}): Promise<RequestItemsResponseMap[K]> {\r\n\r\n    options = options || {};\r\n    options.method = 'GET';\r\n    options.nocache = true;\r\n    return this.request(name, params, options);\r\n  }\r\n\r\n  makeQuery(\r\n    url: string,\r\n    params: Params,\r\n    options: RequestOptions = {}): Promise<any> {\r\n\r\n    url = (this.options.baseUrl ? this.options.baseUrl : '') + url;\r\n    if (url) {\r\n      if (params) {\r\n        url = template(url, params);\r\n      }\r\n      // remove double slash\r\n      url = url.replace(/([^:]\\/)\\/+/g, '$1');\r\n      if (!this._loadingStatus[url] || options.nocache) {\r\n        this._loadingStatus[url] = true;\r\n\r\n        return this._getJson(url, options).then((data) => {\r\n          this._loadingStatus[url] = false;\r\n          this._executeLoadingQueue(url, data);\r\n          return data;\r\n        }).catch((er) => {\r\n          this._loadingStatus[url] = false;\r\n          this._executeLoadingQueue(url, er, true);\r\n          this.emitter.emit('error', er);\r\n          throw er;\r\n        });\r\n      } else {\r\n        this._loadingStatus[url] = false;\r\n        const promise = new Promise((resolve, reject) => {\r\n          this._setLoadingQueue(url, resolve, reject);\r\n        });\r\n        return promise;\r\n      }\r\n    } else {\r\n      throw new Error('No `url` parameter set for option ' + name);\r\n    }\r\n\r\n  }\r\n\r\n  _setLoadingQueue(name, resolve, reject) {\r\n    this._loadingQueue[name] = this._loadingQueue[name] || {\r\n      name,\r\n      waiting: [],\r\n    };\r\n    this._loadingQueue[name].waiting.push({\r\n      resolve,\r\n      reject,\r\n      timestamp: new Date(),\r\n    });\r\n  }\r\n\r\n  _executeLoadingQueue(name, data, isError?) {\r\n    const queue = this._loadingQueue[name];\r\n    if (queue) {\r\n      for (let fry = 0; fry < queue.waiting.length; fry++) {\r\n        const wait = queue.waiting[fry];\r\n        if (isError) {\r\n          if (wait.reject) {\r\n            wait.reject();\r\n          }\r\n        } else {\r\n          wait.resolve(data);\r\n        }\r\n      }\r\n      queue.waiting = [];\r\n    }\r\n  }\r\n\r\n  _getJson(url: string, options: RequestOptions): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      if (this.user) {\r\n        options = options || {};\r\n        // options.withCredentials = true;\r\n        options.headers = this.getAuthorizationHeaders();\r\n      }\r\n      loadJSON(url, resolve, options, reject);\r\n    });\r\n  }\r\n}\r\n","import NgwConnector from '@nextgis/ngw-connector';\nimport { FeatureCollection, Point, Feature } from 'geojson';\n// @ts-ignore\nimport config from '../../config.json';\n\nconst protomatch = /^(https?|ftp):\\/\\//; // NB: not '.*'\n\nexport const url = (location.protocol === 'https:' ? 'https' : 'http') + '://' +\n  config.baseUrl.replace(protomatch, '');\n\nconst connector = new NgwConnector({ baseUrl: url });\n\nexport interface BdMainItemProperties {\n\n  id: number;\n\n  id1: number;\n\n  status: string;\n  narrator: string;\n  nar_codes: string;\n  description?: string;\n  mos2?: string;\n  mos5?: string;\n  mos4?: string;\n  visual?: string;\n  mos6?: string;\n  mos1?: string;\n  unoff: string;\n  mos3?: string;\n  descript2?: string;\n  lat: number;\n  rayon: string;\n  geo?: string;\n  name?: string;\n  narrativ_b?: string;\n  addr?: string;\n  narrativ_l: string;\n  lon: number;\n  narrativ_p?: string;\n  type: string;\n}\n\nexport interface BdPhotoProperties {\n  id: number;\n\n  link_big: string;\n  link_small: string;\n  id_obj: number;\n  descript: string;\n  link: string;\n  details: string;\n}\n\nexport type BdMainItem = Feature<Point, BdMainItemProperties>;\n\nexport default {\n  getLayerGeoJson(cb) {\n    connector.request('feature_layer.geojson', {\n      id: 10\n    }).then((data: FeatureCollection<Point, BdMainItemProperties>) => {\n      data.features.forEach((x, i) => {\n        x.properties.id = Number(x.id || i);\n      });\n      cb(data.features);\n    });\n  },\n\n  getPhotos(cb) {\n    connector.request('feature_layer.geojson', {\n      id: 12\n    }).then((data: FeatureCollection<Point, BdPhotoProperties>) => {\n      cb(data.features.map((x) => {\n        x.properties.id = Number(x.id);\n        return x.properties;\n      }));\n    });\n  },\n\n  getLayerMeta(cb) {\n    cb([\n      // { text: 'Идентификатор', value: 'id1', noHide: true },\n      // { text: 'долгота', value: 'lat', noHide: true },\n      // { text: 'широта', value: 'lon', noHide: true },\n      { text: 'Адрес', value: 'addr', noHide: true },\n      { text: 'Название объекта', value: 'name', noHide: true },\n      // { text: 'Тип объекта', value: 'type', noHide: true },\n      { text: 'Статус объекта', value: 'status', noHide: true },\n      { text: 'Район', value: 'rayon', noHide: true },\n      { text: 'Неофициальное название', value: 'unoff', noHide: true },\n      { text: 'ОПИСАНИЕ', value: 'description', noHide: true },\n      { text: 'Истории о прошлом', value: 'narrativ_l', type: 'Story' },\n      { text: 'Семейные истории', value: 'narrativ_b', type: 'Story' },\n      { text: 'Практики горожан', value: 'narrativ_p', type: 'Story' },\n      { text: 'Характеристика места', value: 'descript2', type: 'Story' },\n      { text: 'Рассказчик', value: 'narrator', type: 'NarratorLink' },\n      { text: 'Визуальные материалы', value: 'visual' },\n      { text: 'Москва дворовая', value: 'mos1', type: 'Mos' },\n      { text: 'Москва церковная', value: 'mos2', type: 'Mos' },\n      { text: 'Москва бездомная', value: 'mos3', type: 'Mos' },\n      { text: 'Москва подземная', value: 'mos4', type: 'Mos' },\n      { text: 'Москва субкультурная', value: 'mos5', type: 'Mos' },\n      { text: 'Москва легендарная', value: 'mos6', type: 'Mos' }\n    ]);\n  }\n};\n","import ngw, { BdMainItem } from '../../api/ngw';\r\n\r\n// initial state\r\n// shape: [{ id, quantity }]\r\nconst _state = {\r\n  items: [],\r\n  photos: [],\r\n  meta: false,\r\n  filtered: [],\r\n  detailItem: false,\r\n};\r\n\r\n// getters\r\nconst _getters = {\r\n  features: (state, getters, rootState) => state.filtered,\r\n  sortFeatures: (state, getters, rootState) => {\r\n    const filtered = [...state.filtered] as BdMainItem[];\r\n    return filtered.sort((a, b) => {\r\n      return a.properties.name.toUpperCase() > b.properties.name.toUpperCase() ? 1 : -1;\r\n    });\r\n  }\r\n};\r\n\r\n// actions\r\nconst actions = {\r\n\r\n  getAllItems({ commit }) {\r\n    ngw.getLayerMeta(meta => {\r\n      commit('setMeta', meta);\r\n      ngw.getLayerGeoJson(items => {\r\n        commit('setItems', items);\r\n      });\r\n    });\r\n  },\r\n\r\n  getPhotos({ commit }) {\r\n    ngw.getPhotos((photos) => {\r\n      commit('setPhotos', photos);\r\n    });\r\n  },\r\n\r\n  setFilter({ commit, state }, items) {\r\n    commit('setFilter', items);\r\n    const detail = state.detailItem;\r\n    if (detail) {\r\n      const item = items.find((x: BdMainItem) => x.id === detail.id);\r\n      if (!item) {\r\n        commit('setDetail', false);\r\n      }\r\n    }\r\n  },\r\n\r\n  setDetail({ commit, state }, id: number) {\r\n    let item = state.filtered.find((x: BdMainItem) => x.id === id);\r\n    const detail = state.detailItem;\r\n    if (detail && detail.id === id) {\r\n      item = false;\r\n    }\r\n    commit('setDetail', item);\r\n  }\r\n};\r\n\r\n// mutations\r\nconst mutations = {\r\n\r\n  setItems(state, items) {\r\n    state.items = items;\r\n    state.filtered = items;\r\n  },\r\n\r\n  setFilter(state, items) {\r\n    state.filtered = items;\r\n  },\r\n\r\n  setDetail(state, item) {\r\n    state.detailItem = item;\r\n  },\r\n\r\n  setMeta(state, meta) {\r\n    state.meta = meta;\r\n  },\r\n\r\n  setPhotos(state, photos) {\r\n    state.photos = photos;\r\n  }\r\n\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: _state,\r\n  getters: _getters,\r\n  actions,\r\n  mutations\r\n};\r\n","import throttle from '../utils/throttle';\r\n\r\n// initial state\r\n// shape: [{ id, quantity }]\r\n\r\nexport type AppPages = 'main' | 'table' | 'about';\r\nexport interface AppState {\r\n  drawer?: boolean;\r\n  page?: AppPages;\r\n  center?: [number, number];\r\n  listSearchText?: string;\r\n}\r\n\r\nconst _state: AppState = {\r\n  drawer: true,\r\n  page: 'main',\r\n  center: null,\r\n  listSearchText: ''\r\n};\r\n\r\n// getters\r\nconst _getters = {};\r\n\r\n// actions\r\nconst actions = {\r\n\r\n\r\n  showDrawer({ commit }) {\r\n    commit('showDrawer');\r\n  },\r\n\r\n  hideDrawer({ commit }) {\r\n    commit('hideDrawer');\r\n  },\r\n\r\n  setListSearchText({ commit }, value: string) {\r\n    return commit('setListSearchText', value);\r\n  },\r\n\r\n  toggleDrawer({ commit }, value: boolean) {\r\n    if (value) {\r\n      commit('showDrawer');\r\n    } else {\r\n      commit('hideDrawer');\r\n    }\r\n  },\r\n\r\n  setPage({ commit }, page: AppPages) {\r\n    commit('setPage', page);\r\n  },\r\n\r\n  zoomTo({ commit }, id: number) {\r\n    commit('setCenter', id);\r\n  }\r\n\r\n};\r\n\r\n// mutations\r\nconst mutations = {\r\n\r\n  showDrawer(state) {\r\n    state.drawer = true;\r\n  },\r\n\r\n  hideDrawer(state) {\r\n    state.drawer = false;\r\n  },\r\n\r\n  setPage(state, page: AppPages) {\r\n    state.page = page;\r\n  },\r\n\r\n  setCenter(state, id: number) {\r\n    state.center = id;\r\n  },\r\n\r\n  setListSearchText(state, value: string) {\r\n    state.listSearchText = value;\r\n  }\r\n\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: _state,\r\n  getters: _getters,\r\n  actions,\r\n  mutations\r\n};\r\n","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport bdMain from './modules/bd_main';\r\nimport app from './modules/app';\r\n// import createLogger from '../../../src/plugins/logger';\r\n\r\n// Example projects\r\n// https://github.com/vuejs/vuex/tree/dev/examples/\r\n// Vuex and typescript\r\n// https://github.com/utahta/vue-vuex-typescript-example\r\n\r\nVue.use(Vuex);\r\n// @ts-ignore\r\nconst debug = process.env.NODE_ENV !== 'production';\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    bdMain,\r\n    app,\r\n  },\r\n  strict: debug,\r\n  // plugins: debug ? [createLogger()] : []\r\n});\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-app\",\n    [\n      _c(\"main-component\"),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: {\n            value: _vm.page === \"table\",\n            fullscreen: \"\",\n            scrollable: \"\",\n            transition: \"dialog-bottom-transition\"\n          }\n        },\n        [\n          _c(\n            \"v-card\",\n            { staticClass: \"fullscreen-dialog\" },\n            [\n              _c(\n                \"v-toolbar\",\n                {\n                  staticClass: \"dialog-titlebar\",\n                  attrs: { dark: \"\", color: \"primary\" }\n                },\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { icon: \"\", dark: \"\" },\n                      nativeOn: {\n                        click: function($event) {\n                          _vm.page = \"main\"\n                        }\n                      }\n                    },\n                    [_c(\"v-icon\", [_vm._v(\"close\")])],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"span\", { staticClass: \"title ml-3 mr-5\" }, [\n                    _vm._v(\"Устная память Москвы \"),\n                    _c(\"span\", { staticClass: \"font-weight-light\" }, [\n                      _vm._v(\"Таблица\")\n                    ])\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"v-text-field\", {\n                    attrs: {\n                      \"solo-inverted\": \"\",\n                      flat: \"\",\n                      \"hide-details\": \"\",\n                      label: \"Поиск\",\n                      \"prepend-inner-icon\": \"search\"\n                    },\n                    model: {\n                      value: _vm.tableSearch,\n                      callback: function($$v) {\n                        _vm.tableSearch = $$v\n                      },\n                      expression: \"tableSearch\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-toolbar-items\",\n                    [\n                      _c(\"v-btn\", { attrs: { dark: \"\", flat: \"\" } }, [\n                        _vm._v(\"Сохранить\")\n                      ])\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"dialog-body\" },\n                [\n                  _vm.page === \"table\"\n                    ? _c(\"table-component\", {\n                        attrs: {\n                          search: _vm.tableSearch,\n                          paginationSync: _vm.paginationSync\n                        }\n                      })\n                    : _vm.page === \"about\"\n                      ? _c(\"about-component\")\n                      : _vm._e()\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm.pagination && _vm.pagination.page\n                ? _c(\"v-footer\", { staticClass: \"pt-3 pb-4\" }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"text-xs-center pt-1\" },\n                      [\n                        _c(\"v-pagination\", {\n                          attrs: { length: _vm.pages, \"total-visible\": 7 },\n                          model: {\n                            value: _vm.pagination.page,\n                            callback: function($$v) {\n                              _vm.$set(_vm.pagination, \"page\", $$v)\n                            },\n                            expression: \"pagination.page\"\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  ])\n                : _vm._e()\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-app\",\n    [\n      _c(\n        \"v-layout\",\n        {\n          attrs: {\n            \"align-center\": \"\",\n            \"justify-center\": \"\",\n            column: \"\",\n            \"fill-height\": \"\"\n          }\n        },\n        [\n          _c(\"div\", { staticClass: \"title font-weight-thin pa-3\" }, [\n            _vm._v(\"Разработано в\")\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"logo\", on: { click: _vm.openNextGIS } }, [\n            _c(\n              \"svg\",\n              {\n                staticClass: \"logo hidden-xs\",\n                staticStyle: { \"enable-background\": \"new 0 0 818.8 111.5\" },\n                attrs: {\n                  version: \"1.1\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\",\n                  x: \"0px\",\n                  y: \"0px\",\n                  viewBox: \"0 0 818.8 111.5\",\n                  \"xml:space\": \"preserve\"\n                }\n              },\n              [\n                _c(\"path\", {\n                  staticClass: \"logo__item--dark\",\n                  attrs: {\n                    d:\n                      \"M0,111.5V0.1h7.4l69.9,69.8V0.1h22.3v111.4h-8.2L22.3,42.4v69.1\\n              H0\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"path\", {\n                  staticClass: \"logo__item--dark\",\n                  attrs: {\n                    d:\n                      \"M225.8,111.5V0.1l-81.9-0.1v20.8h59.6v23.8h-34v20.7h34v25.3H144\\n              v20.8L225.8,111.5\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"path\", {\n                  staticClass: \"logo__item--dark\",\n                  attrs: {\n                    d:\n                      \"M502.3,0.1v20.8h-37.1v90.6h-22.3V20.9h-37.1V0.1L502.3,0.1\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"path\", {\n                  staticClass: \"logo__item--light\",\n                  attrs: {\n                    d:\n                      \"M550.4,95.5c-10.7-10.6-16-23.9-16-39.9\\n              c0.1-15.7,5.4-28.8,16-39.5c10.6-10.7,23.9-16,39.6-16c15.9,0,29.5,5,40.9,14.9l-14.9,16.3c-7.6-5.9-16.3-8.9-26.1-8.9\\n              c-10,0-18.1,3.2-24.2,9.4c-6.1,6.2-9.2,14.1-9.2,23.8c0.1,10.4,3.2,18.6,9.3,24.7c6.1,6.1,14.2,9.1,24.2,9.1c8,0,14.2-1.6,18.5-4.8\\n              V65.4l-14.9,0.1V44.7H631v52c-11.3,9.9-25,14.9-40.9,14.9C574.3,111.5,561,106.1,550.4,95.5\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"path\", {\n                  staticClass: \"logo__item--light\",\n                  attrs: { d: \"M674.9,111.5h22.2V0h-22.2V111.5z\" }\n                }),\n                _vm._v(\" \"),\n                _c(\"path\", {\n                  staticClass: \"logo__item--light\",\n                  attrs: {\n                    d:\n                      \"M801.4,3.8c5.7,2.5,11,6.2,16,11.2l-14.9,14.9\\n              c-5-6-11.9-8.9-20.8-8.9c-8.9,0-14.6,2.1-17.1,6.3c-2.5,4.2-2.5,7.8,0,10.8c2.5,3,8.2,5.2,17.1,6.7c9.4,1,18,4.1,25.6,9.3\\n              c7.7,5.2,11.5,13.5,11.5,24.9c0,8.9-4.1,16.6-12.3,23c-8.2,6.4-17.7,9.7-28.6,9.7c-10.3,0-19-1.5-25.9-4.4\\n              c-6.9-3-12.9-6.9-17.8-11.9L749,80.3c5,6,13.4,9.4,25.3,10.4c9.9,0,16.1-2.1,18.5-6.3c2.5-4.2,2.5-8.4,0-12.6\\n              c-2.4-4.2-8.6-6.8-18.5-7.8c-8.9-1-17.1-3.7-24.5-8.2c-7.4-4.5-11.2-12.1-11.2-23c0-9.9,4.2-17.8,12.7-23.7c8.4-6,17.1-9,26-9\\n              C787.6,0.1,795.7,1.3,801.4,3.8\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"path\", {\n                  staticClass: \"logo__item--dark\",\n                  attrs: {\n                    d: \"M340.2,43.3l31.6-43.2h-26.2L327,25.4L340.2,43.3\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"path\", {\n                  staticClass: \"logo__item--light\",\n                  attrs: {\n                    d:\n                      \"M332.8,53.5L293.6,0.1h-26.2l39,53.4l-42.6,58h26.5L332.8,53.5\"\n                  }\n                }),\n                _vm._v(\" \"),\n                _c(\"path\", {\n                  staticClass: \"logo__item--dark\",\n                  attrs: { d: \"M340.2,63.6l-13.2,18l21.9,29.9h26.4L340.2,63.6\" }\n                })\n              ]\n            )\n          ])\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=ts&\"","import Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\n\r\n@Component\r\nexport class About extends Vue {\r\n\r\n  openNextGIS() {\r\n    window.location.href = 'http://nextgis.com/';\r\n  }\r\n\r\n}\r\n","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=5e667ffc&\"\nimport script from \"./About.vue?vue&type=script&lang=ts&\"\nexport * from \"./About.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {\n  VApp,\n  VLayout,\n})\n\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5e667ffc', component.options)\n    } else {\n      api.reload('5e667ffc', component.options)\n    }\n    module.hot.accept(\"./About.vue?vue&type=template&id=5e667ffc&\", function () {\n      api.rerender('5e667ffc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/NextGIS/About.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-app\",\n    [\n      _c(\"v-data-table\", {\n        attrs: {\n          headers: _vm.headers,\n          items: _vm.items,\n          search: _vm.search,\n          pagination: _vm.pagination,\n          \"hide-actions\": \"\"\n        },\n        on: {\n          \"update:pagination\": function($event) {\n            _vm.pagination = $event\n          }\n        },\n        scopedSlots: _vm._u([\n          {\n            key: \"headerCell\",\n            fn: function(props) {\n              return [\n                _c(\"v-tooltip\", { attrs: { bottom: \"\" } }, [\n                  _c(\n                    \"span\",\n                    { attrs: { slot: \"activator\" }, slot: \"activator\" },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(props.header.text) +\n                          \"\\n        \"\n                      )\n                    ]\n                  )\n                ])\n              ]\n            }\n          },\n          {\n            key: \"items\",\n            fn: function(props) {\n              return _vm._l(_vm.headers, function(h) {\n                return _c(\"td\", { key: h.value }, [\n                  props.item[h.value] && props.item[h.value].length < 40\n                    ? _c(\"span\", [_vm._v(_vm._s(props.item[h.value]))])\n                    : _c(\n                        \"span\",\n                        [\n                          _c(\"show-more-field\", {\n                            attrs: { text: props.item[h.value], charCount: 40 }\n                          })\n                        ],\n                        1\n                      )\n                ])\n              })\n            }\n          }\n        ])\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"span\", [\n    _vm.text && String(_vm.text).length > _vm.charCount\n      ? _c(\"span\", [\n          _c(\"span\", [_vm._v(_vm._s(_vm.toShow))]),\n          _vm._v(\" \"),\n          _c(\"a\", { on: { click: _vm.onClick } }, [\n            !_vm.expand\n              ? _c(\"span\", [_vm._v(\">>>\")])\n              : _c(\"span\", [_vm._v(\"<<<\")])\n          ])\n        ])\n      : _c(\"span\", [_vm._v(_vm._s(_vm.text))])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowMoreField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowMoreField.vue?vue&type=script&lang=ts&\"","import { Vue, Component, Prop } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport class ShowMoreField extends Vue {\r\n\r\n  @Prop({default: ''}) text: string;\r\n  @Prop({default: 40}) charCount: number;\r\n\r\n  expand = false;\r\n\r\n  get toShow() {\r\n    if (this.expand) {\r\n      return this.text;\r\n    } else {\r\n      return this.text.slice(0, this.charCount) + '...';\r\n    }\r\n  }\r\n\r\n  onClick() {\r\n    this.expand = !this.expand;\r\n  }\r\n}\r\n","import { render, staticRenderFns } from \"./ShowMoreField.vue?vue&type=template&id=051b4be1&\"\nimport script from \"./ShowMoreField.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShowMoreField.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ShowMoreField.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('051b4be1', component.options)\n    } else {\n      api.reload('051b4be1', component.options)\n    }\n    module.hot.accept(\"./ShowMoreField.vue?vue&type=template&id=051b4be1&\", function () {\n      api.rerender('051b4be1', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/ShowMoreField/ShowMoreField.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=ts&\"","import { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport { BdMainItemProperties } from '../../api/ngw';\r\nimport ShowMoreField from '../ShowMoreField/ShowMoreField.vue';\r\n\r\n\r\n@Component({\r\n  components: {ShowMoreField}\r\n})\r\nexport class Table extends Vue {\r\n\r\n  @Prop() search: string;\r\n  @Prop() paginationSync;\r\n\r\n  pagination = {\r\n    rowsPerPage: 20\r\n  };\r\n\r\n  headers = [\r\n    { text: 'Адрес', value: 'addr' },\r\n    { text: 'долгота', value: 'lat' },\r\n    { text: 'широта', value: 'lon' },\r\n    { text: 'Название объекта', value: 'name' },\r\n    { text: 'Тип объекта', value: 'type' },\r\n    { text: 'Статус объекта', value: 'status' },\r\n    { text: 'Район', value: 'rayon' },\r\n    { text: 'Неофициальное название', value: 'unoff' },\r\n    { text: 'ОПИСАНИЕ', value: 'description' },\r\n    { text: 'Локальный нарратив', value: 'narrativ_l' },\r\n    { text: 'Биографический нарратив', value: 'narrativ_b' },\r\n    { text: 'Нарратив о практиках', value: 'narrativ_p' },\r\n    { text: 'Описание места', value: 'descript2' },\r\n    { text: 'Рассказчик', value: 'narrator' },\r\n    { text: 'Визуальные материалы', value: 'visual' },\r\n    { text: 'Москва дворовая', value: 'mos1' },\r\n    { text: 'Москва церковная', value: 'mos2' },\r\n    { text: 'Москва бездомная', value: 'mos3' },\r\n    { text: 'Москва подземная', value: 'mos4' },\r\n    { text: 'Москва субкультурная', value: 'mos5' },\r\n    { text: 'Москва легендарная', value: 'mos6' },\r\n  ];\r\n\r\n  get items(): BdMainItemProperties[] {\r\n    return this.$store.getters['bdMain/sortFeatures'].map((x) => x.properties);\r\n  }\r\n\r\n  @Watch('pagination')\r\n  setPagination(value) {\r\n    this.paginationSync(value);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { render, staticRenderFns } from \"./Table.vue?vue&type=template&id=647119ad&\"\nimport script from \"./Table.vue?vue&type=script&lang=ts&\"\nexport * from \"./Table.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Table.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VDataTable } from 'vuetify/lib'\nimport { VTooltip } from 'vuetify/lib'\ninstallComponents(component, {\n  VApp,\n  VDataTable,\n  VTooltip,\n})\n\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('647119ad', component.options)\n    } else {\n      api.reload('647119ad', component.options)\n    }\n    module.hot.accept(\"./Table.vue?vue&type=template&id=647119ad&\", function () {\n      api.rerender('647119ad', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/Table/Table.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-app\",\n    [\n      _c(\n        \"v-content\",\n        [\n          _c(\n            \"ngw-map\",\n            { attrs: { center: [37.63, 55.75], zoom: 10 } },\n            [\n              _c(\"map-control\", { attrs: { position: \"topleft\" } }, [\n                !_vm.drawer\n                  ? _c(\n                      \"div\",\n                      [\n                        _c(\n                          \"v-btn\",\n                          {\n                            attrs: { fab: \"\", small: \"\" },\n                            on: {\n                              click: function($event) {\n                                _vm.drawer = !_vm.drawer\n                              }\n                            }\n                          },\n                          [\n                            _c(\n                              \"v-icon\",\n                              {\n                                staticClass: \"drawe-icon\",\n                                class: { active: _vm.drawer },\n                                attrs: { large: \"\" }\n                              },\n                              [_vm._v(\"chevron_right\")]\n                            )\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"span\", { staticClass: \"title\" }, [\n                          _vm._v(\"Устная память Москвы\")\n                        ])\n                      ],\n                      1\n                    )\n                  : _vm._e()\n              ])\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-navigation-drawer\",\n        {\n          attrs: { stateless: \"\", fixed: \"\", app: \"\", width: \"350\" },\n          model: {\n            value: _vm.drawer,\n            callback: function($$v) {\n              _vm.drawer = $$v\n            },\n            expression: \"drawer\"\n          }\n        },\n        [\n          _c(\n            \"drawer-container\",\n            [\n              _c(\n                \"div\",\n                { attrs: { slot: \"header\" }, slot: \"header\" },\n                [\n                  _c(\n                    \"v-layout\",\n                    { attrs: { \"justify-space-between\": \"\" } },\n                    [\n                      _vm._v(\"\\n          Устная память Москвы\\n          \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          staticClass: \"pa-0 ma-0\",\n                          attrs: { flat: \"\", icon: \"\" },\n                          on: {\n                            click: function($event) {\n                              _vm.drawer = false\n                            }\n                          }\n                        },\n                        [_c(\"v-icon\", [_vm._v(\"close\")])],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm.items && _vm.items.length\n                ? _c(\"div\", [\n                    _c(\n                      \"div\",\n                      [\n                        _c(\"items-filter\"),\n                        _vm._v(\" \"),\n                        _c(\n                          \"div\",\n                          { staticClass: \"pl-3 pr-3\" },\n                          [\n                            _c(\"v-text-field\", {\n                              staticClass: \"pa-0\",\n                              attrs: {\n                                \"hide-details\": \"\",\n                                solo: \"\",\n                                clearable: \"\",\n                                label: \"Поиск\",\n                                \"prepend-inner-icon\": \"search\"\n                              },\n                              model: {\n                                value: _vm.listSearchText,\n                                callback: function($$v) {\n                                  _vm.listSearchText = $$v\n                                },\n                                expression: \"listSearchText\"\n                              }\n                            })\n                          ],\n                          1\n                        )\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\"div\", [_c(\"list\")], 1)\n                  ])\n                : _c(\"div\", [\n                    _c(\n                      \"div\",\n                      { staticClass: \"pa-3 text-xs-center\" },\n                      [\n                        _c(\"v-progress-circular\", {\n                          attrs: { indeterminate: \"\", color: \"primary\" }\n                        })\n                      ],\n                      1\n                    )\n                  ]),\n              _vm._v(\" \"),\n              _c(\n                \"template\",\n                { slot: \"footer\" },\n                [\n                  _c(\n                    \"v-item-group\",\n                    { staticClass: \"bottom-button\" },\n                    [\n                      _c(\n                        \"v-btn\",\n                        { attrs: { flat: \"\", color: \"grey\" } },\n                        [_c(\"v-icon\", [_vm._v(\"save_alt\")])],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { flat: \"\", color: \"grey\" },\n                          on: {\n                            click: function($event) {\n                              _vm.page = \"table\"\n                            }\n                          }\n                        },\n                        [\n                          _c(\n                            \"v-icon\",\n                            {\n                              on: {\n                                click: function($event) {\n                                  _vm.page = \"table\"\n                                }\n                              }\n                            },\n                            [_vm._v(\"table_chart\")]\n                          )\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            2\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-navigation-drawer\",\n        {\n          attrs: {\n            value: !!_vm.detail,\n            stateless: \"\",\n            width: \"400\",\n            absolute: \"\",\n            app: \"\",\n            right: \"\"\n          }\n        },\n        [\n          _vm.detail\n            ? _c(\n                \"drawer-container\",\n                [\n                  _c(\n                    \"template\",\n                    { slot: \"header\" },\n                    [\n                      _c(\n                        \"v-btn\",\n                        {\n                          staticClass: \"pa-0 ma-0\",\n                          attrs: { flat: \"\", icon: \"\" },\n                          on: {\n                            click: function($event) {\n                              _vm.detail = false\n                            }\n                          }\n                        },\n                        [_c(\"v-icon\", [_vm._v(\"close\")])],\n                        1\n                      ),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.detail.properties.name) +\n                          \"\\n      \"\n                      )\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"detail\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"template\",\n                    { slot: \"footer\" },\n                    [\n                      _c(\n                        \"v-item-group\",\n                        { staticClass: \"bottom-button\" },\n                        [\n                          _c(\n                            \"v-btn\",\n                            { attrs: { flat: \"\", color: \"grey\" } },\n                            [_c(\"v-icon\", [_vm._v(\"feedback\")])],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-btn\",\n                            { attrs: { flat: \"\", color: \"grey\" } },\n                            [_c(\"v-icon\", [_vm._v(\"save_alt\")])],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-btn\",\n                            {\n                              attrs: { flat: \"\", color: \"grey\" },\n                              on: {\n                                click: function($event) {\n                                  _vm.zoomTo = _vm.detail.id\n                                }\n                              }\n                            },\n                            [_c(\"v-icon\", [_vm._v(\"place\")])],\n                            1\n                          )\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                2\n              )\n            : _vm._e()\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"v-list\",\n        { attrs: { dense: \"\" } },\n        _vm._l(_vm.portion, function(item) {\n          return _c(\n            \"v-list-tile\",\n            { key: item.id },\n            [\n              _c(\n                \"v-list-tile-content\",\n                [\n                  _c(\"v-list-tile-title\", { attrs: { title: item.name } }, [\n                    _vm._v(_vm._s(item.name))\n                  ])\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-list-tile-action\",\n                { staticClass: \"pa-0\" },\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { icon: \"\", ripple: \"\" },\n                      on: {\n                        click: function($event) {\n                          _vm.setDetail(item.id)\n                        }\n                      }\n                    },\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          style: {\n                            color:\n                              item.id === (_vm.detail && _vm.detail.id)\n                                ? \"orange\"\n                                : \"grey\"\n                          },\n                          attrs: { color: \"lighten-1\" }\n                        },\n                        [_vm._v(\"\\n            info\\n          \")]\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        }),\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.displayItems.length > _vm.portion.length\n        ? _c(\n            \"div\",\n            { staticClass: \"text-xs-center\" },\n            [\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { flat: \"\", small: \"\" },\n                  on: { click: _vm.addPortion }\n                },\n                [_vm._v(\"Показать ещё\")]\n              )\n            ],\n            1\n          )\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=ts&\"","import { BdMainItem, BdMainItemProperties } from '../../api/ngw';\r\nimport { Vue, Component, Prop } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport class List extends Vue {\r\n\r\n  portionCount = 30;\r\n\r\n  portion = [];\r\n\r\n  get listSearchText(): string {\r\n    return this.$store.state.app.listSearchText;\r\n  }\r\n\r\n  get items(): BdMainItemProperties[] {\r\n    return this.$store.getters['bdMain/sortFeatures'].map((x) => x.properties);\r\n  }\r\n\r\n  get detail(): BdMainItem {\r\n    return this.$store.state.bdMain.detailItem;\r\n  }\r\n\r\n  mounted() {\r\n    this.addPortion();\r\n    this.$store.watch((state) => state.bdMain.filtered, (_items) => {\r\n      this.resetPortions();\r\n    });\r\n    this.$store.watch((state) => state.app.listSearchText, (value) => {\r\n      this.resetPortions();\r\n    });\r\n  }\r\n\r\n  get displayItems() {\r\n    return this.getDisplayItems();\r\n  }\r\n\r\n  getDisplayItems(): BdMainItemProperties[] {\r\n    if (this.listSearchText && this.listSearchText.length > 1) {\r\n      const filteredItems = this.items.filter((item) => {\r\n        for (const p in item) {\r\n          if (item.hasOwnProperty(p)) {\r\n            const ok = String(item[p]).toLowerCase().indexOf(this.listSearchText.toLowerCase()) !== -1;\r\n            if (ok) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      });\r\n      return filteredItems;\r\n    } else {\r\n      return this.items;\r\n    }\r\n  }\r\n\r\n  setDetail(id: string) {\r\n    this.$store.dispatch('bdMain/setDetail', id);\r\n    this.$store.dispatch('app/zoomTo', id);\r\n  }\r\n\r\n  resetPortions() {\r\n    this.portion = [];\r\n    this.addPortion();\r\n  }\r\n\r\n  addPortion() {\r\n    const items = this.getDisplayItems();\r\n    const portionsLength = this.portion.length;\r\n    const itemsLength = items.length;\r\n    if (portionsLength < itemsLength) {\r\n      const addLength = portionsLength + this.portionCount;\r\n      const len = addLength > itemsLength ? itemsLength : addLength;\r\n      for (let fry = portionsLength; fry < len; fry++) {\r\n        this.portion.push(items[fry]);\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=87fbdfe2&\"\nimport script from \"./List.vue?vue&type=script&lang=ts&\"\nexport * from \"./List.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileAction } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VIcon,\n  VList,\n  VListTile,\n  VListTileAction,\n  VListTileContent,\n  VListTileTitle,\n})\n\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('87fbdfe2', component.options)\n    } else {\n      api.reload('87fbdfe2', component.options)\n    }\n    module.hot.accept(\"./List.vue?vue&type=template&id=87fbdfe2&\", function () {\n      api.rerender('87fbdfe2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/List/List.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { id: \"map\" } },\n    [_vm.ready ? _vm._t(\"default\") : _vm._e()],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { LayerAdapter, OnLayerClickOptions } from '@nextgis/webmap';\r\nimport {Map, Layer} from 'leaflet';\r\n\r\nlet ID = 1;\r\n\r\nexport abstract class BaseAdapter implements LayerAdapter {\r\n\r\n  map: Map;\r\n  name: string;\r\n  options;\r\n\r\n  constructor(map, options?) {\r\n    this.map = map;\r\n    this.name = options.id || String(ID++);\r\n    this.options = {...this.options, ...options};\r\n    if (options.onLayerClick) {\r\n      this.onLayerClick = options.onLayerClick;\r\n    }\r\n  }\r\n\r\n  onLayerClick?(options: OnLayerClickOptions): Promise<any>;\r\n\r\n  addLayer(options?): Layer {\r\n    return null;\r\n  }\r\n}\r\n","import { LayerAdapter } from '@nextgis/webmap';\r\nimport { TileLayer } from 'leaflet';\r\nimport { BaseAdapter } from './BaseAdapter';\r\n\r\nlet ID = 1;\r\n\r\nexport class TileAdapter extends BaseAdapter implements LayerAdapter {\r\n\r\n  name: string;\r\n\r\n  addLayer(options?) {\r\n\r\n    this.name = options.id || 'tile-' + ID++;\r\n    const {url, ...opt} = options;\r\n    const layer = new TileLayer(url, opt);\r\n\r\n    // layer.addTo(this.map);\r\n\r\n    return layer;\r\n  }\r\n}\r\n","import {\r\n  LayerAdapter,\r\n  GeoJsonAdapterOptions,\r\n  GeoJsonAdapterLayerPaint,\r\n  GeoJsonAdapterLayerType,\r\n  IconOptions,\r\n  GetPaintCallback\r\n} from '@nextgis/webmap';\r\nimport {\r\n  GeoJSON,\r\n  CircleMarker, GeoJSONOptions,\r\n  PathOptions,\r\n  CircleMarkerOptions,\r\n  DivIcon,\r\n  Marker,\r\n  FeatureGroup,\r\n  DomEvent\r\n} from 'leaflet';\r\nimport { BaseAdapter } from './BaseAdapter';\r\nimport { GeoJsonObject, GeoJsonGeometryTypes, FeatureCollection, Feature, GeometryCollection } from 'geojson';\r\n\r\nlet ID = 1;\r\n\r\nconst typeAlias: { [x: string]: GeoJsonAdapterLayerType } = {\r\n  'Point': 'circle',\r\n  'LineString': 'line',\r\n  'MultiPoint': 'circle',\r\n  'Polygon': 'fill',\r\n  'MultiLineString': 'line',\r\n  'MultiPolygon': 'fill'\r\n};\r\n\r\nconst PAINT = {\r\n  stroke: false,\r\n  fillOpacity: 1\r\n};\r\n\r\nconst backAliases = {};\r\nfor (const a in typeAlias) {\r\n  if (typeAlias.hasOwnProperty(a)) {\r\n    backAliases[typeAlias[a]] = backAliases[typeAlias[a]] || [];\r\n    backAliases[typeAlias[a]].push(a);\r\n  }\r\n}\r\n\r\nexport class GeoJsonAdapter extends BaseAdapter implements LayerAdapter {\r\n  options: GeoJsonAdapterOptions;\r\n\r\n  layer = new FeatureGroup();\r\n\r\n  name: string;\r\n  paint?: GeoJsonAdapterLayerPaint | GetPaintCallback;\r\n  selectedPaint?: GeoJsonAdapterLayerPaint | GetPaintCallback;\r\n  type: GeoJsonAdapterLayerType;\r\n  selected = false;\r\n\r\n  private _layers: Array<{ feature, layer }> = [];\r\n  private _selectedLayers: Array<{ feature, layer }> = [];\r\n\r\n  addLayer(options?: GeoJsonAdapterOptions) {\r\n    this.options = options;\r\n    this.paint = options.paint;\r\n\r\n    this.selectedPaint = options.selectedPaint;\r\n    options.paint = this.paint;\r\n\r\n    this.name = options.id || 'geojson-' + ID++;\r\n\r\n    let type: GeoJsonAdapterLayerType = options.type;\r\n\r\n    if (!type) {\r\n      const detectedType = detectType(options.data);\r\n      type = typeAlias[detectedType];\r\n    }\r\n    this.type = type;\r\n\r\n    const data = filterGeometries(options.data, type);\r\n    if (data) {\r\n      const layer = new GeoJSON(data, this.getGeoJsonOptions(options, type));\r\n      return this.layer;\r\n    }\r\n  }\r\n\r\n  select(findFeatureFun?) {\r\n    if (findFeatureFun) {\r\n      const feature = this._layers.filter(findFeatureFun);\r\n      feature.forEach((x) => {\r\n        this._selectLayer(x.layer);\r\n      });\r\n    } else if (!this.selected) {\r\n      this.selected = true;\r\n      if (this.selectedPaint) {\r\n        this.setPaintEachLayer(this.selectedPaint);\r\n      }\r\n    }\r\n  }\r\n\r\n  unselect(findFeatureFun?) {\r\n    if (findFeatureFun) {\r\n      const feature = this._layers.filter(findFeatureFun);\r\n      feature.forEach((x) => {\r\n        this._unselectLayer(x.layer);\r\n      });\r\n    } else if (this.selected) {\r\n      this.selected = false;\r\n      this.setPaintEachLayer(this.paint);\r\n    }\r\n  }\r\n\r\n  getSelected() {\r\n    return this._selectedLayers.map((x) => {\r\n      return { feature: x.feature, layer: x };\r\n    });\r\n  }\r\n\r\n  filter(fun) {\r\n    // Some optimization\r\n    // @ts-ignore\r\n    const _map = this.layer._map;\r\n    if (_map) {\r\n      this.layer.remove();\r\n    }\r\n\r\n    this._layers.forEach(({ feature, layer }) => {\r\n      const ok = fun({ feature, layer });\r\n      if (ok) {\r\n        this.layer.addLayer(layer);\r\n      } else {\r\n        this.layer.removeLayer(layer);\r\n      }\r\n    });\r\n    if (_map) {\r\n      this.layer.addTo(_map);\r\n    }\r\n  }\r\n\r\n  getLayers() {\r\n    return this._layers.map(({layer, feature}) => Object.create({\r\n      feature,\r\n      layer,\r\n      visible: layer._map\r\n    }));\r\n  }\r\n\r\n  private setPaintEachLayer(paint: GetPaintCallback | GeoJsonAdapterLayerPaint) {\r\n    this.layer.eachLayer((l) => {\r\n      this.setPaint(l, paint);\r\n    });\r\n  }\r\n\r\n  private setPaint(l, paint: GetPaintCallback | GeoJsonAdapterLayerPaint) {\r\n    let style: GeoJsonAdapterLayerPaint;\r\n    if (typeof paint === 'function') {\r\n      style = paint(l.feature);\r\n    } else {\r\n      style = paint;\r\n    }\r\n    if (this.type === 'circle' && style.type === 'icon') {\r\n      const marker = l as Marker;\r\n      const divIcon = this.createDivIcon(style);\r\n      marker.setIcon(divIcon);\r\n    } else if ('setStyle' in l) {\r\n      l.setStyle(this.preparePaint(style));\r\n    }\r\n  }\r\n\r\n  private preparePaint(paint): PathOptions {\r\n    const path: CircleMarkerOptions | PathOptions = paint;\r\n    if (path.opacity) {\r\n      path.fillOpacity = path.opacity;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  private getGeoJsonOptions(options: GeoJsonAdapterOptions, type: GeoJsonAdapterLayerType): GeoJSONOptions {\r\n    const paint = options.paint;\r\n    let lopt: GeoJSONOptions = {};\r\n\r\n    if (typeof paint === 'function') {\r\n      if (type === 'circle') {\r\n        lopt = {\r\n          pointToLayer: (feature, latLng) => {\r\n            const iconOpt = paint(feature);\r\n            const pointToLayer = this.createPaintToLayer(iconOpt as IconOptions);\r\n            return pointToLayer(feature, latLng);\r\n          }\r\n        };\r\n      } else {\r\n        lopt = {\r\n          style: (feature) => {\r\n            return { ...PAINT, ...paint(feature) };\r\n          }\r\n        };\r\n      }\r\n    } else {\r\n      lopt = this.createPaintOptions((paint as GeoJsonAdapterLayerPaint), type);\r\n    }\r\n\r\n    lopt.onEachFeature = (feature, layer) => {\r\n      this._layers.push({ feature, layer });\r\n      this.layer.addLayer(layer);\r\n      if (options.selectable) {\r\n        layer.on('click', this._onLayerClick, this);\r\n      }\r\n    };\r\n\r\n    return lopt;\r\n  }\r\n\r\n  private _onLayerClick(e) {\r\n    DomEvent.stopPropagation(e);\r\n    const layer = e.target;\r\n    let isSelected = this._selectedLayers.indexOf(layer) !== -1;\r\n    if (isSelected) {\r\n      if (this.options.unselectOnSecondClick) {\r\n        this._unselectLayer(layer);\r\n        isSelected = false;\r\n      }\r\n    } else {\r\n      this._selectLayer(layer);\r\n      isSelected = true;\r\n    }\r\n    if (this.onLayerClick) {\r\n      this.onLayerClick({\r\n        adapter: this,\r\n        layer,\r\n        feature: layer.feature,\r\n        selected: isSelected\r\n      });\r\n    }\r\n  }\r\n\r\n  private _selectLayer(layer) {\r\n    if (!this.options.multiselect) {\r\n      this._selectedLayers.forEach((x) => this._unselectLayer(x));\r\n    }\r\n    this._selectedLayers.push(layer);\r\n    this.selected = true;\r\n    if (this.options.selectedPaint) {\r\n      this.setPaint(layer, this.options.selectedPaint);\r\n    }\r\n  }\r\n\r\n  private _unselectLayer(layer) {\r\n    const index = this._selectedLayers.indexOf(layer);\r\n    if (index !== -1) {\r\n      this._selectedLayers.splice(index, 1);\r\n    }\r\n    this.selected = this._selectedLayers.length > 0;\r\n    this.setPaint(layer, this.options.paint);\r\n  }\r\n\r\n  private createDivIcon(icon: IconOptions) {\r\n    const { type, ...toLIconOpt } = icon;\r\n    return new DivIcon({ className: '', ...toLIconOpt });\r\n  }\r\n\r\n  private createPaintToLayer(icon: IconOptions) {\r\n    if (icon.type === 'icon') {\r\n      const iconClassName = icon.className;\r\n      const html = icon.html;\r\n      if (iconClassName || html) {\r\n        return (geoJsonPoint, latlng) => {\r\n          const divIcon = this.createDivIcon(icon);\r\n          return new Marker(latlng, { icon: divIcon });\r\n        };\r\n      }\r\n    } else {\r\n      return (geoJsonPoint, latlng) => {\r\n        return new CircleMarker(latlng, this.preparePaint({ ...PAINT, ...icon }));\r\n      };\r\n    }\r\n  }\r\n\r\n  private createPaintOptions(paintOptions: GeoJsonAdapterLayerPaint, type: GeoJsonAdapterLayerType): GeoJSONOptions {\r\n    const geoJsonOptions: GeoJSONOptions = {};\r\n    const paint = (paintOptions && this.preparePaint(paintOptions)) || {};\r\n    if (paintOptions) {\r\n      geoJsonOptions.style = (feature) => {\r\n        return paint;\r\n      };\r\n    }\r\n    if (type === 'circle') {\r\n      geoJsonOptions.pointToLayer = this.createPaintToLayer(paintOptions as IconOptions);\r\n    } else if (type === 'line') {\r\n      paint.stroke = true;\r\n    }\r\n    return geoJsonOptions;\r\n  }\r\n}\r\n\r\nfunction detectType(geojson: GeoJsonObject): GeoJsonGeometryTypes {\r\n  let geometry: GeoJsonGeometryTypes;\r\n  if (geojson.type === 'FeatureCollection') {\r\n    const featuresTypes = (geojson as FeatureCollection).features.map((f) => f.geometry.type);\r\n    geometry = findMostFrequentGeomType(featuresTypes);\r\n  } else if (geojson.type === 'GeometryCollection') {\r\n    const geometryTypes = (geojson as GeometryCollection).geometries.map((g) => g.type);\r\n    geometry = findMostFrequentGeomType(geometryTypes);\r\n  } else if (geojson.type === 'Feature') {\r\n    geometry = (geojson as Feature).geometry.type;\r\n  } else {\r\n    geometry = geojson.type;\r\n  }\r\n  return geometry;\r\n}\r\n\r\nfunction findMostFrequentGeomType(arr: GeoJsonGeometryTypes[]): GeoJsonGeometryTypes {\r\n  const counts: { [x: string]: number } = {};\r\n  for (let fry = 0; fry < arr.length; fry++) {\r\n    counts[arr[fry]] = 1 + (counts[arr[fry]] || 0);\r\n  }\r\n  let maxName: string;\r\n  for (const c in counts) {\r\n    if (counts[c] > (counts[maxName] || 0)) {\r\n      maxName = c;\r\n    }\r\n  }\r\n  return maxName as GeoJsonGeometryTypes;\r\n}\r\n\r\nfunction geometryFilter(geometry: GeoJsonGeometryTypes, type: GeoJsonAdapterLayerType): boolean {\r\n  return backAliases[type].indexOf(geometry) !== -1;\r\n}\r\n\r\nfunction filterGeometries(data: GeoJsonObject, type: GeoJsonAdapterLayerType): GeoJsonObject | false {\r\n  if (data.type === 'FeatureCollection') {\r\n    (data as FeatureCollection).features = (data as FeatureCollection).features\r\n      .filter((f) => geometryFilter(f.geometry.type, type));\r\n  } else if (data.type === 'Feature') {\r\n    const allow = geometryFilter((data as Feature).geometry.type, type);\r\n    if (!allow) {\r\n      return false;\r\n    }\r\n  } else if (data.type === 'GeometryCollection') {\r\n    (data as GeometryCollection).geometries = (data as GeometryCollection).geometries\r\n      .filter((g) => geometryFilter(g.type, type));\r\n  }\r\n  return data;\r\n}\r\n","import { Control } from 'leaflet';\r\n// import { AttributionControlOptions } from '@nextgis/webmap';\r\n\r\nexport class AttributionControl extends Control.Attribution {\r\n\r\n  // options: AttributionControlOptions\r\n  constructor(options) {\r\n    super(options);\r\n    if (options.customAttribution) {\r\n      const attributions = [].concat(options.customAttribution);\r\n      attributions.forEach((x) => this.addAttribution(x));\r\n    }\r\n  }\r\n\r\n}\r\n","import { LayerAdapter } from '@nextgis/webmap';\r\n// import wms from 'leaflet.wms/src/leaflet.wms.js';\r\nimport wms from './wms';\r\n\r\nlet ID = 1;\r\n\r\nexport class ImageAdapter implements LayerAdapter {\r\n\r\n  name: string;\r\n  layer: any;\r\n\r\n  addLayer(options?) {\r\n    options = { transparent: true, ...options };\r\n    const updateWmsParamsFromOpt = options.updateWmsParams;\r\n    this.name = options.id || 'image-' + ID++;\r\n    this.layer = wms.overlay(options.url, options);\r\n    if (updateWmsParamsFromOpt) {\r\n      const updateWmsParams = this.layer.updateWmsParams;\r\n      this.layer.updateWmsParams = function (map) {\r\n        updateWmsParams.call(this, map);\r\n        this.wmsParams = updateWmsParamsFromOpt(this.wmsParams);\r\n      };\r\n    }\r\n    return this.layer;\r\n  }\r\n}\r\n","import { MapControl, CreateControlOptions } from '@nextgis/webmap';\r\nimport { Control } from 'leaflet';\r\n\r\nexport function createControl(control: MapControl, options: CreateControlOptions = {}): Control  {\r\n  const C = Control.extend({\r\n    onAdd () {\r\n      const element = document.createElement('div');\r\n      const content: HTMLElement = control.onAdd();\r\n      element.classList.add('leaflet-control');\r\n      if (options.bar) {\r\n        element.classList.add('leaflet-bar');\r\n      }\r\n      element.appendChild(content);\r\n      return element;\r\n    },\r\n    onRemove () {\r\n      control.onRemove();\r\n    }\r\n  });\r\n  return new C();\r\n}\r\n","import { MapAdapter, MapOptions, LayerMem, MapControl, CreateControlOptions, CreateButtonControlOptions } from '@nextgis/webmap';\r\nimport { Map, Control, Layer, GridLayer } from 'leaflet';\r\nimport { EventEmitter } from 'events';\r\nimport { TileAdapter } from './layer-adapters/TileAdapter';\r\nimport { GeoJsonAdapter } from './layer-adapters/GeoJsonAdapter';\r\nimport { AttributionControl } from './controls/Attribution';\r\nimport { ImageAdapter } from './layer-adapters/ImageAdapter';\r\nimport { createControl } from './controls/createControl';\r\nimport { createButtonControl } from './controls/createButtonControl';\r\n\r\nexport interface LeafletMapAdapterOptions extends MapOptions {\r\n  id?: string;\r\n}\r\n\r\nexport class LeafletMapAdapter implements MapAdapter<Map, any, Control> {\r\n\r\n  static layerAdapters = {\r\n    IMAGE: ImageAdapter,\r\n    TILE: TileAdapter,\r\n    GEOJSON: GeoJsonAdapter,\r\n    // // MVT: MvtAdapter,\r\n    // OSM: OsmAdapter,\r\n    // MARKER: MarkerAdapter,\r\n  };\r\n\r\n  static controlAdapters = {\r\n    ZOOM: Control.Zoom,\r\n    ATTRIBUTION: AttributionControl,\r\n  };\r\n\r\n  options: LeafletMapAdapterOptions = { target: 'map' };\r\n\r\n  layerAdapters = LeafletMapAdapter.layerAdapters;\r\n\r\n  displayProjection = 'EPSG:3857';\r\n  lonlatProjection = 'EPSG:4326';\r\n  emitter = new EventEmitter();\r\n\r\n  map: Map;\r\n\r\n  // create(options: MapOptions = {target: 'map'}) {\r\n  create(options: LeafletMapAdapterOptions = { target: 'map' }) {\r\n    this.options = Object.assign({}, options);\r\n\r\n    this.map = new Map(this.options.target, { zoomControl: false, attributionControl: false });\r\n    this.emitter.emit('create', { map: this.map });\r\n\r\n    this._addMapListeners();\r\n  }\r\n\r\n  getContainer(): HTMLElement {\r\n    return this.map.getContainer();\r\n  }\r\n\r\n  onMapLoad(cb?: any): Promise<void> {\r\n    return new Promise((resolve) => {\r\n      if (this.map) {\r\n        resolve(cb && cb());\r\n      } else {\r\n        this.emitter.once('create', () => {\r\n          resolve(cb && cb());\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  setCenter(lngLat: [number, number]) {\r\n    const [lng, lat] = lngLat;\r\n    this.map.setView([lat, lng], this.map.getZoom());\r\n  }\r\n\r\n  setZoom(zoom: number) {\r\n    this.map.setZoom(zoom);\r\n  }\r\n\r\n  getZoom() {\r\n    return this.map.getZoom();\r\n  }\r\n\r\n  // [extent_left, extent_bottom, extent_right, extent_top];\r\n  fit(e: [number, number, number, number]) {\r\n    // top, left, bottom, right\r\n    this.map.fitBounds([[e[3], e[0]], [e[1], e[2]]]);\r\n  }\r\n\r\n  getLayerAdapter(name: string) {\r\n    return LeafletMapAdapter.layerAdapters[name];\r\n  }\r\n\r\n  createControl(control: MapControl, options: CreateControlOptions) {\r\n    return createControl(control, options);\r\n  }\r\n\r\n  createButtonControl(options: CreateButtonControlOptions) {\r\n    return createButtonControl(options);\r\n  }\r\n\r\n  addControl(controlDef, position: string, options?) {\r\n    let control;\r\n    if (typeof controlDef === 'string') {\r\n      const engine = LeafletMapAdapter.controlAdapters[controlDef];\r\n      if (engine) {\r\n        control = new engine(options);\r\n      }\r\n    } else {\r\n      control = controlDef;\r\n    }\r\n    if (control) {\r\n      control.options.position = position.replace('-', '');\r\n      this.map.addControl(control);\r\n      return control;\r\n    }\r\n  }\r\n\r\n  removeLayer(layer: Layer) {\r\n    layer.remove();\r\n  }\r\n\r\n  showLayer(layer: Layer) {\r\n    layer.addTo(this.map);\r\n  }\r\n\r\n  hideLayer(layer: Layer) {\r\n    layer.remove();\r\n  }\r\n\r\n  setLayerOpacity(layerName: string, value: number) {\r\n    // ignore\r\n  }\r\n\r\n  setLayerOrder(layer, order, layers: { [x: string]: LayerMem }) {\r\n    const baseLayers = [];\r\n\r\n    const orderedLayers = Object.keys(layers).filter((x) => {\r\n      if (layers[x].baseLayer) {\r\n        baseLayers.push(x);\r\n        return false;\r\n      }\r\n      return true;\r\n    }).sort((a, b) => {\r\n      return layers[a].order - layers[b].order;\r\n    });\r\n\r\n    // normilize vector layer ordering\r\n    baseLayers.forEach((x) => {\r\n      layers[x].layer.bringToBack();\r\n    });\r\n    for (let fry = 0; fry < orderedLayers.length; fry++) {\r\n      if (layers[orderedLayers[fry]].onMap) {\r\n        layers[orderedLayers[fry]].layer.bringToFront();\r\n      }\r\n    }\r\n    // set raser layer ordering\r\n    if (layer.setZIndex) {\r\n      layer.setZIndex(order);\r\n    }\r\n  }\r\n\r\n  onMapClick(evt) {\r\n    const coord = evt.containerPoint;\r\n    const latLng = evt.latlng;\r\n    this.emitter.emit('click', {\r\n      latLng,\r\n      pixel: { left: coord.x, top: coord.y },\r\n      source: evt,\r\n    });\r\n  }\r\n\r\n  private _addMapListeners() {\r\n    this.map.on('click', (evt) => {\r\n      this.onMapClick(evt);\r\n    });\r\n  }\r\n\r\n}\r\n","import { LeafletMapAdapter } from './LeafletMapAdapter';\r\n\r\nexport default LeafletMapAdapter;\r\n","import { CreateButtonControlOptions } from '@nextgis/webmap';\nimport { createControl } from './createControl';\nimport { DomEvent } from 'leaflet';\n\nexport function createButtonControl(options: CreateButtonControlOptions) {\n  const link = document.createElement('a');\n\n  link.href = '#';\n  link.title = options.title;\n\n  link.setAttribute('role', 'button');\n  link.setAttribute('aria-label', options.title);\n\n  DomEvent.disableClickPropagation(link);\n  DomEvent.on(link, 'click', DomEvent.stop);\n\n  if (options.html instanceof HTMLElement) {\n    link.appendChild(options.html);\n  } else {\n    link.innerHTML = options.html;\n  }\n\n  const onClick = (e: Event) => {\n    e.stopPropagation();\n    options.onClick();\n  };\n  if (options.onClick) {\n    link.addEventListener('click', onClick);\n  }\n\n  return createControl({\n    onAdd() {\n      return link;\n    },\n    onRemove() {\n      const parent = link.parentNode;\n      if (parent) {\n        parent.removeChild(link);\n      }\n      if (options.onClick) {\n        link.removeEventListener('click', onClick);\n      }\n    }\n  }, { bar: true });\n}\n","export function filterIn(entry, filterFunc = (x) => x, relationFunc, _filtered = []) {\r\n  let child;\r\n  if (Array.isArray(entry)) {\r\n    child = entry;\r\n  } else {\r\n    const filter = filterFunc(entry);\r\n    if (filter) {\r\n      _filtered.push(entry);\r\n    }\r\n    const relChild = relationFunc(entry);\r\n    if (relChild) {\r\n      child = [].concat(relChild);\r\n    }\r\n  }\r\n  if (child) {\r\n    for (let fry = 0; fry < child.length; fry++) {\r\n      if (child[fry]) {\r\n        filterIn(child[fry], filterFunc, relationFunc, _filtered);\r\n      }\r\n    }\r\n  }\r\n  return _filtered;\r\n}\r\n","import { Entry } from './Entry';\r\nimport { filterIn } from './TreeUtil';\r\n\r\nexport class TreeHelper {\r\n\r\n  entry: Entry;\r\n\r\n  private _parent?: Entry;\r\n  private _children?: Entry[] = [];\r\n\r\n  constructor(entry: Entry) {\r\n    this.entry = entry;\r\n  }\r\n\r\n  // region Parents\r\n  setParent(parent: Entry) {\r\n    this._parent = parent;\r\n  }\r\n\r\n  addChildren(children: Entry) {\r\n    this._children.push(children);\r\n  }\r\n\r\n  getParent(): Entry {\r\n    return this._parent;\r\n  }\r\n\r\n  getParents(filterFunc?: (entry: Entry) => boolean): Entry[] {\r\n    if (this.getParent()) {\r\n      const generator = filterIn(this._parent, filterFunc, (x: Entry) => x.tree.getParent());\r\n      return generator;\r\n    }\r\n    return [];\r\n  }\r\n  // endregion\r\n\r\n  // region Child\r\n  getDescendants(filterFunc?: (entry: Entry) => boolean): any[] {\r\n    return filterIn(this._children, filterFunc, (x) => {\r\n      return x.tree.getChildren();\r\n    });\r\n  }\r\n\r\n  getChildren(): Entry[] {\r\n    return this._children;\r\n  }\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport {Entry} from '../Entry';\r\n// import StrictEventEmitter from 'strict-event-emitter-types/types/src';\r\n\r\nexport interface IEntryBasePropertyOptions<V> {\r\n  hierarchy?: boolean;\r\n  bubble?: boolean;\r\n  propagation?: boolean;\r\n  silent?: boolean;\r\n  value?: V;\r\n  getProperty?: () => V;\r\n  onSet?: (value: V, options?: IEntryBasePropertyOptions<V>) => void;\r\n}\r\n\r\n// export interface BasePropertyEvents<V, O> {\r\n//   'change': {value: V, options: O};\r\n//   'change-tree': {value: V, options: O, entry: Entry};\r\n// }\r\n\r\nexport class BaseProperty<V = any, O extends IEntryBasePropertyOptions<V> = IEntryBasePropertyOptions<V> > {\r\n\r\n  options: O;\r\n\r\n  // emitter: StrictEventEmitter<EventEmitter, BasePropertyEvents<V, O>> = new EventEmitter();\r\n  emitter = new EventEmitter();\r\n  name: string;\r\n\r\n  entry: Entry;\r\n  _blocked: boolean;\r\n\r\n  private _value: V;\r\n  private _removeEventsListener?: () => void;\r\n  private _container: HTMLElement;\r\n\r\n  constructor(name: string, entry: Entry, options: O) {\r\n    this.entry = entry;\r\n    this.options = Object.assign({}, options);\r\n    this.name = name;\r\n    this._value = this.getProperty();\r\n  }\r\n\r\n  getProperty() {\r\n    if (typeof this.options.getProperty === 'function') {\r\n      return this.options.getProperty.call(this);\r\n    }\r\n    return this.options.value;\r\n  }\r\n\r\n  getParents(): Entry[] {\r\n    return this.entry.tree.getParents() || [];\r\n  }\r\n\r\n  getParent() {\r\n    return this.entry.tree.getParent();\r\n  }\r\n\r\n  isGroup() {\r\n    const children = this.entry.tree.getDescendants();\r\n    return children.length;\r\n  }\r\n\r\n  isBlocked() {\r\n    if (this._blocked === undefined) {\r\n      const parents = this.entry.tree.getParents();\r\n      if (parents) {\r\n        const isBlocked = parents.find((x: Entry) => {\r\n          const parentProp = x.properties.property(this.name);\r\n          if (parentProp) {\r\n            return !parentProp.get();\r\n          }\r\n        });\r\n        this._blocked = !!isBlocked;\r\n      } else {\r\n        this._blocked = false;\r\n      }\r\n    }\r\n    return this._blocked;\r\n  }\r\n\r\n  set(value: V, options?: O) {\r\n    this._value = this._prepareValue(value);\r\n\r\n    this.update(this._value, options);\r\n    this._fireChangeEvent(this._value, options);\r\n  }\r\n\r\n  // shortcut for getValue\r\n  get(): V {\r\n    return this.getValue();\r\n  }\r\n\r\n  update(value?: V, options?: O) {\r\n    this._callOnSet(value, options);\r\n  }\r\n\r\n  getContainer() {\r\n    return this._container;\r\n  }\r\n\r\n  destroy() {\r\n    if (this._container) {\r\n      this._container.parentNode.removeChild(this._container);\r\n    }\r\n    if (this._removeEventsListener) {\r\n      this._removeEventsListener();\r\n    }\r\n  }\r\n\r\n  getValue(): V {\r\n    return this._value !== undefined ? this._value : this.getProperty();\r\n  }\r\n\r\n  _prepareValue(value: V): V {\r\n    return value;\r\n  }\r\n\r\n  _callOnSet(value: V, options: O) {\r\n    if (this.options.onSet) {\r\n      this.options.onSet.call(this, value, options);\r\n    }\r\n  }\r\n\r\n  _fireChangeEvent(value: V, options: O) {\r\n    value = value !== undefined ? value : this.getValue();\r\n    this.emitter.emit('change', {value, options});\r\n    const parents = this.entry.tree.getParents();\r\n    parents.forEach((x) => {\r\n      const prop = x.properties.property(this.name);\r\n      if (prop) {\r\n        prop.emitter.emit('change-tree', {value, options, entry: this.entry});\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {BaseProperty, IEntryBasePropertyOptions} from './BaseProperty';\r\nimport {Entry} from '../Entry';\r\n\r\ninterface ICheckOptions extends IEntryBasePropertyOptions<boolean> {\r\n  label?: string;\r\n\r\n  turnOff?: () => void;\r\n  turnOn?: () => void;\r\n}\r\n\r\nexport class CheckProperty<V = boolean, O = ICheckOptions> extends BaseProperty<boolean, ICheckOptions> {\r\n\r\n  static options: ICheckOptions = {\r\n    hierarchy: true,\r\n    bubble: false,\r\n    propagation: false,\r\n    label: 'Toggle',\r\n    // PropertyContainer: IndicatorContainer\r\n  };\r\n\r\n  constructor(name, entry, options) {\r\n    super(name, entry, Object.assign({}, CheckProperty.options, options));\r\n    this.set(this.get());\r\n  }\r\n\r\n  update(value: boolean, options: ICheckOptions) {\r\n    if (value) {\r\n      const bubble = (options && options.bubble) || this.options.bubble;\r\n      if (bubble) {\r\n        this.unBlock(options);\r\n        const parent = this.getParent();\r\n        const property = parent && parent.properties.property(this.name);\r\n        if (property) {\r\n          property.set(value, Object.assign({}, options, {bubble: true, propagation: false}));\r\n        }\r\n      }\r\n      if (!this.isBlocked()) {\r\n        this._turnOn(options);\r\n      }\r\n    } else {\r\n      this._turnOff(options);\r\n    }\r\n    const propagation = (options && options.propagation) || this.options.propagation;\r\n    if (propagation) {\r\n      this._propagation(value, options);\r\n    }\r\n  }\r\n\r\n  getHierarchyValue() {\r\n    return this.get() && this.getParents().every((x) => {\r\n      const property = x.properties[this.name];\r\n      return property && property.get();\r\n    });\r\n  }\r\n\r\n  _prepareValue(value: boolean) {\r\n    return !!value;\r\n  }\r\n\r\n  _turnOff(options: ICheckOptions) {\r\n    if (this.options.turnOff) {\r\n      this.options.turnOff.call(this, options);\r\n    }\r\n    this._callOnSet(false, options);\r\n    if (this.options.hierarchy && this.isGroup()) {\r\n      this.blockChilds(options);\r\n    }\r\n  }\r\n\r\n  _turnOn(options: ICheckOptions) {\r\n    if (this.options.turnOn) {\r\n      this.options.turnOn.call(this, options);\r\n    }\r\n    this._callOnSet(true, options);\r\n    if (this.options.hierarchy && this.isGroup()) {\r\n      this.unblockChilds(options);\r\n    }\r\n  }\r\n\r\n  block(options: ICheckOptions) {\r\n    this._blocked = true;\r\n    this._block(options);\r\n  }\r\n\r\n  _block(options: ICheckOptions) {\r\n    this._turnOff(options);\r\n  }\r\n\r\n  unBlock(options: ICheckOptions) {\r\n    this._blocked = false;\r\n    if (this.getValue()) {\r\n      this._unBlock(options);\r\n    }\r\n  }\r\n\r\n  _unBlock(options: ICheckOptions) {\r\n    this._turnOn(options);\r\n  }\r\n\r\n  blockChilds(options: ICheckOptions) {\r\n    this.entry.tree.getDescendants().forEach(this._blockChild.bind(this, options));\r\n  }\r\n\r\n  unblockChilds(options: ICheckOptions) {\r\n    this.entry.tree.getChildren().forEach(this._unBlockChild.bind(this, options));\r\n  }\r\n\r\n  _blockChild(options: ICheckOptions, entry: Entry) {\r\n    const prop = entry.properties.property(this.name) as CheckProperty;\r\n    if (prop.block) {\r\n      prop.block(options);\r\n    }\r\n  }\r\n\r\n  _unBlockChild(options: ICheckOptions, entry: Entry) {\r\n    const prop = entry.properties.property(this.name) as CheckProperty;\r\n    if (prop.unBlock) {\r\n      prop.unBlock(options);\r\n    }\r\n  }\r\n\r\n  _propagation(value: boolean, options: ICheckOptions) {\r\n    if (this.isGroup()) {\r\n      const childs = this.entry.tree.getChildren();\r\n      for (let fry = 0; fry < childs.length; fry++) {\r\n        const child = childs[fry];\r\n        const property = child.properties.property(this.name) as CheckProperty;\r\n        if (property) {\r\n          property.set(value, {...options, ...{\r\n            propagation: true,\r\n            bubble: false,\r\n          }});\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { BaseProperty, IEntryBasePropertyOptions } from './BaseProperty';\r\nimport { CheckProperty } from './CheckProperty';\r\nimport { Entry } from '../Entry';\r\nimport { Type } from '../../../utils/Type';\r\n\r\nexport interface IEntryPropertyTypes {\r\n  'boolean': boolean;\r\n  'string': string;\r\n  'number': number;\r\n  'any': any;\r\n}\r\n\r\ninterface IEntryPropertyBaseConfig<K extends keyof IEntryPropertyTypes = any> {\r\n  type?: IEntryPropertyTypes[K];\r\n  name?: string;\r\n}\r\nexport interface IEntryPropertyConfig<K extends keyof IEntryPropertyTypes> extends IEntryPropertyBaseConfig<K> {\r\n  handler?: Type<BaseProperty<IEntryPropertyTypes[K]>>;\r\n}\r\n\r\nexport interface IEntryPropertyConfig<K extends keyof IEntryPropertyTypes> extends IEntryPropertyBaseConfig<K> {\r\n  getProperty?(): IEntryPropertyTypes[K];\r\n  onSet?(value: IEntryPropertyTypes[K], options?: IEntryBasePropertyOptions<IEntryPropertyTypes[K]>): void;\r\n}\r\n\r\nexport class EntryProperties {\r\n\r\n  static handlers: { [name: string]: Type<BaseProperty> } = {\r\n    CheckProperty,\r\n  };\r\n\r\n  options = {};\r\n  entry: Entry;\r\n\r\n  private _properties: { [propName: string]: BaseProperty };\r\n  private _propertiesList: string[];\r\n\r\n  constructor(entry, propertiesList?: Array<IEntryPropertyConfig<keyof IEntryPropertyTypes>>) {\r\n\r\n    this.entry = entry;\r\n    this._properties = {};\r\n    this._propertiesList = []; // ordered list\r\n    if (propertiesList) {\r\n      propertiesList.forEach(this._setPropertyHandler.bind(this));\r\n    }\r\n  }\r\n\r\n  add(propOpt: IEntryPropertyConfig<keyof IEntryPropertyTypes>) {\r\n    this._setPropertyHandler(propOpt);\r\n  }\r\n\r\n  _setPropertyHandler(propOpt: IEntryPropertyConfig<keyof IEntryPropertyTypes>) {\r\n    const handlers = EntryProperties.handlers;\r\n    let handler = propOpt.handler;\r\n    if (!handler && propOpt.type) {\r\n      switch (propOpt.type) {\r\n        case 'boolean':\r\n          handler = handlers.CheckProperty;\r\n          break;\r\n        case 'string':\r\n          handler = handlers.BaseProperty;\r\n          break;\r\n        default:\r\n          handler = handlers.BaseProperty;\r\n      }\r\n    }\r\n    if (handler) {\r\n      const options = { ...propOpt || {} };\r\n      this._properties[propOpt.name] = new handler(\r\n        propOpt.name,\r\n        this.entry,\r\n        options,\r\n      );\r\n      this._propertiesList.push(propOpt.name);\r\n    }\r\n  }\r\n\r\n  update() {\r\n    this.list().forEach((x) => {\r\n      x.update();\r\n    });\r\n  }\r\n\r\n  get(name: string) {\r\n    const prop = this.property(name);\r\n    if (prop) {\r\n      return prop.get();\r\n    }\r\n  }\r\n\r\n  set<K extends keyof IEntryPropertyTypes>(\r\n    name: string,\r\n    value: IEntryPropertyTypes[K],\r\n    options?: IEntryBasePropertyOptions<IEntryPropertyTypes[K]>) {\r\n    const prop = this.property(name);\r\n    if (prop) {\r\n      return prop.set(value, options);\r\n    }\r\n  }\r\n\r\n  property(name) {\r\n    return this._properties[name];\r\n  }\r\n\r\n  list() {\r\n    return this._propertiesList.map((x) => this._properties[x]);\r\n  }\r\n\r\n  destroy() {\r\n    for (const p in this._properties) {\r\n      if (this._properties.hasOwnProperty(p)) {\r\n        const prop = this.property(p);\r\n        if (prop && prop.destroy) {\r\n          prop.destroy();\r\n        }\r\n      }\r\n    }\r\n    this._properties = null;\r\n    this._propertiesList = [];\r\n  }\r\n}\r\n","import { EventEmitter } from 'events';\r\nimport {TreeHelper} from './TreeHelper';\r\nimport {EntryProperties, IEntryPropertyConfig, IEntryPropertyTypes} from './properties/EntryProperties';\r\n\r\nexport interface EntryOptions {\r\n  properties?: Array<IEntryPropertyConfig<keyof IEntryPropertyTypes>>;\r\n}\r\n\r\nlet ID = 0;\r\n\r\nexport class Entry<O extends EntryOptions = EntryOptions> {\r\n\r\n  options: O;\r\n  id: string;\r\n\r\n  emitter = new EventEmitter();\r\n  properties: EntryProperties;\r\n  tree: TreeHelper;\r\n\r\n  constructor(options: EntryOptions) {\r\n    this.options = Object.assign({}, this.options, options);\r\n    this.id = String(ID++);\r\n    this.tree = new TreeHelper(this);\r\n  }\r\n\r\n  initProperties() {\r\n    this.properties = new EntryProperties(this, this.options.properties);\r\n  }\r\n}\r\n","import { Entry, EntryOptions } from './components/entry/Entry';\r\nimport { TreeGroup, TreeLayer } from './interfaces/AppSettings';\r\nimport { LayerAdapters } from './interfaces/LayerAdapter';\r\nimport WebMap from '.';\r\n\r\nexport class WebLayerEntry extends Entry<EntryOptions> {\r\n  static options: EntryOptions = {\r\n    properties: [\r\n      {\r\n        type: 'boolean',\r\n        name: 'visibility',\r\n        getProperty() {\r\n          const entry: WebLayerEntry = this.entry;\r\n          if (entry.item.item_type === 'group') {\r\n            return true;\r\n          } else if (entry.item.item_type === 'layer') {\r\n            return entry.item.layer_enabled;\r\n          } else if (entry.item.item_type === 'root') {\r\n            return true;\r\n          }\r\n          return false;\r\n        },\r\n        onSet(value: boolean) {\r\n          const entry: WebLayerEntry = this.entry;\r\n          if (entry.item.item_type === 'layer') {\r\n            if (value) {\r\n              entry.webMap.showLayer(entry.id);\r\n            } else {\r\n              entry.webMap.hideLayer(entry.id);\r\n            }\r\n            entry.item.layer_enabled = value;\r\n          }\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  item: TreeGroup | TreeLayer;\r\n\r\n  constructor(public webMap: WebMap,\r\n              item: TreeGroup | TreeLayer, options?: EntryOptions, parent?: WebLayerEntry) {\r\n    super(Object.assign({}, WebLayerEntry.options, options));\r\n\r\n    this.item = item;\r\n    if (parent) {\r\n      this.tree.setParent(parent);\r\n    }\r\n    this.initProperties();\r\n    this.initItem(item);\r\n  }\r\n\r\n  async initItem(item: TreeGroup | TreeLayer) {\r\n    let newLayer = item._layer;\r\n    if (item.item_type === 'group' || item.item_type === 'root') {\r\n      if (item.children && item.children.length) {\r\n        item.children.reverse().forEach((x) => {\r\n          const children = new WebLayerEntry(this.webMap, x, this.options, this);\r\n          this.tree.addChildren(children);\r\n        });\r\n      }\r\n    } else if (item.item_type === 'layer') {\r\n      const adapter = item.layer_adapter.toUpperCase() as keyof LayerAdapters;\r\n      item.id = Number(this.id);\r\n      const options: any = {...item, ...{id: item.id}};\r\n      newLayer = await this.webMap.addLayer(adapter, options);\r\n    }\r\n    if (newLayer) {\r\n      item._layer = newLayer;\r\n      if (item.item_type === 'layer' && item.layer_enabled) {\r\n        this.properties.property('visibility').set(true);\r\n      }\r\n    } else {\r\n      // this.properties.get('visibility').set(true);\r\n    }\r\n  }\r\n\r\n  // region layer control\r\n  fit(): void {\r\n    if (this.item.item_type === 'layer') {\r\n      console.log(this.item);\r\n    }\r\n  }\r\n  //\r\n}\r\n","export class KeyCodes {\r\n  'backspace' = 8;\r\n  'tab' = 9;\r\n  'enter' = 13;\r\n  'shift' = 16;\r\n  'ctrl' = 17;\r\n  'alt' = 18;\r\n  'pause/break' = 19;\r\n  'caps_lock' = 20;\r\n  'escape' = 27;\r\n  'page_up' = 33;\r\n  'page_down' = 34;\r\n  'end' = 35;\r\n  'home' = 36;\r\n  'left_arrow' = 37;\r\n  'up_arrow' = 38;\r\n  'right_arrow' = 39;\r\n  'down_arrow' = 40;\r\n  'insert' = 45;\r\n  'delete' = 46;\r\n  'left_window_key' = 91;\r\n  'right_window_key' = 92;\r\n  'select_key' = 93;\r\n  'numpad_0' = 96;\r\n  'numpad_1' = 97;\r\n  'numpad_2' = 98;\r\n  'numpad_3' = 99;\r\n  'numpad_4' = 100;\r\n  'numpad_5' = 101;\r\n  'numpad_6' = 102;\r\n  'numpad_7' = 103;\r\n  'numpad_8' = 104;\r\n  'numpad_9' = 105;\r\n  'multiply' = 106;\r\n  'add' = 107;\r\n  'subtract' = 109;\r\n  'decimal_point' = 110;\r\n  'divide' = 111;\r\n  'f1' = 112;\r\n  'f2' = 113;\r\n  'f3' = 114;\r\n  'f4' = 115;\r\n  'f5' = 116;\r\n  'f6' = 117;\r\n  'f7' = 118;\r\n  'f8' = 119;\r\n  'f9' = 120;\r\n  'f10' = 121;\r\n  'f11' = 122;\r\n  'f12' = 123;\r\n  'num_lock' = 144;\r\n  'scroll_lock' = 145;\r\n  'semi-colon' = 186;\r\n  'equal_sign' = 187;\r\n  ',' = 188; // \"comma\";\r\n  '-' = 189; // \"dash\";\r\n  '.' = 190; // \"period\";\r\n  '/' = 191; // \"forward slash\";\r\n  '`' = 192; // \"grave accent\";\r\n  '[' = 219; // \"open bracket\";\r\n  '\\\\' = 220; // \"back slash\";\r\n  ']' = 221; // \"close braket\";\r\n  '\\'' = 222; // \"single quote\"\r\n}\r\n","import {KeyCodes} from './KeysCodes';\r\n\r\n/**\r\n * @param {string} key - key symbol\r\n * @param {string} func - action on key press\r\n * @param {number} [keyCode] - key code for special button like tab\r\n *\r\n * @export\r\n * @interface IKeyControl\r\n */\r\nexport interface IKeyControl {\r\n  key?: string;\r\n  keyCode?: number;\r\n  func: () => void;\r\n}\r\n\r\nexport class Keys {\r\n\r\n  keyCodeAlias = new KeyCodes();\r\n\r\n  keys: {[keyCode: number]: boolean} = {};\r\n\r\n  private _windowOnFocus?: () => void;\r\n  private _keysPressed?: () => void;\r\n  private _keysReleased?: () => void;\r\n\r\n  constructor() {\r\n    this._windowOnFocus = this.windowOnFocus.bind(this);\r\n    this._keysPressed = this.keysPressed.bind(this);\r\n    this._keysReleased = this.keysReleased.bind(this);\r\n    this.addKeyboardEventsListener();\r\n  }\r\n\r\n  pressed(keyName: keyof KeyCodes): boolean {\r\n    const code = this.keyCodeAlias[keyName];\r\n    if (code) {\r\n      return this.keys[code];\r\n    }\r\n  }\r\n\r\n  addKeyboardEventsListener() {\r\n    window.addEventListener('focus', this._windowOnFocus, false);\r\n    window.addEventListener('keydown', this._keysPressed, false);\r\n    window.addEventListener('keyup', this._keysReleased, false);\r\n  }\r\n\r\n  removeKeyboardEventsListener() {\r\n    window.removeEventListener('focus', this._windowOnFocus, false);\r\n    window.removeEventListener('keydown', this._keysPressed, false);\r\n    window.removeEventListener('keyup', this._keysReleased, false);\r\n  }\r\n\r\n  private keysPressed(e) {\r\n    e.stopPropagation();\r\n    if (!this.keys[e.keyCode]) {\r\n      this.keys[e.keyCode] = true;\r\n    }\r\n  }\r\n\r\n  private keysReleased(e) {\r\n    e.stopPropagation();\r\n    this.keys[e.keyCode] = false;\r\n  }\r\n\r\n  private windowOnFocus() {\r\n    this.keys = {};\r\n  }\r\n}\r\n","const opts = Object.prototype.toString;\r\n\r\nexport function isString(it) {\r\n  return (typeof it === 'string' || it instanceof String); // Boolean\r\n}\r\n\r\n/**\r\n * Return true if it is a Function\r\n * @param it Item to test.\r\n */\r\nexport function isFunction(it) {\r\n  return opts.call(it) === '[object Function]';\r\n}\r\n\r\nexport function getProp(parts: any[], create: boolean, context: object) {\r\n  try {\r\n    for (let i = 0; i < parts.length; i++) {\r\n      const p = parts[i];\r\n      if (!(p in context)) {\r\n        if (create) {\r\n          context[p] = {};\r\n        } else {\r\n          return;\t\t// return undefined\r\n        }\r\n      }\r\n      context = context[p];\r\n    }\r\n    return context; // mixed\r\n  } catch (e) {\r\n    // \"p in context\" throws an exception when context is a number, boolean, etc. rather than an object,\r\n    // so in that corner case just return undefined (by having no return statement)\r\n  }\r\n}\r\n\r\nexport function setObject(name: string, value, context: object) {\r\n  const parts = name.split('.');\r\n  const p = parts.pop();\r\n  const obj = getProp(parts, true, context);\r\n  return obj && p ? (obj[p] = value) : undefined; // Object\r\n}\r\n\r\nexport function hitch(scope, method) {\r\n\r\n  if (!method) {\r\n    method = scope;\r\n    scope = null;\r\n  }\r\n  if (isString(method)) {\r\n    scope = scope;\r\n    if (!scope[method]) {throw (['lang.hitch: scope[\"', method, '\"] is null (scope=\"', scope, '\")'].join('')); }\r\n    return function() {return scope[method].apply(scope, arguments || []); }; // Function\r\n  }\r\n  return !scope ? method : function() {return method.apply(scope, arguments || []); }; // Function\r\n}\r\n\r\nexport function deepmerge(target, src, mergeArray = false) {\r\n  const array = Array.isArray(src);\r\n  let dst: any = array && [] || {};\r\n\r\n  if (array) {\r\n\r\n    if (mergeArray) {\r\n      target = target || [];\r\n      dst = dst.concat(target);\r\n      src.forEach(function(e, i) {\r\n        if (typeof dst[i] === 'undefined') {\r\n          dst[i] = e;\r\n        } else if (typeof e === 'object') {\r\n          dst[i] = deepmerge(target[i], e, mergeArray);\r\n        } else {\r\n          if (target.indexOf(e) === -1) {\r\n            dst.push(e);\r\n          }\r\n        }\r\n      });\r\n    } else { // Replace array. Do not merge by default\r\n      dst = src;\r\n    }\r\n\r\n  } else {\r\n    if (target && typeof target === 'object') {\r\n      Object.keys(target).forEach(function(key) {\r\n        dst[key] = target[key];\r\n      });\r\n    }\r\n    Object.keys(src).forEach(function(key) {\r\n      if (typeof src[key] !== 'object' || !src[key]) {\r\n        dst[key] = src[key];\r\n      } else {\r\n        if (!target[key]) {\r\n          dst[key] = src[key];\r\n        } else {\r\n          dst[key] = deepmerge(target[key], src[key], mergeArray);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return dst;\r\n}\r\n\r\nexport function fixUrlStr(url: string) {\r\n  // remove double slash\r\n  return url.replace(/([^:]\\/)\\/+/g, '$1');\r\n}\r\n","import { WebMap,  } from './WebMap';\r\n\r\nexport * from './WebMap';\r\nexport * from './WebLayerEntry';\r\nexport * from './interfaces/WebMapApp';\r\nexport * from './interfaces/MapAdapter';\r\nexport * from './interfaces/DialogAdapter';\r\nexport * from './interfaces/MapControl';\r\nexport * from './interfaces/LayerAdapter';\r\nexport * from './interfaces/AppSettings';\r\n\r\nexport default WebMap;\r\n","import { MapOptions, AppOptions } from './interfaces/WebMapApp';\nimport { AppSettings, StarterKit } from './interfaces/AppSettings';\nimport { WebLayerEntry } from './WebLayerEntry';\nimport { Keys } from './components/keys/Keys';\nimport { EventEmitter } from 'events';\nimport { MapAdapter, MapClickEvent, ControlPositions, FitOptions } from './interfaces/MapAdapter';\nimport { RuntimeParams } from './interfaces/RuntimeParams';\nimport { deepmerge } from './utils/lang';\nimport { LayerAdapters, LayerAdapter, OnLayerClickOptions } from './interfaces/LayerAdapter';\nimport { Type } from './utils/Type';\nimport { MapControl, MapControls, CreateControlOptions, CreateButtonControlOptions } from './interfaces/MapControl';\n\nexport interface LayerMem<L = any> {\n  id: string;\n  layer: L;\n  onMap: boolean;\n  order?: number;\n  baseLayer?: boolean;\n  adapter: LayerAdapter;\n}\n\nexport class WebMap<M = any, L = any, C = any> {\n\n  options: MapOptions;\n\n  displayProjection = 'EPSG:3857';\n  lonlatProjection = 'EPSG:4326';\n\n  settings: AppSettings;\n  layers: WebLayerEntry;\n  emitter = new EventEmitter();\n  keys: Keys = new Keys(); // TODO: make injectable cached\n  mapAdapter: MapAdapter<M>;\n  runtimeParams: RuntimeParams[];\n\n  private DPI = 1000 / 39.37 / 0.28;\n  private IPM = 39.37;\n\n  private settingsIsLoading = false;\n  private _starterKits: StarterKit[];\n  private _baseLayers: string[] = [];\n  private _extent: [number, number, number, number];\n  private _layers: { [x: string]: LayerMem } = {};\n  private _layersIds: number = 1;\n\n  private _selectedLayers: string[] = [];\n\n  constructor(appOptions: AppOptions) {\n    this.mapAdapter = appOptions.mapAdapter;\n    this._starterKits = appOptions.starterKits || [];\n\n    this._addEventsListeners();\n  }\n\n  async create(options: MapOptions): Promise<this> {\n\n    this.options = deepmerge(this.options || {}, options);\n\n    if (!this.settings && this._starterKits.length) {\n      try {\n        await this.getSettings();\n      } catch (er) {\n        console.error(er);\n      }\n    }\n    await this._setupMap();\n    return this;\n  }\n\n  async getSettings(): Promise<AppSettings | Error> {\n    if (this.settings) {\n      return Promise.resolve(this.settings);\n    }\n    if (this.settingsIsLoading) {\n\n      return new Promise<AppSettings>((resolve) => {\n        const onLoad = (x) => {\n          resolve(x);\n          this.emitter.removeListener('load-settings', onLoad);\n        };\n        this.emitter.on('load-settings', onLoad);\n      });\n    } else {\n      this.settingsIsLoading = true;\n      let settings: AppSettings | boolean;\n      try {\n        settings = {};\n\n        for (const kit of this._starterKits.filter((x) => x.getSettings)) {\n          const setting = await kit.getSettings.call(kit, this);\n          if (setting) {\n            Object.assign(settings, setting);\n          }\n        }\n      } catch (er) {\n        this.settingsIsLoading = false;\n        throw new Error(er);\n      }\n      if (settings) {\n        this.settings = settings;\n        this.settingsIsLoading = false;\n        this.emitter.emit('load-settings', settings);\n        return settings;\n      }\n    }\n  }\n\n  // region MapAdapter methods\n  onMapLoad(cb?: any): Promise<void> {\n    const mapAdapterOnLoad = this.mapAdapter.onMapLoad;\n    if (mapAdapterOnLoad) {\n      return mapAdapterOnLoad.call(this.mapAdapter, cb);\n    }\n    return Promise.resolve(cb);\n  }\n\n  async addBaseLayer(\n    provider: keyof LayerAdapters | Type<LayerAdapter>,\n    options?: any): Promise<LayerAdapter> {\n\n    const layer = await this.addLayer(provider, { ...options }, true);\n    if (layer) {\n      this._baseLayers.push(layer.name);\n    }\n    return layer;\n  }\n\n  isBaseLayer(layerName: string): boolean {\n    return this._baseLayers.indexOf(layerName) !== -1;\n  }\n\n  setCenter(lngLat: [number, number]): this {\n    this.mapAdapter.setCenter(lngLat);\n    return this;\n  }\n\n  setZoom(zoom: number): this {\n    this.mapAdapter.setZoom(zoom);\n    return this;\n  }\n\n  getZoom(): number {\n    return this.mapAdapter.getZoom();\n  }\n\n  setView(lngLat: [number, number], zoom) {\n    if (this.mapAdapter.setView) {\n      this.mapAdapter.setView(lngLat, zoom);\n    } else {\n      if (lngLat) {\n        this.mapAdapter.setCenter(lngLat);\n      }\n      if (zoom) {\n        this.mapAdapter.setZoom(zoom);\n      }\n    }\n  }\n\n  // [extent_left, extent_bottom, extent_right, extent_top];\n  fit(e: [number, number, number, number], options?: FitOptions): this {\n    this.mapAdapter.fit(e, options);\n    return this;\n  }\n\n  getLayerAdapters(): { [name: string]: Type<LayerAdapter> } {\n    return this.mapAdapter.layerAdapters;\n  }\n\n  getLayerAdapter(name: string): Type<LayerAdapter> {\n    return this.mapAdapter.layerAdapters[name];\n  }\n\n  getLayer(layerName: string): LayerMem {\n    return this._layers[layerName];\n  }\n\n  getLayers(): string[] {\n    return Object.keys(this._layers);\n  }\n\n  isLayerOnTheMap(layerName: string): boolean {\n    const layerMem = this._layers[layerName];\n    return layerMem && layerMem.onMap;\n  }\n\n  createControl(control: MapControl, options?: CreateControlOptions): C {\n    if (this.mapAdapter.createControl) {\n      return this.mapAdapter.createControl(control, options);\n    }\n  }\n\n  createButtonControl(options: CreateButtonControlOptions) {\n    if (this.mapAdapter.createControl) {\n      return this.mapAdapter.createButtonControl(options);\n    }\n  }\n\n  addControl<K extends keyof MapControls>(\n    controlDef: K | MapControl,\n    position: ControlPositions,\n    options?: MapControls[K]) {\n\n    return this.mapAdapter.addControl(controlDef, position, options);\n  }\n\n  async addLayer<K extends keyof LayerAdapters>(\n    layerAdapter: K | Type<LayerAdapter>,\n    options?: LayerAdapters[K], baselayer?: boolean): Promise<LayerAdapter> {\n\n    let adapterEngine;\n    if (typeof layerAdapter === 'string') {\n      adapterEngine = this.getLayerAdapter((layerAdapter as string));\n    } else {\n      adapterEngine = layerAdapter;\n    }\n    if (adapterEngine) {\n      options.onLayerClick = (e) => this._onLayerClick(e);\n      const adapter = new adapterEngine(this.mapAdapter.map, options);\n      const order = this._layersIds++;\n      await this.onMapLoad();\n\n      const layer = await adapter.addLayer(options);\n\n      const layerId = adapter.name;\n      const layerOpts: LayerMem = { id: layerId, layer, adapter, onMap: false };\n      if (baselayer) {\n        layerOpts.baseLayer = true;\n        layerOpts.order = 0;\n        this._baseLayers.push(layerId);\n      } else {\n        layerOpts.order = options.order || order;\n      }\n      this._layers[layerId] = layerOpts;\n\n      return adapter;\n\n    }\n    return Promise.reject('No adapter');\n  }\n\n  removeLayer(layerName: string) {\n    const layerMem = this._layers[layerName];\n    if (layerMem) {\n      this.mapAdapter.removeLayer(layerMem.layer);\n      if (layerMem.baseLayer) {\n        const index = this._baseLayers.indexOf(layerName);\n        if (index) {\n          this._baseLayers.splice(index, 1);\n        }\n      }\n      delete this._layers[layerName];\n    }\n  }\n\n  showLayer(layerName: string) {\n    this.toggleLayer(layerName, true);\n  }\n\n  hideLayer(layerName: string) {\n    this.toggleLayer(layerName, false);\n  }\n\n  setLayerOpacity(layerName: string, value: number) {\n    if (this.mapAdapter.setLayerOpacity) {\n      const layer = this.getLayer(layerName);\n      if (layer) {\n        this.mapAdapter.setLayerOpacity(layer.layer, value);\n      }\n    }\n  }\n\n  getScaleForResolution(res, mpu) {\n    return parseFloat(res) * (mpu * this.IPM * this.DPI);\n  }\n\n  getResolutionForScale(scale, mpu) {\n    return parseFloat(scale) / (mpu * this.IPM * this.DPI);\n  }\n\n  toggleLayer(layerName: string, status?: boolean) {\n    const layer = this._layers[layerName];\n    if (status === undefined) {\n      status = !layer.onMap;\n    }\n    const action = (source, l: LayerMem) => {\n      l.onMap = status;\n      if (status && source) {\n        const order = l.baseLayer ? 0 : l.order;\n        this.mapAdapter.setLayerOrder(l.layer, order, this._layers);\n        if (l.adapter && l.adapter.showLayer) {\n          l.adapter.showLayer.call(l.adapter, l.layer);\n        } else {\n          this.mapAdapter.showLayer(l.layer);\n        }\n      } else {\n        if (l.adapter && l.adapter.hideLayer) {\n          l.adapter.hideLayer.call(l.adapter, l.layer);\n        } else {\n          this.mapAdapter.hideLayer(l.layer);\n        }\n      }\n    };\n    if (layer && layer.onMap !== status) {\n      if (this.mapAdapter.map) {\n        action(this.mapAdapter, layer);\n      } else {\n        this.mapAdapter.emitter.once('create', (data) => {\n          action(data.map, layer);\n        });\n      }\n    }\n  }\n\n  requestGeomString(pixel, pixelRadius) {\n    return this.mapAdapter.requestGeomString(pixel, pixelRadius);\n  }\n\n  onMapClick(evt) {\n    const coord = evt.containerPoint;\n    const latLng = evt.latlng;\n    this.emitter.emit('click', {\n      latLng,\n      pixel: { left: coord.x, top: coord.y },\n      source: evt,\n    });\n  }\n\n  selectLayer(layerId: string) {\n    const layerMem = this.getLayer(layerId);\n    if (layerMem && layerMem.adapter.select) {\n      layerMem.adapter.select();\n    }\n    this._selectedLayers.push(layerId);\n  }\n\n  unSelectLayer(layerId: string) {\n    const layerMem = this.getLayer(layerId);\n    if (layerMem && layerMem.adapter.unselect) {\n      layerMem.adapter.unselect();\n    }\n    const index = this._selectedLayers.indexOf(layerId);\n    if (index !== -1) {\n      this._selectedLayers.splice(index, 1);\n    }\n  }\n\n  filterLayer(layerId: string, filter: ({ feature, layer }) => boolean) {\n    const layer = this.getLayer(layerId);\n    if (layer && layer.adapter.filter) {\n      layer.adapter.filter(filter);\n    }\n  }\n  // endregion\n\n  // region MAP\n  private async _setupMap() {\n    if (this.settings) {\n      const { extent_bottom, extent_left, extent_top, extent_right } = this.settings;\n      if (extent_bottom && extent_left && extent_top && extent_right) {\n        this._extent = [extent_left, extent_bottom, extent_right, extent_top];\n        const extent = this._extent;\n        if (extent[3] > 82) {\n          extent[3] = 82;\n        }\n        if (extent[1] < -82) {\n          extent[1] = -82;\n        }\n      }\n    }\n    this.mapAdapter.displayProjection = this.displayProjection;\n    this.mapAdapter.lonlatProjection = this.lonlatProjection;\n\n    this.mapAdapter.create(this.options);\n\n    this._addTreeLayers();\n    await this._addLayerProviders();\n\n    this._zoomToInitialExtent();\n    this.emitter.emit('build-map', this.mapAdapter);\n    return this;\n  }\n\n  private async _addTreeLayers() {\n    try {\n      const settings = await this.getSettings() as AppSettings;\n      if (settings) {\n        const rootLayer = settings.root_item;\n        if (rootLayer) {\n          this.layers = new WebLayerEntry(this, rootLayer);\n          this.emitter.emit('add-layers', this.layers);\n        }\n      }\n    } catch (er) {\n      console.error(er);\n    }\n  }\n\n  private _zoomToInitialExtent() {\n    if (this._extent) {\n      this.mapAdapter.fit(this._extent);\n    } else {\n      const { center, zoom } = this.options;\n\n      if (center) {\n        this.mapAdapter.setCenter(center);\n      }\n      if (zoom) {\n        this.mapAdapter.setZoom(zoom);\n      }\n    }\n  }\n\n  private async _addLayerProviders() {\n    try {\n\n      for await (const kit of this._starterKits.filter((x) => x.getLayerAdapters)) {\n        const adapters = await kit.getLayerAdapters.call(kit);\n        if (adapters) {\n          for await (const adapter of adapters) {\n            // this.map.layerAdapters[adapter.name] = adapter;\n            const newAdapter = await adapter.createAdapter(this.mapAdapter);\n            if (newAdapter) {\n              this.mapAdapter.layerAdapters[adapter.name] = newAdapter;\n            }\n          }\n        }\n      }\n    } catch (er) {\n      throw new Error(er);\n    }\n  }\n  // endregion\n\n  // region Events\n  private async _onLayerClick(options: OnLayerClickOptions) {\n    this.emitter.emit('layer:click', options);\n    return Promise.resolve(options);\n  }\n\n  private _addEventsListeners() {\n    // propagate map click event\n    this.mapAdapter.emitter.on('click', (ev: MapClickEvent) => this._onMapClick(ev));\n  }\n\n  private _onMapClick(ev: MapClickEvent) {\n    this.emitter.emit('click', ev);\n    this._starterKits.forEach((x) => {\n      if (x.onMapClick) {\n        x.onMapClick(ev, this);\n      }\n    });\n  }\n  // endregion\n\n}\n","import { StarterKit } from '@nextgis/webmap';\r\n\r\nexport interface QmsOptions {\r\n  url: string;\r\n}\r\n\r\ninterface GeoserviceInList {\r\n  id: number;\r\n  guid: string;\r\n  name: string;\r\n  desc: string;\r\n  type: string;\r\n  epsg: number;\r\n}\r\n\r\ninterface Geoservice {\r\n  id: number;\r\n  guid: string;\r\n  name: string;\r\n  desc: string;\r\n  type: string;\r\n  epsg: number;\r\n  license_name: string;\r\n  license_url: string;\r\n  copyright_text: string;\r\n  copyright_url: string;\r\n  terms_of_use_url: string;\r\n  url: string;\r\n  z_min: any;\r\n  z_max: any;\r\n  y_origin_top: boolean;\r\n  icon: number;\r\n}\r\n\r\nexport default class QmsKit implements StarterKit {\r\n\r\n  options: QmsOptions = {\r\n    url: 'https://qms.nextgis.com',\r\n  };\r\n\r\n  url: string;\r\n  map;\r\n\r\n  constructor(options?: QmsOptions) {\r\n    this.options = { ...this.options, ...options };\r\n    this.url = this.options.url;\r\n  }\r\n\r\n  getLayerAdapters() {\r\n    return Promise.resolve([{\r\n      name: 'QMS',\r\n      createAdapter: (webmap) => Promise.resolve(this._createAdapter(webmap)),\r\n    }]);\r\n\r\n  }\r\n\r\n  async getQmsServices() {\r\n    return loadJSON<GeoserviceInList[]>(this.url + '/api/v1/geoservices/');\r\n  }\r\n\r\n  private _createAdapter(map) {\r\n    const url = this.url;\r\n    this.map = map;\r\n    const alias = {\r\n      tms: 'TILE',\r\n    };\r\n    const adapter = function(m, options) {\r\n      this.map = m;\r\n      this.name = options.id;\r\n    };\r\n\r\n    adapter.prototype.addLayer = function(options) {\r\n      return loadJSON<Geoservice>(url + '/api/v1/geoservices/' + options.qmsid).then((service) => {\r\n        if (service) {\r\n          const type = alias[service.type];\r\n          const webMapAdapter = map.layerAdapters[type];\r\n          if (webMapAdapter) {\r\n            if (type === 'TILE') {\r\n              options.url = service.url;\r\n              options.name = service.name;\r\n              options.attribution = service.copyright_text;\r\n              return webMapAdapter.prototype.addLayer.call(this, options);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    };\r\n    return adapter;\r\n  }\r\n}\r\n\r\nfunction loadJSON<T = any>(url): Promise<T> {\r\n  return new Promise<T>((resolve, reject) => {\r\n    const xmlHttp = new XMLHttpRequest();\r\n    xmlHttp.onreadystatechange = () => {\r\n      if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {\r\n        if (xmlHttp.responseText) {\r\n          try {\r\n            resolve(JSON.parse(xmlHttp.responseText));\r\n          } catch (er) {\r\n            reject(er);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    xmlHttp.open('GET', fixUrlStr(url), true); // true for asynchronous\r\n    xmlHttp.send(null);\r\n  });\r\n}\r\n\r\nfunction fixUrlStr(url: string) {\r\n  // remove double slash\r\n  return url.replace(/([^:]\\/)\\/+/g, '$1');\r\n}\r\n","import NgwConnector from '@nextgis/ngw-connector';\r\nimport WebMap, { StarterKit } from '@nextgis/webmap';\r\n\r\nexport interface NgwLayerOptions {\r\n  id: number;\r\n  adapter?: 'IMAGE' | 'TILE' | 'GEOJSON';\r\n}\r\n\r\nexport interface NgwConfig {\r\n  applicationUrl: string;\r\n  assetUrl: string;\r\n  amdUrl: string;\r\n  id: number;\r\n}\r\n\r\nexport interface NgwKitOptions {\r\n  baseUrl?: string;\r\n  pixelRadius?: number;\r\n  resourceId?: number;\r\n  auth?: {\r\n    login: string;\r\n    password: string;\r\n  };\r\n}\r\n\r\ninterface RequestOptions {\r\n  srs: number;\r\n  geom: any;\r\n  layers: string[];\r\n}\r\nexport default class NgwKit implements StarterKit {\r\n\r\n  static updateWmsParams = (params, resourceId) => {\r\n    const { bbox, width, height } = params;\r\n    return {\r\n      resource: resourceId,\r\n      extent: bbox,\r\n      size: width + ',' + height,\r\n      timestamp: Date.now(),\r\n    };\r\n  }\r\n\r\n  static getLayerAdapterOptions(options: NgwLayerOptions, webMap: WebMap, baseUrl) {\r\n    let adapter = options.adapter || 'IMAGE';\r\n    let url = baseUrl;\r\n    const layerAdapters = webMap.getLayerAdapters();\r\n    const isImageAllowed = layerAdapters ? layerAdapters.IMAGE : true;\r\n    if (adapter === 'IMAGE') {\r\n      if (isImageAllowed) {\r\n        url += '/api/component/render/image';\r\n        return {\r\n          url,\r\n          id: String(options.id),\r\n          resourceId: options.id,\r\n          updateWmsParams: (params) => NgwKit.updateWmsParams(params, options.id)\r\n        };\r\n      } else {\r\n        adapter = 'TILE';\r\n      }\r\n    }\r\n    if (adapter === 'TILE') {\r\n      url += '/api/component/render/tile?z={z}&x={x}&y={y}&resource=' + options.id;\r\n      return { url, id: String(options.id), adapter, layer_adapter: adapter };\r\n    }\r\n  }\r\n\r\n  static addNgwLayer(options: NgwLayerOptions, webMap: WebMap, baseUrl) {\r\n    let adapter = options.adapter || 'IMAGE';\r\n    const layerAdapters = webMap.getLayerAdapters();\r\n    const isImageAllowed = layerAdapters ? layerAdapters.IMAGE : true;\r\n    if (!isImageAllowed) {\r\n      adapter = 'TILE';\r\n    }\r\n    if (adapter === 'IMAGE' || adapter === 'TILE') {\r\n      return webMap.addLayer(adapter,\r\n        NgwKit.getLayerAdapterOptions(options, webMap, baseUrl)\r\n      );\r\n    } else {\r\n      throw new Error(adapter + ' not supported yet. Only TILE');\r\n    }\r\n  }\r\n\r\n  options: NgwKitOptions = {};\r\n\r\n  url: string;\r\n  resourceId: number;\r\n  connector: NgwConnector;\r\n\r\n  // Radius for searching objects in pixels\r\n  pixelRadius = 10; // webmapSettings.identify_radius,\r\n\r\n  constructor(options?: NgwKitOptions) {\r\n    this.options = { ...this.options, ...options };\r\n    if (this.options.pixelRadius) {\r\n      this.pixelRadius = options.pixelRadius;\r\n    }\r\n    this.url = this.options.baseUrl;\r\n    this.resourceId = options.resourceId;\r\n    this.connector = new NgwConnector({ baseUrl: this.url, auth: this.options.auth });\r\n  }\r\n\r\n  getSettings(webMap?: WebMap) {\r\n    return new Promise((resolve) => {\r\n      this.connector.request('resource.item', { id: this.resourceId }).then((data) => {\r\n        const webmap = data.webmap;\r\n        if (webmap) {\r\n          this._updateItemsParams(webmap.root_item, webMap);\r\n          resolve(data.webmap);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  onMapClick(ev, webMap: WebMap) {\r\n    // this.sendIdentifyRequest(ev, webMap);\r\n  }\r\n\r\n  // options is temporal to set list of layers id, because layers id is not item parameter now\r\n  sendIdentifyRequest(ev, webMap: WebMap, options: { layers?: string[] } = {}) {\r\n\r\n    webMap.emitter.emit('start-identify', { ev });\r\n    const geom = webMap.requestGeomString(ev.pixel, this.pixelRadius);\r\n    let layers: string[] = options.layers;\r\n    if (!layers) {\r\n      // TODO: layer_style_id - 1 is hardcode to get layers id for geonote.nextgis.com instant\r\n      layers = webMap.layers.tree.getDescendants().filter((x) => {\r\n        return x.item.item_type === 'layer' && x.properties.get('visibility');\r\n      }).map((x) => String(Number(x.item.layer_style_id) - 1));\r\n    }\r\n    const data: RequestOptions = {\r\n      geom,\r\n      srs: 3857,\r\n      layers,\r\n    };\r\n    return this.connector.post('feature_layer.identify', { data }).then((resp) => {\r\n      webMap.emitter.emit('identify', { ev, data: resp });\r\n      return resp;\r\n    });\r\n\r\n  }\r\n\r\n  private _updateItemsParams(item, webMap: WebMap) {\r\n    if (item) {\r\n      if (item.children) {\r\n        item.children = item.children.map((x) => this._updateItemsParams(x, webMap));\r\n      } else if (item.item_type === 'layer') {\r\n        const url = fixUrlStr(this.url + '/api/component/render/image');\r\n        item.url = url;\r\n        item.resourceId = item.layer_style_id;\r\n        item.updateWmsParams = (params) => NgwKit.updateWmsParams(params, item.resourceId);\r\n        item = {\r\n          ...item,\r\n          ...NgwKit.getLayerAdapterOptions({\r\n            adapter: item.layer_adapter.toUpperCase(),\r\n            id: item.layer_style_id\r\n          }, webMap, this.options.baseUrl)\r\n        };\r\n      }\r\n    }\r\n    return item;\r\n  }\r\n}\r\n\r\nexport function fixUrlStr(url: string) {\r\n  // remove double slash\r\n  return url.replace(/([^:]\\/)\\/+/g, '$1');\r\n}\r\n","// tslint:disable:max-line-length\r\nimport { IconOptions as WebmapIcoOptions } from '@nextgis/webmap';\r\n\r\nconst svgPath: { [name: string]: string | GetPathCallback } = {\r\n  brill: '<path d=\"m6 0-5 6 5 6 5-6z\"/>',\r\n  circle: '<circle cx=\"6\" cy=\"6\" r=\"6\"/>',\r\n  rect: '<rect width=\"12\" height=\"12\"/>',\r\n  marker: '<path d=\"m6 0c-1.85 0-4 1.19-4 4.22 0 2.05 3.08 6.59 4 7.78 0.821-1.19 4-5.62 4-7.78 0-3.03-2.15-4.22-4-4.22z\"/>',\r\n  cross: '<path d=\"M 2.4,12 6,8.4 9.6,12 12,9.6 8.4,6 12,2.4 9.6,0 6,3.6 2.4,0 0,2.4 3.6,6 0,9.6 Z\"/>',\r\n  star: '<path d=\"m6 0.25 1.71 4.18 4.29-1.04e-4 -3.43 3.14 0.857 4.18-3.43-3.14-3.43 3.14 0.857-4.18-3.43-3.14 4.29-0.209z\"/>',\r\n  triangle: '<path d=\"m12 11.7h-12l6-11.2z\"/>',\r\n  plus: '<path d=\"m7.5 12v-4.5h4.5v-3h-4.5v-4.5h-3v4.5h-4.5v3h4.5v4.5z\"/>',\r\n  minus: '<path d=\"m12 7.5v-3h-12v3z\"/>',\r\n  asterisk: '<path d=\"m7.59 12v-3.27l2.83 1.64 1.58-2.74-2.85-1.64 2.83-1.64-1.56-2.74-2.83 1.64v-3.24h-3.17v3.24l-2.85-1.64-1.57 2.74 2.84 1.64-2.84 1.64 1.57 2.74 2.85-1.64v3.27z\"/>',\r\n};\r\n\r\nexport interface IconOptions {\r\n  shape?: 'circle' | 'brill' | 'rect' | 'marker' | 'star' | 'asterisk' | 'triangle' | 'plus' | 'minus';\r\n  color?: string;\r\n  size?: number;\r\n  stroke?: number;\r\n  strokeColor?: string;\r\n  rotate?: number;\r\n}\r\n\r\nconst STROKE = 0.8;\r\n\r\nfunction insertSvg(width, height, stroke = 0, content?) {\r\n  const s = stroke / 2;\r\n  const svg = `<svg\r\n    version=\"1.1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"${width}\"\r\n    height=\"${height}\"\r\n    viewBox=\"-${s} -${s} ${width + stroke} ${height + stroke}\"\r\n  >${content}</svg>`;\r\n  const oParser = new DOMParser();\r\n  const oDOM = oParser.parseFromString(svg, 'image/svg+xml');\r\n  return oDOM.documentElement;\r\n}\r\n\r\nconst OPTIONS: IconOptions = {\r\n  shape: 'circle',\r\n  color: 'blue',\r\n  strokeColor: 'white',\r\n  size: 12\r\n};\r\n\r\ntype GetPathCallback = (opt?: IconOptions) => string;\r\n\r\nexport function getIcon(opt?: IconOptions): WebmapIcoOptions {\r\n  opt = { ...OPTIONS, ...opt };\r\n  const size = opt.size;\r\n  const anchor = size / 2;\r\n  const defSize = 12;\r\n  const stroke = typeof opt.stroke === 'number' ? opt.stroke : STROKE;\r\n  const scale = opt.size / defSize;\r\n\r\n  const pathAlias = svgPath[opt.shape] || 'circle';\r\n\r\n  const path = typeof pathAlias === 'string' ? pathAlias : pathAlias(opt);\r\n  const svg = insertSvg(size, size, stroke * scale, path);\r\n  const fistChild = svg.firstChild as SVGElement;\r\n  // const transform = `scale(${scale})${opt.rotate ? ` rotate(${opt.rotate} -${anchor} -${anchor})` : ''}`;\r\n  const transform = `scale(${scale})`;\r\n\r\n  fistChild.setAttribute('fill', opt.color);\r\n  if (stroke) {\r\n    fistChild.setAttribute('stroke', opt.strokeColor);\r\n    fistChild.setAttribute('stroke-width', String(stroke));\r\n  }\r\n  fistChild.setAttribute('transform', transform);\r\n  const s = new XMLSerializer();\r\n  return {\r\n    type: 'icon',\r\n    iconSize: [size, size],\r\n    iconAnchor: [anchor, anchor],\r\n    html: s.serializeToString(svg)\r\n  };\r\n}\r\n","import NgwMap from './index';\r\n\r\n/**\r\n * decorator to run action only after map is created\r\n */\r\nexport function onMapLoad() {\r\n  return onLoad('map:created');\r\n}\r\n\r\nexport function onLoad(event: string) {\r\n  return function (target: NgwMap, propertyKey: string, descriptor: PropertyDescriptor) {\r\n    const originalMethod = descriptor.value;\r\n\r\n    descriptor.value = function (...args: any[]) {\r\n      const self: NgwMap = this;\r\n\r\n      return new Promise((resolve, reject) => {\r\n        const _resolve = () => {\r\n          const origin = originalMethod.apply(this, args);\r\n          origin && origin.then ? origin.then(resolve).catch(reject) : resolve(origin);\r\n        };\r\n        const isLoaded = self._eventsStatus[event] !== undefined ? self._eventsStatus[event] : false;\r\n        if (isLoaded) {\r\n          _resolve();\r\n        } else {\r\n          self.emitter.once(event, () => {\r\n            _resolve();\r\n          });\r\n        }\r\n      });\r\n    };\r\n    return descriptor;\r\n  };\r\n}\r\n","import { GeoJsonObject, GeoJsonGeometryTypes, FeatureCollection, GeometryCollection, Feature } from 'geojson';\r\nimport { MapAdapter } from '@nextgis/webmap';\r\n\r\nexport function fixUrlStr(url: string) {\r\n  // remove double slash\r\n  return url.replace(/([^:]\\/)\\/+/g, '$1');\r\n}\r\n\r\nexport function deepmerge(target, src, mergeArray = false) {\r\n  const array = Array.isArray(src);\r\n  let dst: any = array && [] || {};\r\n\r\n  if (array) {\r\n\r\n    if (mergeArray) {\r\n      target = target || [];\r\n      dst = dst.concat(target);\r\n      src.forEach(function (e, i) {\r\n        if (typeof dst[i] === 'undefined') {\r\n          dst[i] = e;\r\n        } else if (typeof e === 'object') {\r\n          dst[i] = deepmerge(target[i], e, mergeArray);\r\n        } else {\r\n          if (target.indexOf(e) === -1) {\r\n            dst.push(e);\r\n          }\r\n        }\r\n      });\r\n    } else { // Replace array. Do not merge by default\r\n      dst = src;\r\n    }\r\n\r\n  } else {\r\n    if (target && typeof target === 'object') {\r\n      Object.keys(target).forEach(function (key) {\r\n        dst[key] = target[key];\r\n      });\r\n    }\r\n    Object.keys(src).forEach(function (key) {\r\n      if (typeof src[key] !== 'object' || !src[key]) {\r\n        dst[key] = src[key];\r\n      } else {\r\n        if (typeof target[key] === 'object' && src[key] === 'object') {\r\n          dst[key] = deepmerge(target[key], src[key], mergeArray);\r\n        } else {\r\n          dst[key] = src[key];\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return dst;\r\n}\r\n\r\nexport function detectGeometryType(geojson: GeoJsonObject): GeoJsonGeometryTypes {\r\n  let geometry: GeoJsonGeometryTypes;\r\n  if (geojson.type === 'FeatureCollection') {\r\n    const featuresTypes = (geojson as FeatureCollection).features.map((f) => f.geometry.type);\r\n    geometry = findMostFrequentGeomType(featuresTypes);\r\n  } else if (geojson.type === 'GeometryCollection') {\r\n    const geometryTypes = (geojson as GeometryCollection).geometries.map((g) => g.type);\r\n    geometry = findMostFrequentGeomType(geometryTypes);\r\n  } else if (geojson.type === 'Feature') {\r\n    geometry = (geojson as Feature).geometry.type;\r\n  } else {\r\n    geometry = geojson.type;\r\n  }\r\n  return geometry;\r\n}\r\n\r\nexport function findMostFrequentGeomType(arr: GeoJsonGeometryTypes[]): GeoJsonGeometryTypes {\r\n  const counts: { [x: string]: number } = {};\r\n  for (let fry = 0; fry < arr.length; fry++) {\r\n    counts[arr[fry]] = 1 + (counts[arr[fry]] || 0);\r\n  }\r\n  let maxName: string;\r\n  for (const c in counts) {\r\n    if (counts[c] > (counts[maxName] || 0)) {\r\n      maxName = c;\r\n    }\r\n  }\r\n  return maxName as GeoJsonGeometryTypes;\r\n}\r\n\r\nexport function createAsyncAdapter (type: string, laodFunction: Promise<any>, map: MapAdapter) {\r\n\r\n  const webMapAdapter = map.layerAdapters[type];\r\n\r\n  return class Adapter extends webMapAdapter {\r\n    addLayer (options) {\r\n      return laodFunction.then((opt) => {\r\n        return super.addLayer({...options, ...opt});\r\n      });\r\n    }\r\n  };\r\n}\r\n","import WebMap, {\r\n  MapAdapter,\r\n  StarterKit,\r\n  MapOptions as MO,\r\n  ControlPositions,\r\n  CirclePaint,\r\n  PathPaint,\r\n  IconOptions,\r\n  GeoJsonAdapterOptions,\r\n  GeoJsonAdapterLayerType,\r\n  MapControl,\r\n  MapControls\r\n} from '@nextgis/webmap';\r\nimport NgwConnector from '@nextgis/ngw-connector';\r\nimport QmsKit from '@nextgis/qms-kit';\r\nimport NgwKit from '@nextgis/ngw-kit';\r\nimport { getIcon } from '@nextgis/icons';\r\n\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { onMapLoad, onLoad } from './decorators';\r\nimport { fixUrlStr, deepmerge, detectGeometryType, createAsyncAdapter } from './utils';\r\nimport { EventEmitter } from 'events';\r\nimport { toWgs84 } from 'reproject';\r\nimport { GeoJsonObject } from 'geojson';\r\n\r\nconst epsg = {\r\n  // tslint:disable-next-line:max-line-length\r\n  'EPSG:3857': '+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs'\r\n};\r\n\r\nconst typeAlias: { [x: string]: GeoJsonAdapterLayerType } = {\r\n  'Point': 'circle',\r\n  'LineString': 'line',\r\n  'MultiPoint': 'circle',\r\n  'Polygon': 'fill',\r\n  'MultiLineString': 'line',\r\n  'MultiPolygon': 'fill'\r\n};\r\n\r\nexport interface ControlOptions {\r\n  position?: ControlPositions;\r\n}\r\n\r\nexport interface MapOptions extends MO {\r\n  target: string | HTMLElement;\r\n  qmsId?: number;\r\n  webmapId?: number;\r\n  baseUrl: string;\r\n  bounds?: [number, number, number, number];\r\n  geoJsonDefaultPaint?: {\r\n    circle: CirclePaint,\r\n    path: PathPaint,\r\n    icon: IconOptions\r\n  };\r\n}\r\n\r\nexport interface NgwLayerOptions {\r\n  id: number;\r\n  adapter?: 'IMAGE' | 'TILE' | 'GEOJSON';\r\n}\r\n\r\nexport default class NgwMap {\r\n\r\n  static utils = { fixUrlStr };\r\n  static decorators = { onMapLoad };\r\n  static getIcon = getIcon;\r\n  static toWgs84 = (geojson: GeoJsonObject) => toWgs84(geojson, epsg['EPSG:3857'], epsg);\r\n\r\n  options: MapOptions = {\r\n    target: 'map',\r\n    baseUrl: 'http://dev.nextgis.com/sandbox',\r\n    controls: ['ZOOM', 'ATTRIBUTION'],\r\n    controlsOptions: {\r\n      ZOOM: { position: 'top-left' },\r\n      ATTRIBUTION: {\r\n        position: 'bottom-right',\r\n        customAttribution: [\r\n          '<a href=\"http://nextgis.ru\" target=\"_blank\">©NextGIS</a>',\r\n        ]\r\n      }\r\n    },\r\n    geoJsonDefaultPaint: {\r\n      circle: {\r\n        type: 'circle',\r\n        color: 'blue',\r\n        opacity: 1,\r\n        radius: 6,\r\n        stroke: false\r\n      },\r\n      path: {\r\n        type: 'path',\r\n        color: 'blue',\r\n        opacity: 1,\r\n        stroke: false,\r\n        weight: 1\r\n      },\r\n      icon: getIcon({ shape: 'circle' })\r\n    }\r\n  };\r\n\r\n  webMap: WebMap;\r\n  emitter = new EventEmitter();\r\n  connector: NgwConnector;\r\n  _ngwLayers = {};\r\n  _eventsStatus: {[eventName: string]: boolean} = {};\r\n\r\n  constructor(mapAdapter: MapAdapter, options: MapOptions) {\r\n    this.options = deepmerge(this.options, options);\r\n    this.connector = new NgwConnector({ baseUrl: this.options.baseUrl });\r\n    const kits: StarterKit[] = [new QmsKit()];\r\n    // const kits: any[] = [new QmsKit()];\r\n    if (this.options.webmapId) {\r\n      kits.push(new NgwKit({\r\n        baseUrl: this.options.baseUrl,\r\n        resourceId: this.options.webmapId\r\n      }));\r\n    }\r\n    this.webMap = new WebMap({\r\n      mapAdapter,\r\n      starterKits: kits\r\n    });\r\n    this._createWebMap().then(() => {\r\n      this._addControls();\r\n    });\r\n    this._addEventsListeners();\r\n  }\r\n\r\n  fit() {\r\n    const { center, zoom, bounds } = this.options;\r\n    if (center) {\r\n      this.webMap.setCenter(center);\r\n      if (zoom) {\r\n        this.webMap.setZoom(zoom);\r\n      }\r\n    } else if (bounds) {\r\n      this.fitBounds(bounds);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * top, left, bottom, right\r\n   */\r\n  fitBounds(bounds: [number, number, number, number]) {\r\n    const [top, left, bottom, right] = bounds;\r\n    // [extent_left, extent_bottom, extent_right, extent_top];\r\n    this.webMap.fit([left, bottom, right, top]);\r\n  }\r\n\r\n  @onLoad('control:created')\r\n  addControl<K extends keyof MapControls>(control: MapControl, position: ControlPositions, options?: MapControls[K]) {\r\n    this.webMap.addControl(control, position, options);\r\n  }\r\n\r\n  @onMapLoad()\r\n  async addNgwLayer(options: NgwLayerOptions, adapterOptions?) {\r\n    if (options.adapter === 'GEOJSON') {\r\n      const geojsonAdapterCb = this.connector.makeQuery('/api/resource/{id}/geojson', {\r\n        id: options.id\r\n      }).then((data) => {\r\n        data = NgwMap.toWgs84(data);\r\n        return this._updateGeojsonAdapterOptions({data, id: String(options.id)});\r\n      });\r\n      return this.addGeoJsonLayer(\r\n        adapterOptions,\r\n        createAsyncAdapter(\r\n          'GEOJSON',\r\n          geojsonAdapterCb,\r\n          this.webMap.mapAdapter\r\n        )\r\n      );\r\n    } else {\r\n      return NgwKit.addNgwLayer(options, this.webMap, this.options.baseUrl).then((layer) => {\r\n        this._ngwLayers[layer.name] = layer;\r\n        this.webMap.showLayer(layer.name);\r\n        return layer.name;\r\n      });\r\n    }\r\n  }\r\n\r\n  @onMapLoad()\r\n  addGeoJsonLayer(opt: GeoJsonAdapterOptions, adapter?) {\r\n\r\n    opt.multiselect = opt.multiselect !== undefined ? opt.multiselect : false;\r\n    opt.unselectOnSecondClick = opt.unselectOnSecondClick !== undefined ? opt.unselectOnSecondClick : true;\r\n    if (!adapter) {\r\n      opt = this._updateGeojsonAdapterOptions(opt);\r\n    }\r\n\r\n    return this.webMap.addLayer<'GEOJSON'>(adapter || 'GEOJSON', opt).then((layer) => {\r\n      this.webMap.showLayer(layer.name);\r\n      return layer.name;\r\n    });\r\n  }\r\n\r\n  zoomToLayer(id: string | number) {\r\n    if (this._ngwLayers[id]) {\r\n      return this.connector.request('resource.item', { id }).then((resp) => {\r\n        if (resp) {\r\n          if (resp.resource.cls === 'raster_style') {\r\n            return this.connector.request('resource.item', {\r\n              id: resp.resource.parent.id\r\n            }).then((res) => {\r\n              return this._fitNgwLayerExtend(res.resource.id);\r\n            });\r\n          } else {\r\n            return this._fitNgwLayerExtend(id);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private _updateGeojsonAdapterOptions(opt: GeoJsonAdapterOptions): GeoJsonAdapterOptions {\r\n    const geomType = typeAlias[detectGeometryType(opt.data)];\r\n    const p = opt.paint;\r\n    if (typeof p === 'object') {\r\n      if (!p.type) {\r\n        p.type = (geomType === 'fill' || geomType === 'line') ? 'path' :\r\n          ('html' in p || 'className' in p) ? 'icon' : geomType;\r\n      }\r\n      if (p.type === 'circle') {\r\n        opt.paint = { ...this.options.geoJsonDefaultPaint.circle, ...p };\r\n      } else if (p.type === 'path') {\r\n        opt.paint = { ...this.options.geoJsonDefaultPaint.path, ...p };\r\n      } else if (p.type === 'icon') {\r\n        opt.paint = { ...this.options.geoJsonDefaultPaint.icon, ...p };\r\n      }\r\n    }\r\n    opt.type = geomType;\r\n    return opt;\r\n  }\r\n\r\n  private _fitNgwLayerExtend(id) {\r\n    return this.connector.request('layer.extent', { id }).then((resp) => {\r\n      const { maxLat, maxLon, minLat, minLon } = resp.extent;\r\n      this.fitBounds([maxLat, maxLon, minLat, minLon]);\r\n    });\r\n  }\r\n\r\n  private _createWebMap() {\r\n    return this.webMap.create({\r\n      target: this.options.target\r\n    }).then(() => {\r\n      this._emitStatusEvent('map:created');\r\n      if (this.options.qmsId) {\r\n        this.webMap.addBaseLayer('QMS', {\r\n          id: this.options.qmsId,\r\n          qmsid: this.options.qmsId\r\n        }).then((layer) => {\r\n          this.webMap.showLayer(layer.name);\r\n        });\r\n      }\r\n\r\n      this.fit();\r\n      // @ts-ignore\r\n      // window.lmap = this.webMap.mapAdapter.map;\r\n    });\r\n  }\r\n\r\n  private _addControls() {\r\n    this.options.controls.forEach((x) => {\r\n      let controlOptions: ControlOptions = { position: 'top-left' };\r\n      if (typeof x === 'string') {\r\n        controlOptions = this.options.controlsOptions[x];\r\n      }\r\n      const { position, ...options } = controlOptions;\r\n      this.webMap.addControl(x, position, options);\r\n    });\r\n    this._emitStatusEvent('control:created');\r\n  }\r\n\r\n  private _addEventsListeners() {\r\n    this.webMap.emitter.on('click', (d) => this.emitter.emit('click', d));\r\n    this.webMap.emitter.on('layer:click', (d) => this.emitter.emit('layer:click', d));\r\n  }\r\n\r\n  private _emitStatusEvent(event) {\r\n    this._eventsStatus[event] = true;\r\n    this.emitter.emit(event);\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NgwMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NgwMap.vue?vue&type=script&lang=ts&\"","import WebMap, { MapOptions, LayerMem, LayerAdapter } from '@nextgis/webmap';\nimport LeafletMapAdapter from '@nextgis/leaflet-map-adapter';\nimport { Vue, Component, Prop } from 'vue-property-decorator';\n// @ts-ignore\nimport { url } from '../../api/ngw';\nimport { Projection, Point, FeatureGroup, Map } from 'leaflet';\nimport Ngw from '@nextgis/ngw-map';\n\nimport 'leaflet/dist/leaflet.css';\n\nimport { BdMainItem } from '../../api/ngw';\nimport { getIcon, IconOptions } from '@nextgis/icons';\nimport { Feature, FeatureCollection } from 'geojson';\n\nexport interface NgwMapOptions {\n  mapOptions: MapOptions;\n}\n\n@Component\nexport class NgwMap extends Vue {\n\n  @Prop() center: [number, number];\n  @Prop() zoom: number;\n\n  webMap: WebMap<Map>;\n  ngw: Ngw;\n\n  ready: boolean = false;\n\n  mapObject;\n  layer: LayerAdapter;\n\n  options: NgwMapOptions = {\n    mapOptions: {\n      target: 'map',\n      controlsOptions: {\n        ZOOM: { position: 'top-right' },\n        ATTRIBUTION: { position: 'bottom-right' },\n      }\n    }\n  };\n\n  markers: { [name: string]: boolean } = {};\n  selected: LayerMem;\n\n  mounted() {\n    const target = this.$el as HTMLElement;\n    this.createWebMap({ target, center: this.center, zoom: this.zoom }).then(() => {\n      this.ready = true;\n      const items = this.$store.state.bdMain.filtered;\n      if (items && items.length) {\n        const _items = JSON.parse(JSON.stringify(items));\n        this.addMarkers(_items);\n      }\n\n      this.$store.watch((state) => state.bdMain.filtered, (_items) => {\n        _items = JSON.parse(JSON.stringify(_items));\n        this.addMarkers(_items);\n        this.zoomToFiltered();\n      });\n\n      this.$store.watch((state) => state.bdMain.detailItem, (detail: BdMainItem) => {\n        this.webMap.mapAdapter.map.invalidateSize();\n        this.setSelected(detail);\n      });\n\n      this.$store.watch((state) => state.app.center, (id: number) => {\n        this.zoomTo(id);\n      });\n    });\n  }\n\n  createWebMap(options?: MapOptions) {\n\n    this.options.mapOptions = { ...this.options.mapOptions, ...options };\n\n    this.ngw = new Ngw(new LeafletMapAdapter(), {\n      baseUrl: url,\n      qmsId: 487,\n      ...this.options.mapOptions\n    });\n    this.webMap = this.ngw.webMap;\n    this.mapObject = this.webMap.mapAdapter.map;\n    this.ngw.addNgwLayer({ id: 9 });\n    return this.webMap.onMapLoad();\n\n  }\n\n  findFirsVueParent(firstVueParent) {\n    let found = false;\n    while (!found) {\n      if (firstVueParent.mapObject === undefined) {\n        firstVueParent = firstVueParent.$parent;\n      } else {\n        found = true;\n      }\n    }\n    return firstVueParent;\n  }\n\n  addMarkers(items: BdMainItem[]) {\n\n    const features = items.map((item) => {\n      const [x, y] = item.geometry.coordinates;\n      const { lat, lng } = Projection.SphericalMercator.unproject(new Point(x, y));\n      item.geometry.coordinates = [lng, lat];\n      return item;\n    });\n    const collection: FeatureCollection = {\n      type: 'FeatureCollection',\n      features\n    };\n    if (!this.layer) {\n      return this.webMap.addLayer('GEOJSON', {\n        data: collection,\n        paint: (feature) => {\n          return this.getHistoryIcon(feature, { size: 20 });\n        },\n        selectedPaint: (feature) => {\n          return this.getHistoryIcon(feature, { size: 40 });\n        },\n        selectable: true,\n        unselectOnSecondClick: true\n      }).then((l) => {\n        this.layer = l;\n        this.webMap.showLayer(l.name);\n        this.webMap.emitter.on('layer:click', ({ adapter, feature, selected }) => {\n          if (adapter.name === l.name) {\n            this.$store.dispatch('bdMain/setDetail', selected ? Number(feature.properties.id) : null);\n          }\n        });\n      });\n    } else {\n      this.layer.filter(({ feature }) => {\n        const id = feature.properties.id;\n        return items.some((x) => x.properties.id === id);\n      });\n    }\n\n    return this.layer;\n  }\n\n  zoomTo(id: number) {\n    if (id) {\n      const layers = this.layer && this.layer.getLayers();\n      if (layers && layers.length) {\n        const layer = layers.find((x) => x.feature.properties.id === id);\n        const l = layer && layer.layer;\n        if (l) {\n          // const { lat, lng } = l.getBounds ? l.getBounds().getCenter() : l.getLatLng();\n          // this.webMap.setCenter([lng, lat]);\n\n          const latLng = l.getBounds ? l.getBounds().getCenter() : l.getLatLng();\n          this.webMap.mapAdapter.map.setView(latLng, 14);\n\n          // reset zoomTo storage value\n          this.$store.dispatch('app/zoomTo', null);\n        }\n      }\n    }\n  }\n\n  setSelected(item: BdMainItem) {\n    if (item) {\n      this.layer.select(({ feature }) => feature.properties.id === (item && item.id));\n    } else {\n      // unselect all\n      this.layer.unselect();\n    }\n  }\n\n  zoomToFiltered() {\n    if (this.layer) {\n      const layers = this.layer.getLayers().filter((x) => {\n        return x.layer._map;\n      }).map((x) => x.layer);\n      if (layers.length) {\n        const featureGroup = new FeatureGroup(layers);\n        this.webMap.mapAdapter.map.fitBounds(featureGroup.getBounds());\n      }\n    }\n  }\n\n  private getHistoryIcon(feature: Feature, options?: IconOptions) {\n\n    const featureStyles = {\n      'водоем': { color: '#0000ff', shape: 'marker' },\n      'ландшафт': { color: '#008000', shape: 'marker' },\n      'памятник': { color: '#ff0000', shape: 'marker' },\n      'строение': { color: '#ffa500', shape: 'marker' },\n      'улица': { color: '#ffff00', shape: 'marker' },\n      'зона': { color: '#bbbbbb', shape: 'marker' },\n      'населенный пункт': { color: '#49423d', shape: 'marker' },\n      'район': { color: '#808080', shape: 'marker' },\n      'другой': { color: '#000000', shape: 'marker' },\n      'метро': { color: '#ffa500', shape: 'brill' },\n      'метро-2': { color: '#ff0000', shape: 'brill' },\n      'другие подземные объекты': { color: '#808080', shape: 'brill' },\n    };\n\n    // const shapes: any = ['circle', 'brill', 'rect', 'marker', 'cross', 'star',\n    //   'asterisk', 'triangle', 'plus', 'minus'];\n    const featureType: string = feature.properties.type;\n    const styleId = Object.keys(featureStyles).find((x) => featureType.search(x) !== -1);\n    const style = featureStyles[styleId] || { color: '#fff', shape: 'cross' };\n\n    return getIcon({\n      ...style, ...options\n    });\n  }\n}\n","import { render, staticRenderFns } from \"./NgwMap.vue?vue&type=template&id=7098f862&\"\nimport script from \"./NgwMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./NgwMap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NgwMap.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7098f862', component.options)\n    } else {\n      api.reload('7098f862', component.options)\n    }\n    module.hot.accept(\"./NgwMap.vue?vue&type=template&id=7098f862&\", function () {\n      api.rerender('7098f862', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/NgwMap/NgwMap.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-form\",\n    {\n      ref: \"form\",\n      staticClass: \"pl-3 pr-3 pt-0 pb-0\",\n      model: {\n        value: _vm.form,\n        callback: function($$v) {\n          _vm.form = $$v\n        },\n        expression: \"form\"\n      }\n    },\n    [\n      _c(\"v-autocomplete\", {\n        attrs: {\n          items: _vm.areas,\n          label: \"Район\",\n          \"no-data-text\": \"Не найдено\"\n        },\n        on: { change: _vm.updateFilter },\n        model: {\n          value: _vm.rayon,\n          callback: function($$v) {\n            _vm.rayon = $$v\n          },\n          expression: \"rayon\"\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsFilter.vue?vue&type=script&lang=ts&\"","import { Vue, Component } from 'vue-property-decorator';\nimport { BdMainItemProperties } from '../../api/ngw';\n\n@Component\nexport class ItemsFilter extends Vue {\n\n  form = false;\n  years: [number, number] = [1900, 2018];\n  minYear: number = 1900;\n  maxYear: number = 2018;\n  moscow: Array<{ name: string, param: string, value?: boolean }> = [\n    { name: 'дворовая', param: 'mos1' },\n    { name: 'легендарная', param: 'mos2' },\n    { name: 'бездомная', param: 'mos3' },\n    { name: 'подземная', param: 'mos4' },\n    { name: 'церковная', param: 'mos5' },\n    { name: 'субкультурная', param: 'mos6', value: false },\n  ];\n  rayon = 'Все';\n  areas: string[] = ['Все'];\n\n  mounted() {\n\n    this.moscow.forEach((x) => {\n      x.value = x.value !== undefined ? x.value : true;\n    });\n\n    if (this.$store.state.bdMain.items) {\n      this.updateFilterAreas(this.$store.state.bdMain.items);\n    }\n    this.$store.watch((state) => state.bdMain.items, (items) => {\n      this.updateFilterAreas(items);\n    });\n\n  }\n\n  updateFilterAreas(items) {\n    const areas = {};\n    items.forEach((x) => {\n      const prop = x.properties;\n      areas[prop.rayon] = true;\n    });\n    this.areas = this.areas.concat(Object.keys(areas).sort());\n  }\n\n  updateFilter() {\n    const items = this.$store.state.bdMain.items.slice();\n\n    const filtered = items.filter((x) => {\n      const prop: BdMainItemProperties = x.properties;\n\n      if (this.rayon && this.rayon !== 'Все' && prop.rayon !== this.rayon) {\n        return false;\n      }\n      return true;\n    });\n\n    this.$store.dispatch('bdMain/setFilter', filtered);\n\n  }\n\n}\n","import { render, staticRenderFns } from \"./ItemsFilter.vue?vue&type=template&id=39e05881&\"\nimport script from \"./ItemsFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./ItemsFilter.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ItemsFilter.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\ninstallComponents(component, {\n  VAutocomplete,\n  VForm,\n})\n\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('39e05881', component.options)\n    } else {\n      api.reload('39e05881', component.options)\n    }\n    module.hot.accept(\"./ItemsFilter.vue?vue&type=template&id=39e05881&\", function () {\n      api.rerender('39e05881', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/ItemsFilter/ItemsFilter.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.detail && _vm.meta\n    ? _c(\n        \"div\",\n        [\n          _vm.photos && _vm.photos.length\n            ? _c(\n                \"div\",\n                [\n                  _vm._l(_vm.photos, function(photo) {\n                    return _c(\n                      \"a\",\n                      {\n                        key: photo.id,\n                        on: {\n                          click: function($event) {\n                            _vm.dialog = true\n                            _vm.bigImgSrc = photo.link_big\n                          }\n                        }\n                      },\n                      [\n                        _c(\"v-img\", {\n                          staticClass: \"grey lighten-2\",\n                          attrs: { src: photo.link_small }\n                        })\n                      ],\n                      1\n                    )\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-dialog\",\n                    {\n                      attrs: {\n                        scrollable: \"\",\n                        \"content-class\": \"photo-dialog\"\n                      },\n                      model: {\n                        value: _vm.dialog,\n                        callback: function($$v) {\n                          _vm.dialog = $$v\n                        },\n                        expression: \"dialog\"\n                      }\n                    },\n                    [\n                      _c(\n                        \"v-btn\",\n                        {\n                          staticClass: \"close-img-dialog-btn\",\n                          attrs: { color: \"info\" },\n                          on: {\n                            click: function($event) {\n                              _vm.dialog = false\n                            }\n                          }\n                        },\n                        [_vm._v(\"\\n          Закрыть\\n        \")]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-img\", {\n                        attrs: { src: _vm.bigImgSrc, contain: \"\" }\n                      })\n                    ],\n                    1\n                  )\n                ],\n                2\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"v-list\",\n            { attrs: { dense: \"\" } },\n            _vm._l(_vm.meta, function(item) {\n              return _vm.detail[item.value] && (!item.noHide ? _vm.more : true)\n                ? _c(\n                    \"v-list-tile\",\n                    { key: item.value, staticClass: \"detail-prop-list pb-3\" },\n                    [\n                      _c(\n                        \"v-list-tile-content\",\n                        [\n                          _c(\"v-list-tile-sub-title\", [\n                            _vm._v(_vm._s(item.text))\n                          ]),\n                          _vm._v(\" \"),\n                          item.type === \"Story\"\n                            ? _c(\n                                \"span\",\n                                [\n                                  _c(_vm.components[item.type], {\n                                    tag: \"component\",\n                                    attrs: { text: _vm.getText(item) }\n                                  })\n                                ],\n                                1\n                              )\n                            : _c(\"v-list-tile-title\", {\n                                domProps: {\n                                  innerHTML: _vm._s(_vm.getText(item))\n                                }\n                              })\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                : _vm._e()\n            }),\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"text-xs-center\" },\n            [\n              _vm.needMore\n                ? _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"info\", small: \"\" },\n                      on: {\n                        click: function($event) {\n                          _vm.more = !_vm.more\n                        }\n                      }\n                    },\n                    [\n                      !_vm.more\n                        ? _c(\"span\", [_vm._v(\"Подробнее\")])\n                        : _c(\"span\", [_vm._v(\"Свернуть\")])\n                    ]\n                  )\n                : _vm._e()\n            ],\n            1\n          )\n        ],\n        1\n      )\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=ts&\"","import { Vue, Component } from 'vue-property-decorator';\r\nimport { BdMainItemProperties, BdPhotoProperties } from '../../api/ngw';\r\nimport ShowMoreField from '../ShowMoreField/ShowMoreField.vue';\r\n\r\ninterface Alias {\r\n  text: string;\r\n  value: string;\r\n  type: 'NarratorLink';\r\n  noHide?: boolean;\r\n}\r\n\r\n@Component\r\nexport class Detail extends Vue {\r\n\r\n  url: string = '';\r\n  more = false;\r\n  bigImgSrc: string = '';\r\n  dialog = false;\r\n\r\n  components = {\r\n    Story: ShowMoreField\r\n  };\r\n\r\n  get photos(): BdPhotoProperties[] {\r\n    const photo = this.$store.state.bdMain.photos.find((x: BdPhotoProperties) => {\r\n      return x.link_small && (x.id_obj === this.detail.id1);\r\n    });\r\n    return photo ? [photo] : [];\r\n    // return this.$store.state.bdMain.photos.filter((x: BdPhotoProperties) => x.id_obj === this.detail.id1);\r\n  }\r\n\r\n  get detail(): BdMainItemProperties {\r\n    return this.$store.state.bdMain.detailItem && this.$store.state.bdMain.detailItem.properties;\r\n  }\r\n\r\n  get meta(): Alias[] {\r\n    return this.$store.state.bdMain.meta;\r\n  }\r\n\r\n  get needMore(): boolean {\r\n    return this.meta.some((x) => {\r\n      return !x.noHide ? this.detail[x.value] : true;\r\n    });\r\n  }\r\n\r\n  getText(alias: Alias) {\r\n    if (alias.type) {\r\n      const value = this.detail[alias.value];\r\n      if (alias.type === 'NarratorLink') {\r\n        const names = value && this.detail[alias.value].split(',').map((x) => x.trim());\r\n        const links = this.detail.nar_codes && this.detail.nar_codes.split(',').map((x) => x.trim());\r\n        return names.map((x, i) => {\r\n          const link = links ? links[i] || links[0] : '';\r\n          const href = (this.url + '/' + link).replace(/([^:]\\/)\\/+/g, '$1');\r\n          return `<a href=\"${href}\">${x}</a>`;\r\n        }).join(', ');\r\n      } else if (alias.type === 'Mos') {\r\n        return value === 1 ? `<i\r\n          aria-hidden=\"true\"\r\n          class=\"v-icon material-icons theme--light lighten-1--text\"\r\n          style=\"color: green;\"\r\n        >check\r\n        </i>` : `<i\r\n          aria-hidden=\"true\"\r\n          class=\"v-icon material-icons theme--light lighten-1--text\"\r\n          style=\"color: red;\"\r\n        >close\r\n        </i>`;\r\n      }\r\n    }\r\n\r\n    return this.detail[alias.value];\r\n\r\n  }\r\n}\r\n","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=0f60746f&\"\nimport script from \"./Detail.vue?vue&type=script&lang=ts&\"\nexport * from \"./Detail.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VImg } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileSubTitle } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VDialog,\n  VImg,\n  VList,\n  VListTile,\n  VListTileContent,\n  VListTileSubTitle,\n  VListTileTitle,\n})\n\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0f60746f', component.options)\n    } else {\n      api.reload('0f60746f', component.options)\n    }\n    module.hot.accept(\"./Detail.vue?vue&type=template&id=0f60746f&\", function () {\n      api.rerender('0f60746f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/Detail/Detail.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"drawer-container\" },\n    [\n      _vm.hasHeaderSlot\n        ? _c(\n            \"div\",\n            { staticClass: \"drawer-titlebar\" },\n            [\n              _c(\n                \"v-toolbar\",\n                [\n                  _c(\n                    \"v-toolbar-title\",\n                    { staticClass: \"drawer-title\" },\n                    [_vm._t(\"header\")],\n                    2\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"v-divider\")\n            ],\n            1\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"drawer-content\" }, [_vm._t(\"default\")], 2),\n      _vm._v(\" \"),\n      _vm.hasFooterSlot ? _c(\"v-footer\", [_vm._t(\"footer\")], 2) : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawerContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/ts-loader/index.js??ref--1!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawerContainer.vue?vue&type=script&lang=ts&\"","import { Vue, Component, Prop } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport class DrawerContainer extends Vue {\r\n  @Prop() header: string;\r\n\r\n  get hasFooterSlot() {\r\n    return this.hasSlot('footer');\r\n  }\r\n\r\n  get hasHeaderSlot() {\r\n    return this.hasSlot('header');\r\n  }\r\n\r\n  hasSlot(name = 'default') {\r\n    return !!this.$slots[ name ] || !!this.$scopedSlots[ name ];\r\n  }\r\n}\r\n","import { render, staticRenderFns } from \"./DrawerContainer.vue?vue&type=template&id=42acd271&\"\nimport script from \"./DrawerContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./DrawerContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DrawerContainer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib'\nimport { VFooter } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {\n  VDivider,\n  VFooter,\n  VToolbar,\n  VToolbarTitle,\n})\n\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('42acd271', component.options)\n    } else {\n      api.reload('42acd271', component.options)\n    }\n    module.hot.accept(\"./DrawerContainer.vue?vue&type=template&id=42acd271&\", function () {\n      api.rerender('42acd271', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/DrawerContainer/DrawerContainer.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [_vm._t(\"default\")], 2)\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","function capitalizeFirstLetter(str) {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\nexport default (vueElement, leafletElement, props, options?) => {\r\n  const keys = Object.keys(props);\r\n  for (let i = 0; i < keys.length; i++) {\r\n    const key = keys[i];\r\n    const setMethodName = 'set' + capitalizeFirstLetter(key);\r\n    const deepValue = (props[key].type === Object) ||\r\n      (props[key].type === Array) ||\r\n      (Array.isArray(props[key].type));\r\n    if (props[key].custom) {\r\n      vueElement.$watch(key, (newVal, oldVal) => {\r\n        vueElement[setMethodName](newVal, oldVal);\r\n      }, {\r\n        deep: deepValue\r\n      });\r\n    } else if (setMethodName === 'setOptions') {\r\n      vueElement.$watch(key, (newVal, oldVal) => {\r\n        leafletElement.options = leafletElement.options || {};\r\n        leafletElement.options = {...leafletElement.options, ...newVal};\r\n      }, {\r\n        deep: deepValue\r\n      });\r\n    } else {\r\n      vueElement.$watch(key, (newVal, oldVal) => {\r\n        leafletElement[setMethodName](newVal);\r\n      }, {\r\n        deep: deepValue\r\n      });\r\n    }\r\n  }\r\n};\r\n","export const collectionCleaner = (options) => {\r\n  const result = {};\r\n  for (const key in options) {\r\n    if (options.hasOwnProperty(key)) {\r\n      const value = options[key];\r\n      if (value !== null && value !== undefined) {\r\n        result[key] = value;\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const optionsMerger = (props, instance) => {\r\n  const options = instance.options && instance.options.constructor === Object ? instance.options : {};\r\n  props = props && props.constructor === Object ? props : {};\r\n  const result = { ...collectionCleaner(options) };\r\n  props = collectionCleaner(props);\r\n  const defaultProps = instance.$options.props;\r\n  for (const key in props) {\r\n    if (props.hasOwnProperty(key)) {\r\n      const def = defaultProps[key] ? defaultProps[key].default : Symbol('unique');\r\n      if (result[key] && def !== props[key]) {\r\n        console.warn(`${key} props is overriding the value passed in the options props`);\r\n        result[key] = props[key];\r\n      } else if (!result[key]) {\r\n        result[key] = props[key];\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n};\r\n","export default {\r\n  props: {\r\n    position: {\r\n      type: String,\r\n      default: 'topright'\r\n    },\r\n    options: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  mounted() {\r\n    this.controlOptions = {\r\n      position: this.position\r\n    };\r\n  },\r\n  beforeDestroy() {\r\n    if (this.mapObject) {\r\n      this.mapObject.remove();\r\n    }\r\n  }\r\n};\r\n","import { EventEmitter } from 'events';\nimport {ControlPositions} from '@nextgis/webmap';\n\nexport interface PanelOptions {\n  headerText?: string;\n  addClass?: string;\n  position: ControlPositions;\n}\n\nexport class PanelControl {\n\n  element;\n\n  options: PanelOptions;\n\n  emitter = new EventEmitter();\n\n  _header: HTMLElement;\n  _blocked: boolean = false;\n  private _container: HTMLElement;\n  private _body: HTMLElement;\n\n\n  constructor(options?: PanelOptions) {\n    this.options = Object.assign({}, this.options, options);\n    this._header = null;\n    this._body = null;\n    this._container = this._createContainer();\n  }\n\n  onAdd() {\n    return this.element;\n  }\n\n  setElement(el) {\n    this.element = el;\n  }\n\n  onRemove() {\n    this.removeFrom();\n  }\n\n  removeFrom() {\n    const parentNode = this._container && this._container.parentNode;\n    if (parentNode) {\n      parentNode.removeChild(this._container);\n    }\n  }\n\n  updateBody(content: string | HTMLElement) {\n    this._cleanBody();\n    if (typeof content === 'string') {\n      this._body.innerHTML = content;\n    } else if (content instanceof HTMLElement) {\n      this._body.appendChild(content);\n    }\n  }\n\n  hide() {\n    this._container.classList.add('panel-hide');\n    this.emitter.emit('toggle', false);\n  }\n\n  show() {\n    if (!this._blocked) {\n      this._container.classList.remove('panel-hide');\n      this.emitter.emit('toggle', true);\n    }\n  }\n\n  private _cleanBody() {\n    if (this._body) {\n      this._body.innerHTML = '';\n    }\n  }\n\n  private _createContainer() {\n    const element = document.createElement('div');\n    // element.className = 'leaflet-bar leaflet-control';\n    if (this.options.addClass) {\n      this.options.addClass.split('-').forEach((x) => element.classList.add(x));\n    }\n    if (this.options.headerText) {\n      element.appendChild(this._createHeader());\n    }\n    element.appendChild(this._createBody());\n    return element;\n  }\n\n  private _createHeader() {\n    const element = document.createElement('div');\n    element.className = 'panel-header';\n\n    element.innerHTML = this.options.headerText;\n\n    this._header = element;\n    return element;\n  }\n\n  private _createBody() {\n    const element = document.createElement('div');\n    element.className = 'panel-body';\n\n    this._body = element;\n    return element;\n  }\n}\n","import mod from \"-!../../../../node_modules/ts-loader/index.js??ref--1!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/ts-loader/index.js??ref--1!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=ts&\"","import propsBinder from './utils/propsBinder';\nimport findRealParent from './utils/findRealParent';\nimport { optionsMerger } from './utils/optionsUtils';\nimport Control from './mixins/Control';\nimport { PanelControl, PanelOptions } from './PanelControl';\nimport WebMap from 'nextgisweb_frontend/packages/webmap/src';\n\nexport const panel = {\n  name: 'LControl',\n  mixins: [Control],\n  mounted() {\n    this.parentContainer = findRealParent(this.$parent);\n    const webMap = this.parentContainer.webMap as WebMap;\n    const options = optionsMerger(this.controlOptions, this) as PanelOptions;\n    this.control = new PanelControl(options);\n    this.mapObject = webMap.createControl(this.control);\n    propsBinder(this, this.mapObject, this.$options.props);\n    this.control.setElement(this.$el);\n    webMap.addControl(this.mapObject, options.position);\n  }\n};\n","export default (firstVueParent) => {\r\n  let found = false;\r\n  while (!found) {\r\n    if (firstVueParent.webMap === undefined) {\r\n      firstVueParent = firstVueParent.$parent;\r\n    } else {\r\n      found = true;\r\n    }\r\n  }\r\n  return firstVueParent;\r\n};\r\n","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=90301248&\"\nimport script from \"./Panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./Panel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Panel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('90301248', component.options)\n    } else {\n      api.reload('90301248', component.options)\n    }\n    module.hot.accept(\"./Panel.vue?vue&type=template&id=90301248&\", function () {\n      api.rerender('90301248', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/NgwMap/controls/Panel.vue\"\nexport default component.exports","import mod from \"-!../node_modules/ts-loader/index.js??ref--1!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/ts-loader/index.js??ref--1!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=ts&\"","import { Vue, Component } from 'vue-property-decorator';\r\nimport List from './components/List/List.vue';\r\nimport NgwMap from './components/NgwMap/NgwMap.vue';\r\nimport ItemsFilter from './components/ItemsFilter/ItemsFilter.vue';\r\nimport Detail from './components/Detail/Detail.vue';\r\nimport DrawerContainer from './components/DrawerContainer/DrawerContainer.vue';\r\nimport { BdMainItemProperties } from './api/ngw';\r\nimport MapControl from './components/NgwMap/controls/Panel.vue';\r\nimport { AppPages } from './store/modules/app';\r\nimport throttle from './store/utils/throttle';\r\n\r\n@Component({\r\n  components: {List, NgwMap, ItemsFilter, Detail, DrawerContainer, MapControl},\r\n})\r\nexport class Main extends Vue {\r\n\r\n  throtleSave;\r\n\r\n  get listSearchText(): string {\r\n    return this.$store.state.app.listSearchText;\r\n  }\r\n\r\n  set listSearchText(value: string) {\r\n    this.throtleSave(value);\r\n  }\r\n\r\n  get page(): AppPages {\r\n    return this.$store.state.app.page;\r\n  }\r\n\r\n  set page(value: AppPages) {\r\n    this.$store.dispatch('app/setPage', value);\r\n  }\r\n\r\n  get zoomTo(): number {\r\n    return this.$store.state.app.zoomTo;\r\n  }\r\n\r\n  set zoomTo(value: number) {\r\n    this.$store.dispatch('app/zoomTo', value);\r\n  }\r\n\r\n  get drawer(): boolean {\r\n    return this.$store.state.app.drawer;\r\n  }\r\n\r\n  set drawer(value: boolean) {\r\n    this.$store.dispatch('app/toggleDrawer', value);\r\n  }\r\n\r\n  get items(): BdMainItemProperties[] {\r\n    return this.$store.state.bdMain.items.map((x) => x.properties);\r\n  }\r\n\r\n  get detail(): BdMainItemProperties {\r\n    return this.$store.state.bdMain.detailItem;\r\n  }\r\n\r\n  set detail(value: BdMainItemProperties) {\r\n    this.$store.dispatch('bdMain/setDetail', value);\r\n  }\r\n\r\n  mounted() {\r\n    this.throtleSave = throttle(this.setListSearchText, 1000, this);\r\n  }\r\n\r\n  created() {\r\n    this.$store.dispatch('bdMain/getAllItems');\r\n    this.$store.dispatch('bdMain/getPhotos');\r\n  }\r\n\r\n  setListSearchText(value) {\r\n    this.$store.dispatch('app/setListSearchText', value);\r\n  }\r\n\r\n}\r\n","export default function throttle(fn, time, context?) {\r\n  let lock;\r\n  let args;\r\n  let wrapperFn;\r\n  let later;\r\n\r\n  later = function() {\r\n    // reset lock and call if queued\r\n    lock = false;\r\n    if (args) {\r\n      wrapperFn.apply(context, args);\r\n      args = false;\r\n    }\r\n  };\r\n\r\n  wrapperFn = function() {\r\n    if (lock) {\r\n      // called too soon, queue to call later\r\n      args = arguments;\r\n\r\n    } else {\r\n      // call and lock until later\r\n      fn.apply(context, arguments);\r\n      setTimeout(later, time);\r\n      lock = true;\r\n    }\r\n  };\r\n\r\n  return wrapperFn;\r\n}\r\n","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=3ffae6b2&\"\nimport script from \"./Main.vue?vue&type=script&lang=ts&\"\nexport * from \"./Main.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VItemGroup } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VNavigationDrawer } from 'vuetify/lib'\nimport { VProgressCircular } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {\n  VApp,\n  VBtn,\n  VContent,\n  VIcon,\n  VItemGroup,\n  VLayout,\n  VNavigationDrawer,\n  VProgressCircular,\n  VTextField,\n})\n\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3ffae6b2', component.options)\n    } else {\n      api.reload('3ffae6b2', component.options)\n    }\n    module.hot.accept(\"./Main.vue?vue&type=template&id=3ffae6b2&\", function () {\n      api.rerender('3ffae6b2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/Main.vue\"\nexport default component.exports","import mod from \"-!../node_modules/ts-loader/index.js??ref--1!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/ts-loader/index.js??ref--1!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { Vue, Component } from 'vue-property-decorator';\nimport { AppPages } from './store/modules/app';\nimport AboutComponent from './components/NextGIS/About.vue';\nimport TableComponent from './components/Table/Table.vue';\nimport MainComponent from './Main.vue';\n\n@Component({\n  components: { MainComponent, TableComponent, AboutComponent }\n})\nexport class App extends Vue {\n\n  tableSearch: string = '';\n  pagination: any = null;\n\n  get page(): AppPages {\n    return this.$store.state.app.page;\n  }\n\n  set page(value: AppPages) {\n    this.$store.dispatch('app/setPage', value);\n  }\n\n\n  get pages() {\n    if (this.pagination && (this.pagination.rowsPerPage === null ||\n      this.pagination.totalItems === null)) {\n      return 0;\n    }\n\n    return Math.ceil(this.pagination.totalItems / this.pagination.rowsPerPage);\n  }\n\n  paginationSync(value) {\n    this.pagination = value;\n  }\n}\n","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7ba5bd90&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VFooter } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VPagination } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarItems } from 'vuetify/lib'\ninstallComponents(component, {\n  VApp,\n  VBtn,\n  VCard,\n  VDialog,\n  VFooter,\n  VIcon,\n  VPagination,\n  VSpacer,\n  VTextField,\n  VToolbar,\n  VToolbarItems,\n})\n\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\rendr\\\\nextgis\\\\oralhistory\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7ba5bd90', component.options)\n    } else {\n      api.reload('7ba5bd90', component.options)\n    }\n    module.hot.accept(\"./App.vue?vue&type=template&id=7ba5bd90&\", function () {\n      api.rerender('7ba5bd90', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/App.vue\"\nexport default component.exports","import Vue from 'vue';\n// import VueRouter from 'vue-router';\n// import { router } from './routes';\nimport store from './store';\nimport App from './App.vue';\nimport { version } from '../package.json';\nimport Vuetify from 'vuetify/lib';\nimport 'vuetify/src/stylus/app.styl';\n// import 'material-design-icons-iconfont/dist/material-design-icons.css';\n\nVue.use(Vuetify);\n// Vue.use(VueRouter);\n\nconst app = new Vue({\n  // router,\n  store,\n  render: h => h(App),\n});\napp.$mount('#app');\n\ndeclare global {\n  interface Window {\n    version: string;\n  }\n}\n\nwindow.version = version;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1105c31d\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowMoreField.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"efa79672\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowMoreField.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowMoreField.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"48d11e2d\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"251914e9\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NgwMap.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"de092f2e\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NgwMap.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NgwMap.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsFilter.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9cea9412\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsFilter.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemsFilter.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7b48c236\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawerContainer.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"341cfa2f\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawerContainer.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DrawerContainer.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ae34b96a\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6b7af3b1\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"23e247aa\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/lib/loader.js??ref--7-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","/*!\r\n * leaflet.wms.js\r\n * A collection of Leaflet utilities for working with Web Mapping services.\r\n * (c) 2014-2016, Houston Engineering, Inc.\r\n * MIT License\r\n */\r\n\r\n(function (factory) {\r\n  // Module systems magic dance, Leaflet edition\r\n  if (typeof define === 'function' && define.amd) {\r\n      // AMD\r\n      define(['leaflet'], factory);\r\n  } else if (typeof module !== 'undefined') {\r\n      // Node/CommonJS\r\n      module.exports = factory(require('leaflet'));\r\n  } else {\r\n      // Browser globals\r\n      if (typeof this.L === 'undefined')\r\n          throw 'Leaflet must be loaded first!';\r\n      // Namespace\r\n      this.L.WMS = this.L.wms = factory(this.L);\r\n  }\r\n}(function (L) {\r\n\r\n// Module object\r\nvar wms = {};\r\n\r\n// Quick shim for Object.keys()\r\nif (!('keys' in Object)) {\r\n  Object.keys = function(obj) {\r\n      var result = [];\r\n      for (var i in obj) {\r\n          if (obj.hasOwnProperty(i)) {\r\n              result.push(i);\r\n          }\r\n      }\r\n      return result;\r\n  };\r\n}\r\n\r\n/*\r\n* wms.Source\r\n* The Source object manages a single WMS connection.  Multiple \"layers\" can be\r\n* created with the getLayer function, but a single request will be sent for\r\n* each image update.  Can be used in non-tiled \"overlay\" mode (default), or\r\n* tiled mode, via an internal wms.Overlay or wms.TileLayer, respectively.\r\n*/\r\nwms.Source = L.Layer.extend({\r\n  'options': {\r\n      'untiled': true,\r\n      'identify': true\r\n  },\r\n\r\n  'initialize': function(url, options) {\r\n      L.setOptions(this, options);\r\n      if (this.options.tiled) {\r\n          this.options.untiled = false;\r\n      }\r\n      this._url = url;\r\n      this._subLayers = {};\r\n      this._overlay = this.createOverlay(this.options.untiled);\r\n  },\r\n\r\n  'createOverlay': function(untiled) {\r\n      // Create overlay with all options other than untiled & identify\r\n      var overlayOptions = {};\r\n      for (var opt in this.options) {\r\n          if (opt != 'untiled' && opt != 'identify') {\r\n              overlayOptions[opt] = this.options[opt];\r\n          }\r\n      }\r\n      if (untiled) {\r\n          return wms.overlay(this._url, overlayOptions);\r\n      } else {\r\n          return wms.tileLayer(this._url, overlayOptions);\r\n      }\r\n  },\r\n\r\n  'onAdd': function() {\r\n      this.refreshOverlay();\r\n  },\r\n\r\n  'getEvents': function() {\r\n      if (this.options.identify) {\r\n          return {'click': this.identify};\r\n      } else {\r\n          return {};\r\n      }\r\n  },\r\n\r\n  'setOpacity': function(opacity) {\r\n       this.options.opacity = opacity;\r\n       if (this._overlay) {\r\n           this._overlay.setOpacity(opacity);\r\n       }\r\n  },\r\n\r\n  'bringToBack': function() {\r\n       this.options.isBack = true;\r\n       if (this._overlay) {\r\n           this._overlay.bringToBack();\r\n       }\r\n  },\r\n\r\n  'bringToFront': function() {\r\n       this.options.isBack = false;\r\n       if (this._overlay) {\r\n           this._overlay.bringToFront();\r\n       }\r\n  },\r\n\r\n  'getLayer': function(name) {\r\n      return wms.layer(this, name);\r\n  },\r\n\r\n  'addSubLayer': function(name) {\r\n      this._subLayers[name] = true;\r\n      this.refreshOverlay();\r\n  },\r\n\r\n  'removeSubLayer': function(name) {\r\n      delete this._subLayers[name];\r\n      this.refreshOverlay();\r\n  },\r\n\r\n  'refreshOverlay': function() {\r\n      var subLayers = Object.keys(this._subLayers).join(\",\");\r\n      if (!this._map) {\r\n          return;\r\n      }\r\n      if (!subLayers) {\r\n          this._overlay.remove();\r\n      } else {\r\n          this._overlay.setParams({'layers': subLayers});\r\n          this._overlay.addTo(this._map);\r\n      }\r\n  },\r\n\r\n  'identify': function(evt) {\r\n      // Identify map features in response to map clicks. To customize this\r\n      // behavior, create a class extending wms.Source and override one or\r\n      // more of the following hook functions.\r\n\r\n      var layers = this.getIdentifyLayers();\r\n      if (!layers.length) {\r\n          return;\r\n      }\r\n      this.getFeatureInfo(\r\n          evt.containerPoint, evt.latlng, layers,\r\n          this.showFeatureInfo\r\n      );\r\n  },\r\n\r\n  'getFeatureInfo': function(point, latlng, layers, callback) {\r\n      // Request WMS GetFeatureInfo and call callback with results\r\n      // (split from identify() to faciliate use outside of map events)\r\n      var params = this.getFeatureInfoParams(point, layers),\r\n          url = this._url + L.Util.getParamString(params, this._url);\r\n\r\n      this.showWaiting();\r\n      this.ajax(url, done);\r\n\r\n      function done(result) {\r\n          this.hideWaiting();\r\n          var text = this.parseFeatureInfo(result, url);\r\n          callback.call(this, latlng, text);\r\n      }\r\n  },\r\n\r\n  'ajax': function(url, callback) {\r\n      ajax.call(this, url, callback);\r\n  },\r\n\r\n  'getIdentifyLayers': function() {\r\n      // Hook to determine which layers to identify\r\n      if (this.options.identifyLayers)\r\n          return this.options.identifyLayers;\r\n      return Object.keys(this._subLayers);\r\n   },\r\n\r\n  'getFeatureInfoParams': function(point, layers) {\r\n      // Hook to generate parameters for WMS service GetFeatureInfo request\r\n      var wmsParams, overlay;\r\n      if (this.options.untiled) {\r\n          // Use existing overlay\r\n          wmsParams = this._overlay.wmsParams;\r\n      } else {\r\n          // Create overlay instance to leverage updateWmsParams\r\n          overlay = this.createOverlay(true);\r\n          overlay.updateWmsParams(this._map);\r\n          wmsParams = overlay.wmsParams;\r\n          wmsParams.layers = layers.join(',');\r\n      }\r\n      var infoParams = {\r\n          'request': 'GetFeatureInfo',\r\n          'query_layers': layers.join(','),\r\n          'X': Math.round(point.x),\r\n          'Y': Math.round(point.y)\r\n      };\r\n      return L.extend({}, wmsParams, infoParams);\r\n  },\r\n\r\n  'parseFeatureInfo': function(result, url) {\r\n      // Hook to handle parsing AJAX response\r\n      if (result == \"error\") {\r\n          // AJAX failed, possibly due to CORS issues.\r\n          // Try loading content in <iframe>.\r\n          result = \"<iframe src='\" + url + \"' style='border:none'>\";\r\n      }\r\n      return result;\r\n  },\r\n\r\n  'showFeatureInfo': function(latlng, info) {\r\n      // Hook to handle displaying parsed AJAX response to the user\r\n      if (!this._map) {\r\n          return;\r\n      }\r\n      this._map.openPopup(info, latlng);\r\n  },\r\n\r\n  'showWaiting': function() {\r\n      // Hook to customize AJAX wait animation\r\n      if (!this._map)\r\n          return;\r\n      this._map._container.style.cursor = \"progress\";\r\n  },\r\n\r\n  'hideWaiting': function() {\r\n      // Hook to remove AJAX wait animation\r\n      if (!this._map)\r\n          return;\r\n      this._map._container.style.cursor = \"default\";\r\n  }\r\n});\r\n\r\nwms.source = function(url, options) {\r\n  return new wms.Source(url, options);\r\n};\r\n\r\n/*\r\n* Layer\r\n* Leaflet \"layer\" with all actual rendering handled via an underlying Source\r\n* object.  Can be called directly with a URL to automatically create or reuse\r\n* an existing Source.  Note that the auto-source feature doesn't work well in\r\n* multi-map environments; so for best results, create a Source first and use\r\n* getLayer() to retrieve wms.Layer instances.\r\n*/\r\n\r\nwms.Layer = L.Layer.extend({\r\n  'initialize': function(source, layerName, options) {\r\n      L.setOptions(this, options);\r\n      if (!source.addSubLayer) {\r\n          // Assume source is a URL\r\n          source = wms.getSourceForUrl(source, options);\r\n      }\r\n      this._source = source;\r\n      this._name = layerName;\r\n  },\r\n  'onAdd': function() {\r\n      if (!this._source._map)\r\n          this._source.addTo(this._map);\r\n      this._source.addSubLayer(this._name);\r\n  },\r\n  'onRemove': function() {\r\n      this._source.removeSubLayer(this._name);\r\n  },\r\n  'setOpacity': function(opacity) {\r\n      this._source.setOpacity(opacity);\r\n  },\r\n  'bringToBack': function() {\r\n      this._source.bringToBack();\r\n  },\r\n  'bringToFront': function() {\r\n      this._source.bringToFront();\r\n  }\r\n});\r\n\r\nwms.layer = function(source, options) {\r\n  return new wms.Layer(source, options);\r\n};\r\n\r\n// Cache of sources for use with wms.Layer auto-source option\r\nvar sources = {};\r\nwms.getSourceForUrl = function(url, options) {\r\n  if (!sources[url]) {\r\n      sources[url] = wms.source(url, options);\r\n  }\r\n  return sources[url];\r\n};\r\n\r\n\r\n// Copy tiled WMS layer from leaflet core, in case we need to subclass it later\r\nwms.TileLayer = L.TileLayer.WMS;\r\nwms.tileLayer = L.tileLayer.wms;\r\n\r\n/*\r\n* wms.Overlay:\r\n* \"Single Tile\" WMS image overlay that updates with map changes.\r\n* Portions of wms.Overlay are directly extracted from L.TileLayer.WMS.\r\n* See Leaflet license.\r\n*/\r\nwms.Overlay = L.Layer.extend({\r\n  'defaultWmsParams': {\r\n      'service': 'WMS',\r\n      'request': 'GetMap',\r\n      'version': '1.1.1',\r\n      'layers': '',\r\n      'styles': '',\r\n      'format': 'image/jpeg',\r\n      'transparent': false\r\n  },\r\n\r\n  'options': {\r\n      'crs': null,\r\n      'uppercase': false,\r\n      'attribution': '',\r\n      'opacity': 1,\r\n      'isBack': false,\r\n      'minZoom': 0,\r\n      'maxZoom': 18\r\n  },\r\n\r\n  'initialize': function(url, options) {\r\n      this._url = url;\r\n\r\n      // Move WMS parameters to params object\r\n      var params = {}, opts = {};\r\n      for (var opt in options) {\r\n           if (opt in this.options) {\r\n               opts[opt] = options[opt];\r\n           } else {\r\n               params[opt] = options[opt];\r\n           }\r\n      }\r\n      L.setOptions(this, opts);\r\n      this.wmsParams = L.extend({}, this.defaultWmsParams, params);\r\n  },\r\n\r\n  'setParams': function(params) {\r\n      L.extend(this.wmsParams, params);\r\n      this.update();\r\n  },\r\n\r\n  'getAttribution': function() {\r\n      return this.options.attribution;\r\n  },\r\n\r\n  'onAdd': function() {\r\n      this.update();\r\n  },\r\n\r\n  'onRemove': function(map) {\r\n      if (this._currentOverlay) {\r\n          map.removeLayer(this._currentOverlay);\r\n          delete this._currentOverlay;\r\n      }\r\n      if (this._currentUrl) {\r\n          delete this._currentUrl;\r\n      }\r\n  },\r\n\r\n  'getEvents': function() {\r\n      return {\r\n          'moveend': this.update\r\n      };\r\n  },\r\n\r\n  'update': function() {\r\n      if (!this._map) {\r\n          return;\r\n      }\r\n      // Determine image URL and whether it has changed since last update\r\n      this.updateWmsParams();\r\n      var url = this.getImageUrl();\r\n      if (this._currentUrl == url) {\r\n          return;\r\n      }\r\n      this._currentUrl = url;\r\n\r\n      // Keep current image overlay in place until new one loads\r\n      // (inspired by esri.leaflet)\r\n      var bounds = this._map.getBounds();\r\n      var overlay = L.imageOverlay(url, bounds, {'opacity': 0});\r\n      overlay.addTo(this._map);\r\n      overlay.once('load', _swap, this);\r\n      function _swap() {\r\n          if (!this._map) {\r\n              return;\r\n          }\r\n          if (overlay._url != this._currentUrl) {\r\n              this._map.removeLayer(overlay);\r\n              return;\r\n          } else if (this._currentOverlay) {\r\n              this._map.removeLayer(this._currentOverlay);\r\n          }\r\n          this._currentOverlay = overlay;\r\n          overlay.setOpacity(\r\n              this.options.opacity ? this.options.opacity : 1\r\n          );\r\n          if (this.options.isBack === true) {\r\n              overlay.bringToBack();\r\n          }\r\n          if (this.options.isBack === false) {\r\n              overlay.bringToFront();\r\n          }\r\n          if (this.options.zIndex !== undefined) {\r\n            overlay.setZIndex(this.options.zIndex);\r\n        }\r\n      }\r\n      if ((this._map.getZoom() < this.options.minZoom) ||\r\n          (this._map.getZoom() > this.options.maxZoom)){\r\n          this._map.removeLayer(overlay);\r\n      }\r\n  },\r\n\r\n  'setOpacity': function(opacity) {\r\n       this.options.opacity = opacity;\r\n       if (this._currentOverlay) {\r\n           this._currentOverlay.setOpacity(opacity);\r\n       }\r\n  },\r\n\r\n  'bringToBack': function() {\r\n      this.options.isBack = true;\r\n      if (this._currentOverlay) {\r\n          this._currentOverlay.bringToBack();\r\n      }\r\n  },\r\n\r\n  'bringToFront': function() {\r\n      this.options.isBack = false;\r\n      if (this._currentOverlay) {\r\n          this._currentOverlay.bringToFront();\r\n      }\r\n  },\r\n\r\n  'setZIndex': function(zIndex) {\r\n    this.options.zIndex = zIndex;\r\n      if (this._currentOverlay) {\r\n          this._currentOverlay.setZIndex(zIndex);\r\n      }\r\n  },\r\n\r\n  // See L.TileLayer.WMS: onAdd() & getTileUrl()\r\n  'updateWmsParams': function(map) {\r\n      if (!map) {\r\n          map = this._map;\r\n      }\r\n      // Compute WMS options\r\n      var bounds = map.getBounds();\r\n      var size = map.getSize();\r\n      var wmsVersion = parseFloat(this.wmsParams.version);\r\n      var crs = this.options.crs || map.options.crs;\r\n      var projectionKey = wmsVersion >= 1.3 ? 'crs' : 'srs';\r\n      var nw = crs.project(bounds.getNorthWest());\r\n      var se = crs.project(bounds.getSouthEast());\r\n\r\n      // Assemble WMS parameter string\r\n      var params = {\r\n          'width': size.x,\r\n          'height': size.y\r\n      };\r\n      params[projectionKey] = crs.code;\r\n      params.bbox = (\r\n          wmsVersion >= 1.3 && crs === L.CRS.EPSG4326 ?\r\n          [se.y, nw.x, nw.y, se.x] :\r\n          [nw.x, se.y, se.x, nw.y]\r\n      ).join(',');\r\n\r\n      L.extend(this.wmsParams, params);\r\n  },\r\n\r\n  'getImageUrl': function() {\r\n      var uppercase = this.options.uppercase || false;\r\n      var pstr = L.Util.getParamString(this.wmsParams, this._url, uppercase);\r\n      return this._url + pstr;\r\n  }\r\n});\r\n\r\nwms.overlay = function(url, options) {\r\n  return new wms.Overlay(url, options);\r\n};\r\n\r\n// Simple AJAX helper (since we can't assume jQuery etc. are present)\r\nfunction ajax(url, callback) {\r\n  var context = this,\r\n      request = new XMLHttpRequest();\r\n  request.onreadystatechange = change;\r\n  request.open('GET', url);\r\n  request.send();\r\n\r\n  function change() {\r\n      if (request.readyState === 4) {\r\n          if (request.status === 200) {\r\n              callback.call(context, request.responseText);\r\n          } else {\r\n              callback.call(context, \"error\");\r\n          }\r\n      }\r\n  }\r\n}\r\n\r\nreturn wms;\r\n\r\n}));\r\n","// https://github.com/taylorhakes/promise-polyfill\r\n// Copyright (c) 2014 Taylor Hakes\r\n// Copyright (c) 2014 Forbes Lindesay\r\n\r\n// Permission is hereby granted, free of charge, to any person obtaining a copy\r\n// of this software and associated documentation files (the \"Software\"), to deal\r\n// in the Software without restriction, including without limitation the rights\r\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n// copies of the Software, and to permit persons to whom the Software is\r\n// furnished to do so, subject to the following conditions:\r\n\r\n// The above copyright notice and this permission notice shall be included in\r\n// all copies or substantial portions of the Software.\r\n\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n// THE SOFTWARE.\r\n!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n():\"function\"==typeof define&&define.amd?define(n):n()}(0,function(){\"use strict\";function e(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function n(){}function t(e){if(!(this instanceof t))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],u(e,this)}function o(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,t._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(f){return void i(n.promise,f)}r(n.promise,o)}else(1===e._state?r:i)(n.promise,e._value)})):e._deferreds.push(n)}function r(e,n){try{if(n===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(n&&(\"object\"==typeof n||\"function\"==typeof n)){var o=n.then;if(n instanceof t)return e._state=3,e._value=n,void f(e);if(\"function\"==typeof o)return void u(function(e,n){return function(){e.apply(n,arguments)}}(o,n),e)}e._state=1,e._value=n,f(e)}catch(r){i(e,r)}}function i(e,n){e._state=2,e._value=n,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&t._immediateFn(function(){e._handled||t._unhandledRejectionFn(e._value)});for(var n=0,r=e._deferreds.length;r>n;n++)o(e,e._deferreds[n]);e._deferreds=null}function u(e,n){var t=!1;try{e(function(e){t||(t=!0,r(n,e))},function(e){t||(t=!0,i(n,e))})}catch(o){if(t)return;t=!0,i(n,o)}}var c=setTimeout;t.prototype[\"catch\"]=function(e){return this.then(null,e)},t.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new function(e,n,t){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof n?n:null,this.promise=t}(e,t,r)),r},t.prototype[\"finally\"]=e,t.all=function(e){return new t(function(n,t){function o(e,f){try{if(f&&(\"object\"==typeof f||\"function\"==typeof f)){var u=f.then;if(\"function\"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||\"undefined\"==typeof e.length)throw new TypeError(\"Promise.all accepts an array\");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},t.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===t?e:new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,t){t(e)})},t.race=function(e){return new t(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},t._immediateFn=\"function\"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){c(e,0)},t._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)};var l=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(\"undefined\"!=typeof global)return global;throw Error(\"unable to locate global object\")}();\"Promise\"in l?l.Promise.prototype[\"finally\"]||(l.Promise.prototype[\"finally\"]=e):l.Promise=t});\r\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--7-2!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=scss&\"","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"\\n.logo {\\n  width: 300px;\\n  vertical-align: middle;\\n  cursor: pointer;\\n}\\n.logo .logo__item--dark,\\n  .logo .logo__item--light {\\n    fill: #aec8e0;\\n    transition: fill .3s;\\n}\\n.logo .logo__item--dark {\\n    fill: rgba(35, 31, 32, 0.685);\\n}\\n.logo .logo__item--light {\\n    fill: rgba(23, 111, 193, 0.747);\\n}\\n.logo:hover .logo__item--dark {\\n    fill: #231F20;\\n}\\n.logo:hover .logo__item--light {\\n    fill: #176FC1;\\n}\\n.logo--mini {\\n  width: 20px;\\n  height: 20px;\\n  left: 10px;\\n  top: 14px;\\n  z-index: 10;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"C:/Users/rendr/nextgis/oralhistory/src/components/NextGIS/C:/Users/rendr/nextgis/oralhistory/src/components/NextGIS/About.vue\"],\"names\":[],\"mappings\":\";AA+CA;EACI,aAAY;EACZ,uBAAsB;EACtB,gBAAe;CAwBlB;AA3BD;;IAOI,cATe;IAUf,qBAAoB;CACrB;AATH;IAYI,8BAA6B;CAC9B;AAbH;IAeI,gCAA+B;CAChC;AAhBH;IAqBM,cAAa;CACd;AAtBL;IAwBM,cAAa;CACd;AAIL;EACI,YAAW;EACX,aAAY;EACZ,WAAU;EACV,UAAS;EACT,YAAW;CACd\",\"file\":\"About.vue?vue&type=style&index=0&lang=scss&\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n$dark-blue: #aec8e0;\\n\\n.logo{\\n    width: 300px;\\n    vertical-align: middle;\\n    cursor: pointer;\\n\\n  .logo__item--dark,\\n  .logo__item--light{\\n    fill: $dark-blue;\\n    transition: fill .3s;\\n  }\\n\\n  .logo__item--dark{\\n    fill: rgba(35, 31, 32, 0.685);\\n  }\\n  .logo__item--light{\\n    fill: rgba(23, 111, 193, 0.747);\\n  }\\n\\n\\n  &:hover{\\n    .logo__item--dark{\\n      fill: #231F20;\\n    }\\n    .logo__item--light{\\n      fill: #176FC1;\\n    }\\n  }\\n}\\n\\n.logo--mini{\\n    width: 20px;\\n    height: 20px;\\n    left: 10px;\\n    top: 14px;\\n    z-index: 10;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n"],"sourceRoot":""}
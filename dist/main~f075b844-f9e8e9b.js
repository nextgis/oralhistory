(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{126:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var o={brill:'<path d="m6 0-5 6 5 6 5-6z"/>',circle:'<circle cx="6" cy="6" r="6"/>',rect:'<rect width="12" height="12"/>',marker:'<path d="m6 0c-1.85 0-4 1.19-4 4.22 0 2.05 3.08 6.59 4 7.78 0.821-1.19 4-5.62 4-7.78 0-3.03-2.15-4.22-4-4.22z"/>',cross:'<path d="M 2.4,12 6,8.4 9.6,12 12,9.6 8.4,6 12,2.4 9.6,0 6,3.6 2.4,0 0,2.4 3.6,6 0,9.6 Z"/>',star:'<path d="m6 0.25 1.71 4.18 4.29-1.04e-4 -3.43 3.14 0.857 4.18-3.43-3.14-3.43 3.14 0.857-4.18-3.43-3.14 4.29-0.209z"/>',triangle:'<path d="m12 11.7h-12l6-11.2z"/>',plus:'<path d="m7.5 12v-4.5h4.5v-3h-4.5v-4.5h-3v4.5h-4.5v3h4.5v4.5z"/>',minus:'<path d="m12 7.5v-3h-12v3z"/>',asterisk:'<path d="m7.59 12v-3.27l2.83 1.64 1.58-2.74-2.85-1.64 2.83-1.64-1.56-2.74-2.83 1.64v-3.24h-3.17v3.24l-2.85-1.64-1.57 2.74 2.84 1.64-2.84 1.64 1.57 2.74 2.85-1.64v3.27z"/>'};function n(t){void 0===t&&(t={});var e=t.shape||"circle",r=t.color||"blue",n=t.strokeColor||"white",i=t.size||12,a=i/2,s="number"==typeof t.stroke?t.stroke:.8,u=i/12,c=o[e]||"circle",p=function(t,e,r,o){void 0===r&&(r=0);var n=r/2,i='<svg\n    version="1.1"\n    xmlns="http://www.w3.org/2000/svg"\n    width="'+t+'"\n    height="'+e+'"\n    viewBox="-'+n+" -"+n+" "+(t+r)+" "+(e+r)+'"\n  >'+o+"</svg>";return(new DOMParser).parseFromString(i,"image/svg+xml").documentElement}(i,i,s*u,"string"==typeof c?c:c(t)),l=p.firstChild,f="scale("+u+")";return l.setAttribute("fill",r),s&&(l.setAttribute("stroke",n),l.setAttribute("stroke-width",String(s))),l.setAttribute("transform",f),{type:"icon",iconSize:[i,i],iconAnchor:[a,a],html:(new XMLSerializer).serializeToString(p),svg:p}}},171:function(t,e,r){"use strict";var o,n=r(13),i=r(38);try{o=r(309)}catch(t){}function a(t,e){var r=window.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");if(r.setAttribute("width",String(e.width)),r.setAttribute("height",String(e.height)),!o&&t instanceof HTMLImageElement)n.drawImage(t,0,0,e.width,e.height);else if("string"==typeof t){if(o.Canvg)o.Canvg.fromString(n,t).start();else o(r,t)}return n.getImageData(0,0,e.width,e.height)}var s=0,u=function(t,e){this.map=t,this.options=e,this._layerId="layer-"+s++},c={circle:[["fillColor","color"],["fillOpacity","opacity"],["strokeColor","stroke-color"],["strokeOpacity","stroke-opacity"],["weight","stroke-width"],"radius"],line:[["strokeColor","color"],["strokeOpacity","opacity"],["weight","width"]],fill:[["fillColor","color"],["fillOpacity","opacity"]],icon:["color","opacity"].concat([])},p={Point:"circle",LineString:"line",MultiPoint:"circle",Polygon:"fill",MultiLineString:"line",MultiPolygon:"fill",GeometryCollection:"fill"},l={circle:"Point",line:"LineString",fill:"Polygon",icon:"Point"},f={icon:["Point"]};for(var h in p){var y=p[h],d=f[y]||[];d.push(h),f[y]=d}function v(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=1+(e[t[r]]||0);var o="";for(var n in e){var i=o?e[o]:0;e[n]>i&&(o=n)}return o}function _(t,e){var r=f[e];return!!r&&-1!==r.indexOf(t)}var m,g=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),b=function(){return(b=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},F=function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},w=function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},L=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,n++)o[n]=i[a];return o},O={gt:">",lt:"<",ge:">=",le:"<=",eq:"==",ne:"!=",in:"in",notin:"!in",like:"==",ilike:"=="},P={gt:O.le,lt:O.ge,ge:O.lt,le:O.gt,eq:O.ne,ne:O.eq,in:O.notin,notin:O.in,like:O.ne,ilike:O.ne},k={color:"blue",opacity:1,radius:10},I=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.map=e,o.options=r,o.selected=!1,o.featureIdName="id",o._types=["fill","circle","line"],o._selectedFeatureIds=[],o._sourceId=o.options.source?o.options.source:"source-"+o._layerId,o.options.featureIdName?o.featureIdName=o.options.featureIdName:o.options.source?o.featureIdName="$id":o.featureIdName="_fid",o._selectionName=o._layerId+"-highlighted",o.$onLayerClick=o._onLayerClick.bind(o),o}return g(e,t),e.prototype.addLayer=function(t){return F(this,void 0,void 0,(function(){var e,r,o,n,i,a,s,u,c;return w(this,(function(p){switch(p.label){case 0:if(t=this.options=b(b({},this.options),t||{}),this.layer=[],e=this._types=t.type?[t.type]:this._types,!t.paint)return[3,5];this._onAddLayer(this._sourceId),r=0,o=e,p.label=1;case 1:return r<o.length?(n=o[r],(i=l[n])?(a=n,"circle"===n&&"icon"===this._detectPaintType(t.paint)&&(a="icon"),s=this._getLayerNameFromType(n),u=e.length>1?["==","$type",i]:void 0,[4,this._addLayer(s,a,[u,this._getNativeFilter()])]):[3,4]):[3,5];case 2:return p.sent(),this.layer.push(s),t.selectedPaint?(c=this._getSelectionLayerNameFromType(n),[4,this._addLayer(c,a,[u,["in",this.featureIdName,""]],this.options.selectedLayout)]):[3,4];case 3:p.sent(),this.layer.push(c),p.label=4;case 4:return r++,[3,1];case 5:return this._addEventsListeners(),[2,this.layer]}}))}))},e.prototype.propertiesFilter=function(t,e){this._filterProperties=t,this._updatePropertiesFilter()},e.prototype.removeFilter=function(){this._filterProperties=void 0,this._updateFilter()},e.prototype.select=function(t){"function"!=typeof t&&(this._selectProperties=t,this._updateFilter()),this.selected=!0},e.prototype.unselect=function(){this._selectProperties=void 0,this._updateFilter(),this.selected=!1},e.prototype.removeLayer=function(){var t=this.map;this.layer&&this.layer.forEach((function(e){t.removeLayer(e)}))},e.prototype._updateWithNativeFilter=function(t){var e=this._getNativeFilter();return e.length&&t.push(e),t},e.prototype._getNativeFilter=function(){return this.options.nativeFilter?this.options.nativeFilter:[]},e.prototype._addLayer=function(t,e,r,o){return F(this,void 0,void 0,(function(){var n,i,a,s,u,c;return w(this,(function(p){return n=this.options,i=n.minZoom,a=n.maxZoom,s="icon"===e?"symbol":e,o=o||this.options.layout||{},u=b({id:t,type:s,source:this._sourceId,layout:b({visibility:"none"},o)},this._getAdditionalLayerOptions()),i&&(u.minzoom=i-1),a&&(u.maxzoom=a-1),this.map.addLayer(u),(c=L(["all"],r||[]).filter((function(t){return t}))).length>1&&this.map.setFilter(u.id,c),[2]}))}))},e.prototype._onAddLayer=function(t,e){},e.prototype._updateLayerPaint=function(t){return F(this,void 0,void 0,(function(){var e,r,o,n,i,a,s,u,c,p;return w(this,(function(l){switch(l.label){case 0:if(e=this._getLayerNameFromType(t),!this.options.paint)return[3,6];r=[[e,this.options.paint]],this.options.selectedPaint&&(o=this._getSelectionLayerNameFromType(t),r.push([o,this.options.selectedPaint])),n=0,i=r,l.label=1;case 1:return n<i.length?(a=i[n],s=a[0],u=a[1],c=void 0,this.options.nativePaint?(c="boolean"==typeof this.options.nativePaint?u:this.options.nativePaint,[3,4]):[3,2]):[3,6];case 2:return[4,this._createPaintForType(u,t,s)];case 3:c=l.sent(),l.label=4;case 4:if("icon-image"in c)for(p in c["icon-allow-overlap"]=!0,c)this.map.setLayoutProperty(s,p,c[p]);else for(p in c)this.map.setPaintProperty(s,p,c[p]);l.label=5;case 5:return n++,[3,1];case 6:return[2]}}))}))},e.prototype._getLayerNameFromType=function(t){return t+"-"+this._layerId},e.prototype._getSelectionLayerNameFromType=function(t){return t+"-"+this._selectionName},e.prototype._createPaintForType=function(t,e,r){return F(this,void 0,void 0,(function(){var r,o,n,i;return w(this,(function(a){switch(a.label){case 0:return"function"==typeof t?[3,3]:(r={},o=b(b({},k),t||{}),"icon"===t.type&&t.html?[4,this._registerImage(t)]:[3,2]);case 1:return a.sent(),[2,{"icon-image":t.html}];case 2:for(i in n=function(t){var n=c[e];if(n){var i=n.find((function(e){return"string"==typeof e?e===t:!!Array.isArray(e)&&e[0]===t}));if(i){var a=Array.isArray(i)?i[1]:i;r[e+"-"+a]=o[t]}}},o)n(i);return r[e+"-opacity-transition"]={duration:0},[2,r];case 3:return[2]}}))}))},e.prototype._getFeatureFilterId=function(t){var e=t._featureFilterId;return void 0!==e?e:t.properties&&void 0!==t.properties[this.featureIdName]?t.properties[this.featureIdName]:t.id},e.prototype._registerImage=function(t){return F(this,void 0,void 0,(function(){var e,r,n;return w(this,(function(i){switch(i.label){case 0:return t.html?this.map.hasImage(t.html)?[3,2]:(e=12,r=12,t.iconSize&&(e=t.iconSize[0],r=t.iconSize[1]),[4,(s=t.html,u={width:e,height:r},new Promise((function(t){if(o)t(a(s,u));else{var e=new Image;e.crossOrigin="Anonymous",e.src="data:image/svg+xml;base64,"+btoa(s),e.onload=function(){var r=a(e,u);t(r)}}})))]):[3,2];case 1:n=i.sent(),this.map.addImage(t.html,n),i.label=2;case 2:return[2]}var s,u}))}))},e.prototype._selectFeature=function(t){},e.prototype._unselectFeature=function(t){},e.prototype._getAdditionalLayerOptions=function(){return{}},e.prototype._updateFilter=function(){this._updatePropertiesFilter()},e.prototype._updatePropertiesFilter=function(){var t=this,e=this.layer;e&&this._types.forEach((function(r){var o=l[r];if(o){var n=["==","$type",o],i=t._getLayerNameFromType(r),a=t._getSelectionLayerNameFromType(r),s=t._selectProperties,u=t._filterProperties,c=u&&t._convertToMapboxFilter(u);if(-1!==e.indexOf(a)&&t._selectionName){var p=[];s||t._selectedFeatureIds?(s?p=t._convertToMapboxFilter(s)||[]:t._selectedFeatureIds&&(p=[L(["in",t.featureIdName],t._selectedFeatureIds)]),c&&c.forEach((function(t){return p.push(t)})),t.map.setFilter(a,L(["all",n],p))):(p=["in","$id",""],t.map.setFilter(a,p))}if(-1!==e.indexOf(i)){var f=["all",n];if(t._updateWithNativeFilter(f),s)t._convertToMapboxFilter(s,!0).forEach((function(t){return f.push(t)}));else t._selectedFeatureIds&&f.push(L(["!in",t.featureIdName],t._selectedFeatureIds));c&&c.forEach((function(t){return f.push(t)})),t.map.setFilter(i,f)}}}))},e.prototype._convertToMapboxFilter=function(t,e){void 0===e&&(e=!1);var r=e?P:O;return t.map((function(t){if("string"==typeof t)return t;if(Object(i.a)(t)){var e=t[0],o=t[1],n=t[2],a=r[o];return"in"===o||"notin"===o?L([a,e],n):[a,e,n]}}))},e.prototype.isFeatureSelected=function(t){if(this._selectedFeatureIds){var e=this._getFeatureFilterId(t);if(e)return-1!==this._selectedFeatureIds.indexOf(e)}return!1},e.prototype._onLayerClick=function(t){var e=this;if(t.preventDefault(),this.layer){var r=this.layer.reduce((function(r,o){var n=e.map.queryRenderedFeatures(t.point,{layers:[o]});return r.concat(n)}),[])[0];if(r){var o=this.isFeatureSelected(r);o?this.options&&this.options.unselectOnSecondClick&&this._unselectFeature(r):this._selectFeature(r),o=this.isFeatureSelected(r),this.options.onLayerClick&&this.options.onLayerClick({layer:this,feature:r,selected:o})}}},e.prototype._detectPaintType=function(t){if("type"in t)return t.type;if("function"==typeof t)try{var e=t({type:"Feature",properties:{},geometry:{}});return this._detectPaintType(e)}catch(t){}},e.prototype._addEventsListeners=function(){var t=this;this.layer&&this.options&&this.options.selectable&&this.layer.forEach((function(e){if(t.$onLayerClick){var r=t.$onLayerClick;t.map.on("click",e,(function(t){r(t)}))}t.map.on("mousemove",e,(function(){t.map.getCanvas().style.cursor="pointer"})),t.map.on("mouseleave",e,(function(){t.map.getCanvas().style.cursor=""}))}))},e}(u),C=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),E=function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},x=function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C(e,t),e.prototype.addLayer=function(e){return E(this,void 0,void 0,(function(){var r;return x(this,(function(o){switch(o.label){case 0:return[4,t.prototype.addLayer.call(this,e)];case 1:return r=o.sent(),this._updateLayerPaint(this.options.type||"fill"),[2,r]}}))}))},e.prototype._getAdditionalLayerOptions=function(){return e.sources.includes(this.options.url)||(this.map.addSource(this.options.url,{type:"vector",tiles:[this.options.url]}),this.source=this.options.url,e.sources.push(this.options.url)),{source:this.options.url,"source-layer":this.options.sourceLayer}},e.sources=[],e}(I),S=r(52),N=r.n(S),j=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),T=function(){return(T=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e.prototype.addLayer=function(t){var e,r=(t=T(T({},this.options),t||{})).minZoom,o=t.maxZoom;(e=t&&t.subdomains?t.subdomains.split("").map((function(e){return t.url.replace("{s}",e)})):[t.url],t.headers)&&this.map.transformRequests.push((function(e,r){var o=e;if((o=(o=(o=o.replace(/(z=\d+)/,"z={z}")).replace(/(x=\d+)/,"x={x}")).replace(/(y=\d+)/,"y={y}"))===t.url)return{url:e,headers:t.headers}}));var n={type:"raster",tiles:e,tileSize:256};t.attribution&&(n.attribution=t.attribution);var i={id:this._layerId,type:"raster",layout:{visibility:"none"},source:n};return r&&(i.minzoom=r-1),o&&(i.maxzoom=o-1),this.map.addLayer(i,t.before),this.layer=[this._layerId]},e}(u),M=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),D={url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright" target="_blank">OpenStreetMap</a> contributors',subdomains:"abc"},Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.addLayer=function(e){return t.prototype.addLayer.call(this,Object.assign({},D,e))},e}(z),B=r(41),G=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),R=function(){return(R=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},q=function(t){function e(e){void 0===e&&(e={});return e=R(R({},e),{showCompass:!1}),t.call(this,e)||this}return G(e,t),e.prototype._createButton=function(e,r,o){var n=t.prototype._createButton.call(this,e,r,o),i={"Zoom in":"zoomInTitle","Zoom out":"zoomOutTitle"}[r],a=i&&this.options[i];return a&&(n.title=a,n.setAttribute("aria-label",a)),n},e}(S.NavigationControl),H=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),V=function(t){function e(e){void 0===e&&(e={});return e=Object.assign({},e,{showZoom:!1}),t.call(this,e)||this}return H(e,t),e}(S.NavigationControl),W=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W(e,t),e}(S.AttributionControl),J=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),U=function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},X=function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Q=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,n++)o[n]=i[a];return o},K=0,Y=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.map=e,o.options=r,o.selected=!1,o._features=[],o._sources={},o.source=o._sourceId,o}return J(e,t),e.prototype.addLayer=function(e){return U(this,void 0,void 0,(function(){var r;return X(this,(function(o){switch(o.label){case 0:return[4,t.prototype.addLayer.call(this,e)];case 1:return r=o.sent(),this.options.data&&this.addData(this.options.data),[2,r]}}))}))},e.prototype.removeLayer=function(){t.prototype.removeLayer.call(this),this.map.getSource(this._sourceId)&&this.map.removeSource(this._sourceId)},e.prototype.clearLayer=function(t){var e=[],r=this.map.getSource(this._sourceId);t&&(e=this._features=this._features.filter((function(e){return!t(e)}))),r.setData({type:"FeatureCollection",features:e})},e.prototype.addData=function(t){return U(this,void 0,void 0,(function(){var e,r,o=this;return X(this,(function(n){switch(n.label){case 0:return this.options.type&&(e=this.options.type),!e&&t&&(r=function(t){var e;if("FeatureCollection"===t.type)e=v(t.features.map((function(t){return t.geometry.type})));else if("GeometryCollection"===t.type){e=v(t.geometries.map((function(t){return t.type})))}else e="Feature"===t.type?t.geometry.type:t.type;return e}(t),e=p[r]),t&&e?(this.filterGeometries(t,e).forEach((function(t){var e="_"+K++;t._featureFilterId=e,t.properties&&(t.properties[o.featureIdName]=e)})),this._filterFun&&this._filter(this._filterFun),[4,this._updateLayerPaint(e)]):[3,2];case 1:n.sent(),this.map.getSource(this._sourceId).setData({type:"FeatureCollection",features:this._features}),n.label=2;case 2:return[2]}}))}))},e.prototype.getLayers=function(){var t=this,e=this._filteredFeatureIds,r=this._filterProperties;return r&&this._updateWithNativeFilter(r),this._getFeatures().map((function(o){var i=!1;if(r&&o.properties)i=Object(n.e)(o,r);else if(e){var a=t._getFeatureFilterId(o);void 0!==a&&(i=-1!==e.indexOf(a))}return{feature:o,visible:i}}))},e.prototype.filter=function(t){this._filterFun=t,this._filter(t)},e.prototype.removeFilter=function(){this._filterFun=void 0,this._filteredFeatureIds=void 0,this._updateFilter()},e.prototype.getSelected=function(){var t=this,e=[];return this._getFeatures().forEach((function(r){var o=t._getFeatureFilterId(r);o&&t._selectedFeatureIds&&-1!==t._selectedFeatureIds.indexOf(o)&&e.push({feature:r})})),e},e.prototype.select=function(e){if(e)if("function"==typeof e){var r=this._getFeatures().filter((function(t){return e({feature:t})}));this._selectFeature(r)}else this.selected=!0,this._selectProperties=e,t.prototype._updateFilter.call(this);else this.selected||this._selectFeature(this._getFeatures())},e.prototype.unselect=function(t){if(this._selectProperties=void 0,t){if("function"==typeof t){var e=this._getFeatures().filter((function(e){return t({feature:e})}));this._unselectFeature(e),this.selected=!!Array.isArray(this._selectedFeatureIds)}}else this.selected&&(this.selected=!1,this._unselectFeature())},e.prototype._onAddLayer=function(t){var e=this,r=this.map.getSource(t);if(!r){var o={type:"geojson",data:{type:"FeatureCollection",features:[]}};["cluster","clusterMaxZoom","clusterRadius"].forEach((function(t){var r=e.options[t];void 0!==r&&(o[t]=r)})),this.map.addSource(t,o),r=this.map.getSource(t)}this._sources[t]=r,this.options.type&&this._updateLayerPaint(this.options.type)},e.prototype._createPaintForType=function(e,r,o){return U(this,void 0,void 0,(function(){return X(this,(function(n){switch(n.label){case 0:return"function"!=typeof e?[3,2]:[4,this._getPaintFromCallback(e,r,o)];case 1:return[2,n.sent()];case 2:return[2,t.prototype._createPaintForType.call(this,e,r,o)]}}))}))},e.prototype._selectFeature=function(t){var e=this,r=this._selectedFeatureIds||[];this.options&&!this.options.multiselect&&(r=[]);(Array.isArray(t)?t:[t]).forEach((function(t){var o=e._getFeatureFilterId(t);void 0!==o&&r.push(o)})),this._selectedFeatureIds=r,this._updateFilter()},e.prototype._unselectFeature=function(t){var e=this;if(t){var r=[];(r=Array.isArray(t)?t:[t]).length&&r.forEach((function(t){var r=e._getFeatureFilterId(t),o=e._selectedFeatureIds;if(o&&void 0!==r){var n=o.indexOf(r);-1!==n&&o.splice(n,1)}}))}else this._selectedFeatureIds=!1;this._updateFilter()},e.prototype._updateFilter=function(){var e=this;if(this._filterProperties||this._selectProperties)return t.prototype._updateFilter.call(this);var r=this._selectedFeatureIds,o=[],n=[],i=this._filteredFeatureIds;i?this._getFeatures().forEach((function(t){var a=e._getFeatureFilterId(t);void 0!==a&&-1!==i.indexOf(a)&&(r&&-1!==r.indexOf(a)?o.push(a):n.push(a))})):r&&(o=r),this.selected=!!r;var a=this.layer;a&&this._types.forEach((function(t){var r=l[t];if(r){var s=["==","$type",r],u=e._getLayerNameFromType(t),c=e._getSelectionLayerNameFromType(t);if(-1!==a.indexOf(c)&&e._selectionName&&e.map.setFilter(c,["all",s,Q(["in",e.featureIdName],o)]),-1!==a.indexOf(u)){var p=["all",s];i?p.push(Q(["in",e.featureIdName],n)):(p.push(Q(["!in",e.featureIdName],o)),e._updateWithNativeFilter(p)),e.map.setFilter(u,p)}}}))},e.prototype._getFeatures=function(){var t;if(this.source){var e=this.map.getSource(this.source);if(e)return(null===(t=e._data)||void 0===t?void 0:t.features)||[]}return this._features},e.prototype._filter=function(t){var e=this,r=[];this._getFeatures().forEach((function(o){var n=t({feature:o}),i=e._getFeatureFilterId(o);n&&i&&r.push(i)})),this._filteredFeatureIds=r,this._updateFilter()},e.prototype.filterGeometries=function(t,e){var r=[];if("FeatureCollection"===t.type){var o=t.features.filter((function(t){return _(t.geometry.type,e)}));t.features=o,r=o}else if("Feature"===t.type){if(!_(t.geometry.type,e))return[];r.push(t)}else if("GeometryCollection"===t.type){var n=t;n.geometries=n.geometries.filter((function(t){return _(t.type,e)})),r=n.geometries.map((function(t){return{type:"Feature",geometry:t,properties:{}}}))}else if(p[t.type]){r=[{type:"Feature",geometry:t,properties:{}}]}return this._features=this._features.concat(r),r},e.prototype._getPaintFromCallback=function(t,e,r){return U(this,void 0,void 0,(function(){var o,n,i,a,s,u,c;return X(this,(function(p){switch(p.label){case 0:o={},n=0,i=this._features,p.label=1;case 1:return n<i.length?(a=i[n],"icon"!==(s=t(a)).type?[3,3]:[4,this._registerImage(s)]):[3,5];case 2:return p.sent(),a.properties&&(a.properties["_icon-image-"+r]=s.html),o["icon-image"]="{_icon-image-"+r+"}",[3,4];case 3:for(u in s)c=s[u],a.properties&&(a.properties["_paint_"+u+"_"+r]=c),o[u]=["get","_paint_"+u+"_"+r];p.label=4;case 4:return n++,[3,1];case 5:return"icon-image"in o?[2,o]:[2,this._createPaintForType(o,e,r)]}}))}))},e}(I);function tt(t,e){return void 0===e&&(e={}),new(function(){function r(){}return r.prototype.getDefaultPosition=function(){return"top-left"},r.prototype.onAdd=function(){var r=document.createElement("div"),o=t.onAdd();return r.classList.add("mapboxgl-ctrl"),e.bar&&r.classList.add("mapboxgl-bar"),e.addClass&&r.classList.add(e.addClass),r.appendChild(o),this._container=r,this._container},r.prototype.onRemove=function(){if(this._container){var e=this._container.parentNode;e&&e.removeChild(this._container)}return t.onRemove()},r.prototype.remove=function(){this.onRemove()},r}())}var et=function(){return(et=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},rt=function(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},ot=function(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},nt={},it=function(){function t(){var e=this;this.options={},this.emitter=new B.EventEmitter,this.layerAdapters=t.layerAdapters,this.controlAdapters=t.controlAdapters,this.isLoaded=!1,this._universalEvents=["zoomstart","zoom","zoomend","movestart","move","moveend"],this._sourceDataLoading={},this.__setLayerOrder=Object(n.c)((function(t){return e._setLayerOrder(t)}))}return t.prototype.create=function(t){var e=this;return new Promise((function(r,o){if(!e.map&&(e.options=t,t.accessToken&&(N.a.accessToken=t.accessToken),t.target)){var n={container:t.target,attributionControl:!1,bounds:t.bounds,fitBoundsOptions:et(et({},t.fitOptions),nt),transformRequest:function(t,r){var o=e._transformRequest(t,r);return o||{url:t}}};"string"==typeof t.style?n.style=t.style:n.style=et({version:8,name:"Empty style",sources:{},layers:[]},t.style),void 0!==t.center&&(n.center=t.center),void 0!==t.zoom&&(n.zoom=t.zoom-1),t.maxZoom&&(n.maxZoom=t.maxZoom-1),t.minZoom&&(n.minZoom=t.minZoom-1),e.map=new S.Map(n),e.map.once("load",(function(){e.map.transformRequests=[],e.isLoaded=!0,e.emitter.emit("create",e),r(e)})),e._addEventsListeners()}}))},t.prototype.destroy=function(){this.map&&this.map.remove()},t.prototype.getContainer=function(){return this.map&&this.map.getContainer()},t.prototype.setView=function(t,e){if(this.map){var r={center:t};e&&(r.zoom=e-1),this.map.jumpTo(r)}},t.prototype.setCenter=function(t){this.map&&this.map.setCenter(t)},t.prototype.getCenter=function(){if(this.map){var t=this.map.getCenter();return[t.lng,t.lat]}},t.prototype.setZoom=function(t){this.map&&this.map.setZoom(t-1)},t.prototype.getZoom=function(){if(this.map){var t=this.map.getZoom();if(t<1)return;return t?t+1:void 0}},t.prototype.fitBounds=function(t,e){return void 0===e&&(e={}),rt(this,void 0,void 0,(function(){var r;return ot(this,(function(o){return this.map&&(r=et(et({linear:!0,duration:0},e),nt),this.map.fitBounds([[t[0],t[1]],[t[2],t[3]]],r),Object(n.h)(r.duration)),[2]}))}))},t.prototype.setRotation=function(t){},t.prototype.showLayer=function(t){var e=this;t&&t.forEach((function(t){e._toggleLayer(t,!0)}))},t.prototype.hideLayer=function(t){var e=this;t&&t.forEach((function(t){e._toggleLayer(t,!1)}))},t.prototype.removeLayer=function(t){var e=this.map;e&&t&&Array.isArray(t)&&t.forEach((function(t){e.removeLayer(t),e.getSource(t)&&e.removeSource(t)}))},t.prototype.setLayerOrder=function(t,e,r){this.__setLayerOrder(r)},t.prototype.setLayerOpacity=function(t,e){var r=this,o=this.map;o&&t.forEach((function(t){r._onMapLoad().then((function(){var r=o.getLayer(t);r&&("symbol"===r.type?(o.setPaintProperty(t,"text-opacity",e),o.setPaintProperty(t,"icon-opacity",e)):o.setPaintProperty(t,r.type+"-opacity",e))}))}))},t.prototype.createControl=function(t,e){return tt(t,e)},t.prototype.createButtonControl=function(t){return function(t){var e=document.createElement("button");if(e.className="mapboxgl-ctrl-icon",e.setAttribute("role","button"),t.title&&(e.title=t.title,e.setAttribute("aria-label",t.title)),t.html){t.html instanceof HTMLElement?e.appendChild(t.html):e.innerHTML=t.html;var r=e.firstElementChild;r&&(r.style.width="100%",r.style.height="100%",r.style.lineHeight=(e.offsetHeight||30)+"px")}t.addClass&&t.addClass.split(" ").forEach((function(t){return e.classList.add(t)}));var o=function(e){e.stopPropagation(),t.onClick()};return void 0!==t.onClick&&e.addEventListener("click",o),tt({onAdd:function(){return e},onRemove:function(){var r=e.parentNode;r&&r.removeChild(e),void 0!==t.onClick&&e.removeEventListener("click",o)}},{bar:!0,addClass:"mapboxgl-ctrl-group"})}(t)},t.prototype.addControl=function(t,e){if(this.map)return this.map.addControl(t,e),t},t.prototype.removeControl=function(t){this.map&&this.map.removeControl(t)},t.prototype.onMapClick=function(t){var e=t.lngLat,r=t.point,o=r.x,n=r.y;this.emitter.emit("click",{latLng:e,pixel:{top:n,left:o}})},t.prototype._onMapLoad=function(t){var e=this;return new Promise((function(r){var o=function(){t&&t(),e.map&&r(e.map)};e.isLoaded?o():e.map&&e.emitter.once("create",(function(){o()}))}))},t.prototype._setLayerOrder=function(t){console.log(t);var e=this.map;if(e){var r=[],o=[];for(var n in t){var i=t[n];i.options.baseLayer?r.push(i):o.push(i)}o=o.sort((function(t,e){return void 0!==t.options.order&&void 0!==e.options.order?t.options.order-e.options.order:0}));for(var a=function(t){var r=o[t+1],n=r&&r.layer&&r.layer[0],i=o[t];s._getLayerIds(i).forEach((function(t){e.moveLayer(t,n)}))},s=this,u=0;u<o.length;u++)a(u);var c=o.find((function(t){return Array.isArray(t.layer)}));if(c){var p=this._getLayerIds(c)[0];r.forEach((function(t){t.layer&&t.layer.forEach((function(t){e.moveLayer(t,p)}))}))}}},t.prototype._getLayerIds=function(t){var e=[];if(t)if(Array.isArray(t.layer))e=t.layer;else if(t.getDependLayers){t.getDependLayers().forEach((function(t){var r=t.layer&&t.layer.layer||t;Array.isArray(r)&&r.forEach((function(t){e.push(t)}))}))}return e},t.prototype._toggleLayer=function(t,e){this._onMapLoad().then((function(r){r.setLayoutProperty(t,"visibility",e?"visible":"none")}))},t.prototype._onMapSourceData=function(t){var e=this;if("source"===t.dataType){var r=t.isSourceLoaded;this._onDataLoad(t,r,(function(t){e.emitter.emit("data-loaded",{target:t})}))}},t.prototype._onMapError=function(t){var e=this;if(this._sourceDataLoading[t.sourceId]){var r=t.isSourceLoaded;this._onDataLoad(t,r,(function(t){e.emitter.emit("data-error",{target:t})}))}},t.prototype._onDataLoad=function(t,e,r){if(void 0===e&&(e=!1),e)Object.keys(this._sourceDataLoading).forEach((function(t){r(t)})),this._sourceDataLoading={};else{var o=this._sourceDataLoading[t.sourceId];if(o&&t.tile){var n=o.indexOf(t.tile);-1!==n&&this._sourceDataLoading[t.sourceId].splice(n,1),o.length||(r(t.sourceId),delete this._sourceDataLoading[t.sourceId])}}},t.prototype._transformRequest=function(t,e){var r=this.map&&this.map.transformRequests;if(r)for(var o=0,n=r;o<n.length;o++){var i=(0,n[o])(t,e);if(i)return i}else;},t.prototype._addEventsListeners=function(){var t=this,e=this.map;e&&(e.on("sourcedataloading",(function(e){t._sourceDataLoading[e.sourceId]=t._sourceDataLoading[e.sourceId]||[],e.tile&&t._sourceDataLoading[e.sourceId].push(e.tile)})),e.on("sourcedata",this._onMapSourceData.bind(this)),e.on("error",this._onMapError.bind(this)),e.on("click",(function(e){t.onMapClick(e)})),this._universalEvents.forEach((function(r){e.on(r,(function(){return t.emitter.emit(r,t)}))})))},t.layerAdapters={TILE:z,MVT:A,OSM:Z,GEOJSON:Y},t.controlAdapters={ZOOM:q,COMPASS:V,ATTRIBUTION:$},t}();e.a=it},224:function(t,e,r){"use strict";function o(t,e,r,n){void 0===e&&(e=function(t){return!!t}),void 0===n&&(n=[]);var i=[];if(Array.isArray(t))i=t;else{e(t)&&n.push(t);var a=r(t);a&&(Array.isArray(a)?i=a:i.push(a))}for(var s=0;s<i.length;s++)i[s]&&o(i[s],e,r,n);return n}var n,i=function(){function t(t){this._children=[],this.item=t}return t.prototype.setParent=function(t){this._parent=t},t.prototype.addChild=function(t){this._children.push(t)},t.prototype.getParent=function(){return this._parent},t.prototype.getParents=function(t){var e=this.getParent();return e?o(e,t,(function(t){return t.tree.getParent()})):[]},t.prototype.getRoot=function(){for(var t=this.getParent(),e=t;t;)(t=t.tree.getParent())&&(e=t);return e},t.prototype.find=function(t){return o(this._children,t,(function(t){return t.tree.getChildren()}))[0]},t.prototype.all=function(t){return this.getDescendants(t)},t.prototype.getDescendants=function(t){return o(this._children,t,(function(t){return t.tree.getChildren()}))},t.prototype.getChildren=function(){return this._children},t}();try{n=r(41)}catch(t){}var a,s,u=n&&n.EventEmitter,c=function(){function t(t,e,r){this.emitter=u&&new u,this._blocked=!1,this.item=e,this.options=Object.assign({},r),this.name=t,this._value=this.getProperty()}return t.prototype.getProperty=function(){return"function"==typeof this.options.getProperty?this.options.getProperty.call(this,this.item):this.options.value},t.prototype.getParents=function(){return this.item.tree.getParents()||[]},t.prototype.getParent=function(){return this.item.tree.getParent()},t.prototype.isGroup=function(){return this.item.tree.getDescendants().length},t.prototype.isBlocked=function(){var t=this;if(void 0===this._blocked){var e=this.item.tree.getParents();if(e){var r=e.find((function(e){var r=e.properties&&e.properties.property(t.name);return!!r&&!r.get()}));this._blocked=!!r}else this._blocked=!1}return this._blocked},t.prototype.set=function(t,e){this._value=this._prepareValue(t),this.update(this._value,e),this._fireChangeEvent(this._value,e)},t.prototype.get=function(){return this.getValue()},t.prototype.update=function(t,e){this._callOnSet(t,e)},t.prototype.getContainer=function(){return this._container},t.prototype.destroy=function(){if(this._container){var t=this._container.parentNode;t&&t.removeChild(this._container)}this._removeEventsListener&&this._removeEventsListener()},t.prototype.getValue=function(){return void 0!==this._value?this._value:this.getProperty()},t.prototype._prepareValue=function(t){return t},t.prototype._callOnSet=function(t,e){this.options.onSet&&this.options.onSet.call(this,t,e,this.item)},t.prototype._fireChangeEvent=function(t,e){var r=this;this.emitter&&(t=void 0!==t?t:this.getValue(),this.emitter.emit("change",{value:t,options:e}),this.item.tree.getParents().forEach((function(o){var n=o.properties&&o.properties.property(r.name);n&&n.emitter.emit("change-tree",{value:t,options:e,item:r.item})})))},t}(),p=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=function(){return(l=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},f=function(t){function e(r,o,n){var i=t.call(this,r,o,l(l({},e.options),n))||this;return i.set(i.get()),i}return p(e,t),e.prototype.update=function(t,e){if(t){if(e&&e.bubble||this.options.bubble){this.unBlock(e);var r=this.getParent(),o=r&&r.properties&&r.properties.property(this.name);o&&o.set(t,Object.assign({},e,{bubble:!0,propagation:!1}))}this.isBlocked()||this._turnOn(e)}else this._turnOff(e);(e&&e.propagation||this.options.propagation)&&this._propagation(t,e)},e.prototype.getHierarchyValue=function(){var t=this;return this.get()&&this.getParents().every((function(e){var r=e.properties&&e.properties.get(t.name);return r&&r.get()}))},e.prototype._prepareValue=function(t){return t},e.prototype._turnOff=function(t){this.options.turnOff&&this.options.turnOff.call(this,t),this._callOnSet(!1,t),this.options.hierarchy&&this.isGroup()&&this.blockChilds(t)},e.prototype._turnOn=function(t){this.options.turnOn&&this.options.turnOn.call(this,t),this._callOnSet(!0,t),this.options.hierarchy&&this.isGroup()&&this.unblockChilds(t)},e.prototype.block=function(t){this._blocked=!0,this._block(t)},e.prototype._block=function(t){this._turnOff(t)},e.prototype.unBlock=function(t){this._blocked=!1,this.getValue()&&this._unBlock(t)},e.prototype._unBlock=function(t){this._turnOn(t)},e.prototype.blockChilds=function(t){var e=this;this.item.tree.getDescendants().forEach((function(r){return e._blockChild(r,t)}))},e.prototype.unblockChilds=function(t){var e=this;this.item.tree.getChildren().forEach((function(r){return e._unBlockChild(r,t)}))},e.prototype._blockChild=function(t,e){var r=t.properties&&t.properties.property(this.name);r&&r.block&&r.block(e)},e.prototype._unBlockChild=function(t,e){var r=t.properties&&t.properties.property(this.name);r&&r.unBlock&&r.unBlock(e)},e.prototype._propagation=function(t,e){if(this.isGroup())for(var r=this.item.tree.getChildren(),o=0;o<r.length;o++){var n=r[o],i=n.properties&&n.properties.property(this.name);i&&i.set(t,l(l({},e),{propagation:!0,bubble:!1}))}},e.options={hierarchy:!0,bubble:!1,propagation:!1,label:"Toggle"},e}(c),h=function(){return(h=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},y=function(){function t(t,e){this.item=t,this.options={},this._properties={},this._propertiesList=[],e&&e.forEach(this._setPropertyHandler.bind(this))}return t.prototype.add=function(t){this._setPropertyHandler(t)},t.prototype._setPropertyHandler=function(e){var r=t.handlers,o=e.handler;if(!o&&e.type)switch(e.type){case"boolean":o=r.CheckProperty;break;case"string":o=r.BaseProperty;break;default:o=r.BaseProperty}if(o&&e.name){var n=h({},e||{});this._properties[e.name]=new o(e.name,this.item,n),this._propertiesList.push(e.name)}},t.prototype.update=function(){this.list().forEach((function(t){t.update()}))},t.prototype.get=function(t){var e=this.property(t);if(e)return e.get()},t.prototype.set=function(t,e,r){var o=this.property(t);if(o)return o.set(e,r)},t.prototype.property=function(t){return this._properties[t]},t.prototype.list=function(){var t=this;return this._propertiesList.map((function(e){return t._properties[e]}))},t.prototype.destroy=function(){for(var t in this._properties){var e=this.property(t);e&&e.destroy&&e.destroy()}this._properties={},this._propertiesList=[]},t.handlers={CheckProperty:f},t}(),d=function(){return(d=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};try{s=r(41)}catch(t){}var v=s&&s.EventEmitter,_=0,m=function(){function t(t){this.options={},this.id=_,this.emitter=v&&new v,_+=1,this.options=d({},t),this.tree=new i(this)}return t.prototype.initProperties=function(){this.properties=new y(this,this.options.properties)},t}();e.a=m},54:function(t){t.exports=JSON.parse('{"baseUrl":"https://pastandnow.nextgis.com","#qmsId":3033,"qmsId":448,"ngwMarkerLayerId":14,"layerWithPhotos":12,"districtsLayer":9,"feedbackUrl":"https://docs.google.com/forms/d/1sxwoa9CG5Lgl3LXFFxdGHLE6ETWBkA2a_vioFz_IEcQ/viewform?fbclid=IwAR1tx97wsOX9j4GLZCL8PhdW0ZOgZascQ3tHpXkhmGQ8q4CZuZG0W8NFuUg&edit_requested=true"}')}}]);
//# sourceMappingURL=main~f075b844-f9e8e9b.js.map